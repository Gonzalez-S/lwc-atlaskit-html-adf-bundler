!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AtlasKit=e():t.AtlasKit=e()}(this,()=>(()=>{var t,e,r={2:(t,e,r)=>{var n=r(2199),a=r(4664),i=r(5950);t.exports=function(t){return n(t,i,a)}},10:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._isTypeMatch=e._typeOf=void 0,e._typeOf=function(t){return Array.isArray(t)?"array":typeof t},e._isTypeMatch=function(t,e){const r=t=>Array.isArray(t)?"array":null===t?"null":typeof t;return r(t)===r(e)}},52:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._isDomainFailure=e.NetworkFallbackResolver=void 0;const a=r(457),i=r(3918),o=r(8024),s=r(1638),l=6048e5;function u(t,e){var r;const n=null!==(r=null==t?void 0:t.toLowerCase())&&void 0!==r?r:"";return e||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}function c(t){return`statsig.network_fallback.${(0,i._DJB2)(t)}`}function d(t,e){const r=c(t);e&&0!==Object.keys(e).length?s.Storage.setItem(r,JSON.stringify(e)):s.Storage.removeItem(r)}e.NetworkFallbackResolver=class{constructor(t){var e;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(e=t.networkConfig)||void 0===e?void 0:e.networkOverrideFunc}setErrorBoundary(t){this._errorBoundary=t}tryBumpExpiryTime(t,e){var r;const n=null===(r=this._fallbackInfo)||void 0===r?void 0:r[e.endpoint];n&&(n.expiryTime=Date.now()+l,d(t,Object.assign(Object.assign({},this._fallbackInfo),{[e.endpoint]:n})))}getActiveFallbackUrl(t,e){var r,n;if(null!=e.customUrl&&null!=e.fallbackUrls)return null;let a=this._fallbackInfo;null==a&&(a=null!==(r=function(t){const e=c(t),r=s.Storage.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(t){return o.Log.error("Failed to parse FallbackInfo"),null}}(t))&&void 0!==r?r:{},this._fallbackInfo=a);const i=a[e.endpoint];return!i||Date.now()>(null!==(n=i.expiryTime)&&void 0!==n?n:0)||e.getChecksum()!==i.urlConfigChecksum?(delete a[e.endpoint],this._fallbackInfo=a,d(t,this._fallbackInfo),null):i.url?i.url:null}tryFetchUpdatedFallbackInfo(t,e,r,a){return n(this,void 0,void 0,function*(){var n,i;try{if(!u(r,a))return!1;const i=null==e.customUrl&&null==e.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(e):e.fallbackUrls,o=this._pickNewFallbackUrl(null===(n=this._fallbackInfo)||void 0===n?void 0:n[e.endpoint],i);return!!o&&(this._updateFallbackInfoWithNewUrl(t,e,o),!0)}catch(t){return null===(i=this._errorBoundary)||void 0===i||i.logError("tryFetchUpdatedFallbackInfo",t),!1}})}_updateFallbackInfoWithNewUrl(t,e,r){var n,a,i;const o={urlConfigChecksum:e.getChecksum(),url:r,expiryTime:Date.now()+l,previous:[]},s=e.endpoint,u=null===(n=this._fallbackInfo)||void 0===n?void 0:n[s];u&&o.previous.push(...u.previous),o.previous.length>10&&(o.previous=[]);const c=null===(i=null===(a=this._fallbackInfo)||void 0===a?void 0:a[s])||void 0===i?void 0:i.url;null!=c&&o.previous.push(c),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[s]:o}),d(t,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(t){return n(this,void 0,void 0,function*(){var e;const r=this._dnsQueryCooldowns[t.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[t.endpoint]=Date.now()+144e5;const n=[],i=yield(0,a._fetchTxtRecords)(null!==(e=this._networkOverrideFunc)&&void 0!==e?e:fetch),o=function(t){try{return new URL(t).pathname}catch(t){return null}}(t.defaultUrl);for(const e of i){if(!e.startsWith(t.endpointDnsKey+"="))continue;const r=e.split("=");if(r.length>1){let t=r[1];t.endsWith("/")&&(t=t.slice(0,-1)),n.push(`https://${t}${o}`)}}return n})}_pickNewFallbackUrl(t,e){var r;if(null==e)return null;const n=new Set(null!==(r=null==t?void 0:t.previous)&&void 0!==r?r:[]),a=null==t?void 0:t.url;let i=null;for(const t of e){const e=t.endsWith("/")?t.slice(0,-1):t;if(!n.has(t)&&e!==a){i=e;break}}return i}},e._isDomainFailure=u},79:(t,e,r)=>{var n=r(3702),a=r(80),i=r(4739),o=r(8655),s=r(1175);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,t.exports=l},80:(t,e,r)=>{var n=r(6025),a=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():a.call(e,r,1),--this.size,!0)}},270:(t,e,r)=>{var n=r(7068),a=r(346);t.exports=function t(e,r,i,o,s){return e===r||(null==e||null==r||!a(e)&&!a(r)?e!=e&&r!=r:n(e,r,i,o,t,s))}},289:(t,e,r)=>{var n=r(2651);t.exports=function(t){return n(this,t).get(t)}},294:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},317:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},361:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},392:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},414:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getUnloadEvent=e._getCurrentPageUrlSafe=e._addDocumentEventListenerSafe=e._addWindowEventListenerSafe=e._isServerEnv=e._getDocumentSafe=e._getWindowSafe=void 0;e._getWindowSafe=()=>"undefined"!=typeof window?window:null;e._getDocumentSafe=()=>{var t;const r=(0,e._getWindowSafe)();return null!==(t=null==r?void 0:r.document)&&void 0!==t?t:null};e._isServerEnv=()=>{if(null!==(0,e._getDocumentSafe)())return!1;const t="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||t};e._addWindowEventListenerSafe=(t,r)=>{const n=(0,e._getWindowSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,r)};e._addDocumentEventListenerSafe=(t,r)=>{const n=(0,e._getDocumentSafe)();"function"==typeof(null==n?void 0:n.addEventListener)&&n.addEventListener(t,r)};e._getCurrentPageUrlSafe=()=>{var t;try{return null===(t=(0,e._getWindowSafe)())||void 0===t?void 0:t.location.href.split(/[?#]/)[0]}catch(t){return}};e._getUnloadEvent=()=>{const t=(0,e._getWindowSafe)();if(!t)return"beforeunload";return"onpagehide"in t?"pagehide":"beforeunload"}},457:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._fetchTxtRecords=void 0;const n=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),a=["i","e","d"];e._fetchTxtRecords=function(t){return r(this,void 0,void 0,function*(){const e=yield t("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:n});if(!e.ok){const t=new Error("Failed to fetch TXT records from DNS");throw t.name="DnsTxtFetchError",t}const r=yield e.arrayBuffer();return function(t){const e=t.findIndex((e,r)=>r<200&&"="===String.fromCharCode(e)&&a.includes(String.fromCharCode(t[r-1])));if(-1===e){const t=new Error("Failed to parse TXT records from DNS");throw t.name="DnsTxtParseError",t}let r="";for(let n=e-1;n<t.length;n++)r+=String.fromCharCode(t[n]);return r.split(",")}(new Uint8Array(r))})}},579:(t,e,r)=>{var n=r(3738).default;t.exports=function(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}throw new TypeError(n(t)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},659:(t,e,r)=>{var n=r(1873),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var a=o.call(t);return n&&(e?t[s]=r:delete t[s]),a}},686:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDKType=void 0;const r={};let n;e.SDKType={_get:t=>{var e;return(null!==(e=r[t])&&void 0!==e?e:"js-mono")+(null!=n?n:"")},_setClientType(t,e){r[t]=e},_setBindingType(t){n&&"-react"!==n||(n="-"+t)}}},689:(t,e,r)=>{var n=r(2),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,o,s){var l=1&r,u=n(t),c=u.length;if(c!=n(e).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in e:a.call(e,p)))return!1}var f=s.get(t),h=s.get(e);if(f&&h)return f==e&&h==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=l;++d<c;){var m=t[p=u[d]],y=e[p];if(i)var b=l?i(y,m,p,e,t,s):i(m,y,p,t,e,s);if(!(void 0===b?m===y||o(m,y,r,i,s):b)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var _=t.constructor,k=e.constructor;_==k||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof k&&k instanceof k||(g=!1)}return s.delete(t),s.delete(e),g}},695:(t,e,r)=>{var n=r(8096),a=r(2428),i=r(6449),o=r(3656),s=r(361),l=r(7167),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),c=!r&&a(t),d=!r&&!c&&o(t),p=!r&&!c&&!d&&l(t),f=r||c||d||p,h=f?n(t.length,String):[],g=h.length;for(var v in t)!e&&!u.call(t,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||h.push(v);return h}},843:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMemoKey=e.MemoPrefix=void 0,e.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const r=new Set([]),n=new Set(["userPersistedValues"]);e.createMemoKey=function(t,e,a){let i=`${t}|${e}`;if(!a)return i;for(const t of Object.keys(a)){if(n.has(t))return;r.has(t)?i+=`|${t}=true`:i+=`|${t}=${a[t]}`}return i}},882:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Diagnostics=void 0;const r=new Map,n="start",a="end",i="statsig::diagnostics";function o(t,e,r,n){return Object.assign({key:r,action:e,step:n,timestamp:Date.now()},t)}function s(t,e){var n;const a=null!==(n=r.get(t))&&void 0!==n?n:[];a.push(e),r.set(t,a)}function l(t,e){if(e in t)return t[e]}e.Diagnostics={_getMarkers:t=>r.get(t),_markInitOverallStart:t=>{s(t,o({},n,"overall"))},_markInitOverallEnd:(t,e,r)=>{s(t,o({success:e,error:e?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},a,"overall"))},_markInitNetworkReqStart:(t,e)=>{s(t,o(e,n,"initialize","network_request"))},_markInitNetworkReqEnd:(t,e)=>{s(t,o(e,a,"initialize","network_request"))},_markInitProcessStart:t=>{s(t,o({},n,"initialize","process"))},_markInitProcessEnd:(t,e)=>{s(t,o(e,a,"initialize","process"))},_clearMarkers:t=>{r.delete(t)},_formatError(t){if(t&&"object"==typeof t)return{code:l(t,"code"),name:l(t,"name"),message:l(t,"message")}},_getDiagnosticsData(t,r,n,a){var i;return{success:!0===(null==t?void 0:t.ok),statusCode:null==t?void 0:t.status,sdkRegion:null===(i=null==t?void 0:t.headers)||void 0===i?void 0:i.get("x-statsig-region"),isDelta:!0===n.includes('"is_delta":true')||void 0,attempt:r,error:e.Diagnostics._formatError(a)}},_enqueueDiagnosticsEvent(t,r,n,a){const o=e.Diagnostics._getMarkers(n);if(null==o||o.length<=0)return-1;const s=o[o.length-1].timestamp-o[0].timestamp;e.Diagnostics._clearMarkers(n);const l=function(t,e){const r={eventName:i,user:t,value:null,metadata:e,time:Date.now()};return r}(t,{context:"initialize",markers:o.slice(),statsigOptions:a});return r.enqueue(l),s}}},887:(t,e,r)=>{var n=r(6993),a=r(1791);t.exports=function(t,e,r,i,o){return new a(n().w(t,e,r,i),o||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},938:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},945:(t,e,r)=>{var n=r(79),a=r(8223),i=r(3661);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(t,e),this.size=r.size,this}},1042:(t,e,r)=>{var n=r(6110)(Object,"create");t.exports=n},1064:(t,e,r)=>{"use strict";t.exports=function(t){var e={};e.src_Any=r(3760).source,e.src_Cc=r(9001).source,e.src_Z=r(5097).source,e.src_P=r(8915).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><｜]";return e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},1148:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPDATE_DETAIL_ERROR_MESSAGES=e.createUpdateDetails=void 0;e.createUpdateDetails=(t,e,r,n,a,i)=>({duration:r,source:e,success:t,error:n,sourceUrl:a,warnings:i}),e.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},1175:(t,e,r)=>{var n=r(6025);t.exports=function(t,e){var r=this.__data__,a=n(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}},1180:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorTag=void 0,e.ErrorTag={NetworkError:"NetworkError"}},1308:t=>{t.exports=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},1380:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},1420:(t,e,r)=>{var n=r(79);t.exports=function(){this.__data__=new n,this.size=0}},1459:t=>{t.exports=function(t){return this.__data__.has(t)}},1549:(t,e,r)=>{var n=r(2032),a=r(3862),i=r(6721),o=r(2749),s=r(5749);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,t.exports=l},1570:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getFullUserHash=e._normalizeUser=void 0;const n=r(3918),a=r(8024);e._normalizeUser=function(t,e,r){try{const n=JSON.parse(JSON.stringify(t));return null!=e&&null!=e.environment?n.statsigEnvironment=e.environment:null!=r&&(n.statsigEnvironment={tier:r}),n}catch(t){return a.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},e._getFullUserHash=function(t){return t?(0,n._DJB2Object)(t):null}},1638:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._setObjectInStorage=e._getObjectFromStorage=e.Storage=void 0;const n=r(8024),a=r(414),i={},o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:t=>i[t]?i[t]:null,setItem:(t,e)=>{i[t]=e},removeItem:t=>{delete i[t]},getAllKeys:()=>Object.keys(i)};let s=null;try{const t=(0,a._getWindowSafe)();t&&t.localStorage&&"function"==typeof t.localStorage.getItem&&(s={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:e=>t.localStorage.getItem(e),setItem:(e,r)=>t.localStorage.setItem(e,r),removeItem:e=>t.localStorage.removeItem(e),getAllKeys:()=>Object.keys(t.localStorage)})}catch(t){n.Log.warn("Failed to setup localStorageProvider.")}let l=null!=s?s:o,u=l;function c(t){try{return t()}catch(t){if(t instanceof Error&&"SecurityError"===t.name)return e.Storage._setProvider(o),null;if(t instanceof Error&&"QuotaExceededError"===t.name){const r=e.Storage.getAllKeys().filter(t=>t.startsWith("statsig."));t.message=`${t.message}. Statsig Keys: ${r.length}`}throw t}}e.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:t=>c(()=>u.getItem(t)),setItem:(t,e)=>c(()=>u.setItem(t,e)),removeItem:t=>u.removeItem(t),getAllKeys:()=>u.getAllKeys(),_setProvider:t=>{l=t,u=t},_setDisabled:t=>{u=t?o:l}},e._getObjectFromStorage=function(t){const r=e.Storage.getItem(t);return JSON.parse(null!=r?r:"null")},e._setObjectInStorage=function(t,r){e.Storage.setItem(t,JSON.stringify(r))}},1791:(t,e,r)=>{var n=r(5172),a=r(5546);t.exports=function t(e,r){function i(t,a,o,s){try{var l=e[t](a),u=l.value;return u instanceof n?r.resolve(u.v).then(function(t){i("next",t,o,s)},function(t){i("throw",t,o,s)}):r.resolve(u).then(function(t){l.value=t,o(l)},function(t){return i("throw",t,o,s)})}catch(t){s(t)}}var o;this.next||(a(t.prototype),a(t.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(t,e,n){function a(){return new r(function(e,r){i(t,n,e,r)})}return o=o?o.then(a,a):a()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},1873:(t,e,r)=>{var n=r(9325).Symbol;t.exports=n},1882:(t,e,r)=>{var n=r(2552),a=r(3805);t.exports=function(t){if(!a(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1986:(t,e,r)=>{var n=r(1873),a=r(7828),i=r(5288),o=r(5911),s=r(317),l=r(4247),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,r,n,u,d,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new a(t),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var h=1&n;if(f||(f=l),t.size!=e.size&&!h)return!1;var g=p.get(t);if(g)return g==e;n|=2,p.set(t,e);var v=o(f(t),f(e),n,u,d,p);return p.delete(t),v;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},2032:(t,e,r)=>{var n=r(1042);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},2077:(t,e,r)=>{"use strict";r.d(e,{default:()=>Kl});var n=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function a(t,e){return t===e||!(!n(t)||!n(e))}function i(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!a(t[r],e[r]))return!1;return!0}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function l(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d=function(t){return function(e){var r=e.parseDOM,n=e.toDOM,a=e.toDebugString;return c(c(c(c({},t),r&&{parseDOM:r}),n&&{toDOM:n}),a&&{toDebugString:a})}},p=function(t){return function(e){var r=e.parseDOM,n=e.toDOM,a=e.toDebugString;return c(c(c(c({},t),r&&{parseDOM:r}),n&&{toDOM:n}),a&&{toDebugString:a})}},f=d({group:"block",attrs:{localId:{default:null},url:{default:null},datasource:{default:null},width:{default:null},layout:{default:null},data:{default:null}},selectable:!0,draggable:!0}),h=d({content:"(paragraph | orderedList | bulletList | unsupportedBlock | codeBlock | mediaSingle | mediaGroup | extension)+",marks:"unsupportedMark unsupportedNodeAttribute dataConsumer fragment",group:"block",attrs:{localId:{default:null}},selectable:!0,defining:!0}),g=d({content:"(paragraph | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{localId:{default:null}},selectable:!0,defining:!0}),v=d({content:"(paragraph | extension) (paragraph | extension)*",marks:"_",attrs:{localId:{default:""},state:{default:"TODO"}},selectable:!1,defining:!0}),m=d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock)+",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},selectable:!0,defining:!0,isolating:!0}),y=(d({marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},selectable:!0,defining:!0,isolating:!0}),d({content:"listItem+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{localId:{default:null}},selectable:!1})),b=d({content:"(hardBreak | mention | emoji | date | placeholder | inlineCard | status | text | unsupportedInline)*",marks:"_",attrs:{localId:{default:null}},selectable:!1,isolating:!0}),_=d({content:"(text | unsupportedInline)*",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{language:{default:null},uniqueId:{default:null},localId:{default:null}},code:!0,defining:!0}),k=(d({content:"(text | unsupportedInline)*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{language:{default:null},uniqueId:{default:null},localId:{default:null}},code:!0,defining:!0}),d({group:"inline",inline:!0,atom:!0,attrs:{issueKey:{default:""},macroId:{default:null},schemaVersion:{default:null},server:{default:null},serverId:{default:null}}})),O=d({group:"block",attrs:{cxhtml:{default:null}}}),x=d({group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}}}),w=d({group:"inline",inline:!0,attrs:{timestamp:{default:""},localId:{default:null}},selectable:!0}),E=(d({group:"inline",inline:!0,attrs:{timestamp:{default:""},localId:{default:null}},selectable:!0}),d({content:"inline*",marks:"_",attrs:{localId:{default:""},state:{default:"DECIDED"}},defining:!0})),D=d({content:"(decisionItem | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{localId:{default:""}},selectable:!1,defining:!0}),A=d({content:"(block | codeBlock | layoutSection | blockRootOnly | expand)+",marks:"unsupportedMark unsupportedNodeAttribute alignment indentation dataConsumer fragment breakout"}),C=d({group:"block",attrs:{url:{default:""},layout:{default:"center"},width:{default:100},originalHeight:{default:null},originalWidth:{default:null},localId:{default:null}},selectable:!0}),S=d({group:"inline",inline:!0,attrs:{shortName:{default:""},id:{default:""},text:{default:""},localId:{default:null}},selectable:!0}),j=(d({group:"inline",inline:!0,attrs:{shortName:{default:""},id:{default:""},text:{default:""},localId:{default:null}},selectable:!0}),d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock | nestedExpand)+",marks:"unsupportedMark unsupportedNodeAttribute fragment dataConsumer",group:"block",attrs:{title:{default:""},__expanded:{default:!0},localId:{default:null}},selectable:!0,isolating:!0})),I=(d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock | nestedExpand)+",marks:"unsupportedMark unsupportedNodeAttribute fragment dataConsumer",attrs:{title:{default:""},__expanded:{default:!0},localId:{default:null}},selectable:!0,isolating:!0}),d({group:"block",atom:!0,attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},selectable:!0})),F=(d({group:"block",atom:!0,attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},selectable:!0}),d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | extension | bodiedExtension | unsupportedBlock | blockCard | embedCard)+",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",attrs:{},selectable:!1,definingAsContext:!1,definingForContent:!0,isolating:!0})),M=d({group:"inline",inline:!0,attrs:{text:{default:"\n"},localId:{default:null}},selectable:!1,linebreakReplacement:!0}),P=d({content:"inline*",marks:"link em strong strike subsup underline textColor annotation backgroundColor typeAheadQuery confluenceInlineComment unsupportedNodeAttribute unsupportedMark code dataConsumer fragment border",group:"block",attrs:{level:{default:1},localId:{default:null}},selectable:!1,defining:!0}),L=(d({group:"block",attrs:{level:{default:1},localId:{default:null}},selectable:!1,defining:!0}),d({group:"block",attrs:{level:{default:1},localId:{default:null}},selectable:!1,defining:!0}),d({group:"block",attrs:{level:{default:1},localId:{default:null}},selectable:!1,defining:!0}),d({group:"inline",inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:null}},draggable:!0})),T=d({group:"inline",inline:!0,attrs:{url:{default:null},localId:{default:null},data:{default:null}},selectable:!0,draggable:!0}),N=(d({group:"inline",inline:!0,attrs:{url:{default:null},localId:{default:null},data:{default:null}},selectable:!0,draggable:!0}),d({group:"inline",inline:!0,attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},localId:{default:null}},selectable:!0}),d({group:"inline",inline:!0,attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},localId:{default:null}},selectable:!0})),B=d({content:"(block | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute alignment indentation dataConsumer fragment",attrs:{width:{default:void 0},localId:{default:null}},selectable:!1,isolating:!0}),z=d({content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:null}},isolating:!0}),U=d({content:"(layoutColumn | unsupportedBlock){2,3}",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:null}},isolating:!0}),R=d({content:"(layoutColumn | unsupportedBlock){1,5} unsupportedBlock*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{columnRuleStyle:{default:null},localId:{default:null}},isolating:!0}),V=d({content:"(paragraph | mediaSingle | codeBlock | unsupportedBlock | extension) (paragraph | bulletList | orderedList | taskList | mediaSingle | codeBlock | unsupportedBlock | extension)*",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:null}},selectable:!1,defining:!0}),K=d({content:"(paragraph | mediaSingle | codeBlock | unsupportedBlock | decisionList | extension) (paragraph | bulletList | orderedList | taskList | mediaSingle | codeBlock | unsupportedBlock | decisionList | extension)*",marks:"unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{localId:{default:null}},selectable:!1,defining:!0}),G=d({attrs:{type:{default:"file"},localId:{default:null},id:{default:""},alt:{default:""},collection:{default:""},height:{default:null},occurrenceKey:{default:null},width:{default:null},__contextId:{default:null},__displayType:{default:null},__external:{default:!1},__fileMimeType:{default:null},__fileName:{default:null},__fileSize:{default:null},__mediaTraceId:{default:null},url:{default:null}},selectable:!0}),q=d({content:"(media | unsupportedBlock)+",marks:"link annotation border unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{},selectable:!1}),$=d({group:"inline",inline:!0,attrs:{type:{default:"file"},localId:{default:null},url:{default:null},id:{default:""},alt:{default:""},collection:{default:""},occurrenceKey:{default:null},width:{default:null},height:{default:null},__fileName:{default:null},__fileSize:{default:null},__fileMimeType:{default:null},__displayType:{default:null},__contextId:{default:null},__mediaTraceId:{default:null},__external:{default:!1}},selectable:!0}),J=d({group:"block",atom:!0,attrs:{layout:{default:"center"},width:{default:null}},selectable:!0,content:"media|unsupportedBlock+|media unsupportedBlock+",marks:"annotation border link unsupportedMark unsupportedNodeAttribute"}),W=d({content:"media|unsupportedBlock+|media (caption|unsupportedBlock) unsupportedBlock*",marks:"link annotation border unsupportedMark unsupportedNodeAttribute",group:"block",atom:!1,attrs:{layout:{default:"center"},width:{default:null}},selectable:!0}),H=d({content:"media|unsupportedBlock+|media (caption|unsupportedBlock) unsupportedBlock*",marks:"link annotation border unsupportedMark unsupportedNodeAttribute",group:"block",atom:!1,attrs:{localId:{default:null},width:{default:null},layout:{default:"center"},widthType:{default:null}},selectable:!0}),Z=d({content:"media|unsupportedBlock+|media unsupportedBlock+",marks:"link annotation border unsupportedMark unsupportedNodeAttribute",group:"block",atom:!0,attrs:{localId:{default:null},width:{default:null},layout:{default:"center"},widthType:{default:null}},selectable:!0}),Q=d({group:"inline",inline:!0,attrs:{id:{default:""},localId:{default:null},text:{default:""},accessLevel:{default:""},userType:{default:null}},selectable:!0}),X=(d({group:"inline",inline:!0,attrs:{id:{default:""},localId:{default:null},text:{default:""},accessLevel:{default:""},userType:{default:null}},selectable:!0}),d({content:"extensionFrame+",marks:"unsupportedNodeAttribute unsupportedMark",group:"blockRootOnly",attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},selectable:!0,definingAsContext:!0})),Y=d({content:"(paragraph | heading | mediaSingle | mediaGroup | codeBlock | bulletList | orderedList | taskList | decisionList | rule | panel | blockquote | unsupportedBlock | extension)+",marks:"unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{title:{default:""},__expanded:{default:!0},localId:{default:null}},selectable:!0,isolating:!0}),tt=(d({attrs:{title:{default:""},__expanded:{default:!0},localId:{default:null}},selectable:!0,isolating:!0}),d({content:"listItem+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{order:{default:1},localId:{default:null}},selectable:!1})),et=d({content:"(paragraph | heading | bulletList | orderedList | blockCard | mediaGroup | mediaSingle | codeBlock | taskList | rule | decisionList | unsupportedBlock | extension)+",marks:"unsupportedMark unsupportedNodeAttribute dataConsumer fragment",group:"block",attrs:{panelType:{default:"info"},panelIcon:{default:null},panelIconId:{default:null},panelIconText:{default:null},panelColor:{default:null},localId:{default:null}},selectable:!0}),rt=d({content:"inline*",marks:"link em strong strike subsup underline textColor annotation backgroundColor typeAheadQuery confluenceInlineComment unsupportedNodeAttribute unsupportedMark code dataConsumer fragment border",group:"block",attrs:{localId:{default:null}},selectable:!1}),nt=(d({group:"block",attrs:{localId:{default:null}},selectable:!1}),d({group:"block",attrs:{localId:{default:null}},selectable:!1}),d({group:"block",attrs:{localId:{default:null}},selectable:!1}),d({marks:"",group:"inline",inline:!0,attrs:{text:{default:""},localId:{default:null}},selectable:!1})),at=d({group:"block",attrs:{localId:{default:null}}}),it=d({group:"inline",inline:!0,attrs:{text:{default:""},color:{default:""},localId:{default:""},style:{default:""}},selectable:!0}),ot=(d({group:"inline",inline:!0,attrs:{text:{default:""},color:{default:""},localId:{default:""},style:{default:""}},selectable:!0}),d({content:"tableRow+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{displayMode:{default:null},isNumberColumnEnabled:{default:!1},layout:{default:"default"},localId:{default:""},width:{default:null},__autoSize:{default:!1}},selectable:!0,isolating:!0,tableRole:"table"})),st=d({content:"tableRow+",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{displayMode:{default:null},isNumberColumnEnabled:{default:!1},layout:{default:"default"},localId:{default:""},width:{default:null},__autoSize:{default:!1}},selectable:!0,isolating:!0,tableRole:"table"}),lt=d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | unsupportedBlock)+",marks:"alignment unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null},localId:{default:null}},selectable:!1,isolating:!0,tableRole:"cell"}),ut=d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | unsupportedBlock | table)+",marks:"alignment unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null},localId:{default:null}},selectable:!1,isolating:!0,tableRole:"cell"}),ct=d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand)+",marks:"alignment unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null},localId:{default:null}},selectable:!1,isolating:!0,tableRole:"header_cell"}),dt=d({content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle | mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | table)+",marks:"alignment unsupportedMark unsupportedNodeAttribute dataConsumer fragment",attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null},localId:{default:null}},selectable:!1,isolating:!0,tableRole:"header_cell"}),pt=d({content:"(tableCell | tableHeader)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:null}},selectable:!1,tableRole:"row"}),ft=d({content:"(tableCell | tableHeader)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:null}},selectable:!1,tableRole:"row"}),ht=d({content:"inline*",marks:"_",attrs:{localId:{default:""},state:{default:"TODO"}},selectable:!1,defining:!0}),gt=d({content:"(taskItem | unsupportedBlock | blockTaskItem)+ (taskItem | taskList | unsupportedBlock | blockTaskItem)*",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",attrs:{localId:{default:""}},selectable:!1,defining:!0}),vt=d({group:"inline"}),mt=(d({group:"inline"}),d({group:"inline"}),d({}),d({group:"block",atom:!0,attrs:{originalValue:{default:{}}},selectable:!0})),yt=d({group:"inline",inline:!0,attrs:{originalValue:{default:{}}},selectable:!0}),bt=!1,_t=function(){return bt||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},kt=z({parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}}),Ot=(U({parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}}),R({parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]",getAttrs:function(t){var e=t.getAttribute("data-column-rule-style");return e?{columnRuleStyle:e}:{}}}],toDOM:function(t){return["div",{"data-layout-section":"true","data-column-rule-style":t.attrs.columnRuleStyle||void 0},0]}})),xt=(U({parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){return["div",{"data-layout-section":"true","data-local-id":t.attrs.localId},0]}}),R({parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]",getAttrs:function(t){var e=t.getAttribute("data-column-rule-style"),r=_t();return e?{columnRuleStyle:e,localId:r}:{localId:r}}}],toDOM:function(t){var e;return["div",{"data-layout-section":"true","data-column-rule-style":t.attrs.columnRuleStyle||void 0,"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getAttribute("data-extension-type"),n=t.getAttribute("data-extension-key");if(!r||!n)return!1;var a,i={extensionType:r,extensionKey:n,text:t.getAttribute("data-text")||void 0,parameters:JSON.parse(t.getAttribute("data-parameters")||"{}"),localId:t.getAttribute("data-local-id")||void 0};if(!e){var o=t.getAttribute("data-layout");i.layout=(a=o)&&["default","wide","full-width"].includes(a)?o:"default"}return i}),wt=F({parseDOM:[{context:"extensionFrame//",tag:"div[data-extension-frame]",skip:!0},{tag:"div[data-extension-frame]"}],toDOM:function(){return["div",{"data-extension-frame":"true"},0]}}),Et=X({parseDOM:[{context:"multiBodiedExtension//",tag:'[data-node-type="multi-bodied-extension"]',skip:!0},{tag:'[data-node-type="multi-bodied-extension"]',getAttrs:function(t){return xt(t)}}],toDOM:function(t){return["div",{"data-node-type":"multi-bodied-extension","data-extension-type":t.attrs.extensionType,"data-extension-key":t.attrs.extensionKey,"data-text":t.attrs.text,"data-parameters":JSON.stringify(t.attrs.parameters),"data-layout":t.attrs.layout,"data-local-id:":t.attrs.localId},0]}});function Dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ct(t){return{title:t.getAttribute("data-title"),__expanded:!0}}var St=j({parseDOM:[{context:"table//",tag:'div[data-node-type="expand"]',getAttrs:Ct},{context:"expand//",tag:'[data-node-type="expand"]',getAttrs:Ct},{context:"nestedExpand//",tag:'[data-node-type="expand"]',getAttrs:Ct},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="expand"]',getAttrs:Ct}],toDOM:function(t){return["div",{"data-node-type":"expand","data-title":t.attrs.title,"data-expanded":t.attrs.__expanded},0]}}),jt=(j({parseDOM:[{context:"table//",tag:'div[data-node-type="expand"]',getAttrs:function(t){return At(At({},Ct(t)),{},{localId:_t()})}},{context:"expand//",tag:'[data-node-type="expand"]',getAttrs:function(t){return At(At({},Ct(t)),{},{localId:_t()})}},{context:"nestedExpand//",tag:'[data-node-type="expand"]',getAttrs:function(t){return At(At({},Ct(t)),{},{localId:_t()})}},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="expand"]',getAttrs:function(t){return At(At({},Ct(t)),{},{localId:_t()})}}],toDOM:function(t){var e;return["div",{"data-node-type":"expand","data-title":t.attrs.title,"data-expanded":t.attrs.__expanded,"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),V({parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}})),It=(V({parseDOM:[{tag:"li",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["li",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),K({parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}));K({parseDOM:[{tag:"li",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["li",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}});function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e){if(t){if("string"==typeof t)return Ft(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(t,e):void 0}}function Pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){u=!0,a=t}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(t,e)||Mt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function Nt(t,e,r){return e&&Tt(t.prototype,e),r&&Tt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bt(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function zt(t,e,r,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function Ut(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function o(t){zt(i,n,a,o,s,"next",t)}function s(t){zt(i,n,a,o,s,"throw",t)}o(void 0)})}}var Rt=r(4756),Vt=r.n(Rt),Kt=r(5138),Gt=r(3011);function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Jt="@all-features",Wt=function(){return Nt(function t(){Lt(this,t),l(this,"eventToValue",new Map),this.emitter=new Gt.EventEmitter2},[{key:"onGateUpdated",value:function(t,e,r,n){var a=this,i=r(t,$t($t({},n),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(e)&&this.eventToValue.set(e,i);var o=function(){var i=r(t,$t($t({},n),{},{fireGateExposure:!1}));a.eventToValue.get(e)!==i&&(a.eventToValue.set(e,i),e(i))};return this.emitter.on(t,o),function(){a.emitter.off(t,o)}}},{key:"onExperimentValueUpdated",value:function(t,e,r,n,a,i){var o=this,s="".concat(t,".").concat(e),l=a(t,e,r,$t($t({},i),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(n)&&this.eventToValue.set(n,l);var u=function(){var s=a(t,e,r,$t($t({},i),{},{fireExperimentExposure:!1}));o.eventToValue.get(n)!==s&&(o.eventToValue.set(n,s),n(s))};return this.emitter.on(s,u),function(){o.emitter.off(s,u)}}},{key:"onAnyUpdated",value:function(t){var e=this;return this.emitter.on(Jt,t),function(){e.emitter.off(Jt,t)}}},{key:"anyUpdated",value:function(){var t=this;this.emitter.emit(Jt),this.emitter.eventNames().filter(function(t){return t!==Jt}).forEach(function(e){t.emitter.emit(e)})}}])}();function Ht(){var t,e=globalThis,r=e.MICROS_PERIMETER||e.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return"fedramp-moderate"===r;var n=null===(t=e.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!n&&n.length>0}var Zt=function(t){return t.Error="Error",t.LocalOverride="LocalOverride",t.Unrecognized="Unrecognized",t.Uninitialized="Uninitialized",t.NetworkNotModified="NetworkNotModified",t.Network="Network",t.InvalidBootstrap="InvalidBootstrap",t.Bootstrap="Bootstrap",t.Cache="Cache",t.Unknown="Unknown",t}({}),Qt=function(t){return t.Development="development",t.Staging="staging",t.Production="production",t}({}),Xt=function(t){return t.COMMERCIAL="commercial",t.FEDRAMP_MODERATE="fedramp-moderate",t}({}),Yt=["api","disableCurrentPageLogging","loggingIntervalMillis","loggingBufferMaxSize","localMode","eventLoggingApi","eventLoggingApiForRetries","disableLocalStorage","ignoreWindowUndefined","disableAllLogging","initTimeoutMs","disableNetworkKeepalive","overrideStableID","disableErrorLogging","disableAutoMetricsLogging"];function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var re=function(t){return ee({perimeter:Ht()?Xt.FEDRAMP_MODERATE:Xt.COMMERCIAL},t)},ne=function(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;var r=Object.entries(t),n=Object.entries(e);if(r.length!==n.length)return!1;var a=function(t,e){var r=Pt(t,1)[0],n=Pt(e,1)[0];return r.localeCompare(n)};r.sort(a),n.sort(a);for(var i=0;i<r.length;i++){if(Pt(r[i],2)[1]!==Pt(n[i],2)[1])return!1}return!0},ae=function(t,e,r){var n={customIDs:null!=e&&e.stableID||!r?t:ee({stableID:Kt.StableID.get(r)},t),custom:e};return t.atlassianAccountId&&(n.userID=t.atlassianAccountId),n},ie=function(t){var e=t.api,r=t.disableCurrentPageLogging,n=t.loggingIntervalMillis,a=t.loggingBufferMaxSize,i=t.localMode,o=t.eventLoggingApi,s=t.eventLoggingApiForRetries,l=t.disableLocalStorage,u=t.ignoreWindowUndefined,c=t.disableAllLogging;t.initTimeoutMs,t.disableNetworkKeepalive,t.overrideStableID,t.disableErrorLogging,t.disableAutoMetricsLogging;return ee(ee({},Bt(t,Yt)),{},{networkConfig:{api:e,logEventUrl:o?o+"rgstr":void 0,logEventFallbackUrls:s?[s]:void 0,preventAllNetworkTraffic:i||!u&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:n,loggingBufferMaxSize:a,disableStorage:void 0===l?i:l,disableLogging:void 0===c?i:c})},oe=Object.entries(Zt).map(function(t){var e=Pt(t,2),r=e[0],n=e[1];return[r.toLowerCase(),n]}),se=function(t){var e,r,n,a=t.reason.toLowerCase();return{reason:null!==(e=null===(r=oe.find(function(t){var e=Pt(t,1)[0];return a.includes(e)}))||void 0===r?void 0:r[1])&&void 0!==e?e:Zt.Unknown,time:null!==(n=t.receivedAt)&&void 0!==n?n:Date.now()}},le=function(){function t(e,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Lt(this,t),this.value=r,this._name=e,this._ruleID=n,this._secondaryExposures=i,this._allocatedExperimentName=o,this._evaluationDetails=a,this._onDefaultValueFallback=s}return Nt(t,[{key:"get",value:function(t,e,r){var n,a=this.getValue(t,e);if(null==a)return e;var i,s=Array.isArray(e)?"array":o(e),l=Array.isArray(a)?"array":o(a);return r?r(a)?(this.fireExposure(t),a):(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,t,s,l),e):null==e||s===l?(this.fireExposure(t),a):(null===(n=this._onDefaultValueFallback)||void 0===n||n.call(this,this,t,s,l),e)}},{key:"getValue",value:function(t,e){return null==t?this.value:(null==e&&(e=null),null==this.value[t]?e:(this.fireExposure(t),this.value[t]))}},{key:"fireExposure",value:function(t){this.experiment&&this.experiment.get(t)}}],[{key:"fromExperiment",value:function(e){var r,n,a=new t(e.name,e.value,e.ruleID,se(e.details),null===(r=e.__evaluation)||void 0===r?void 0:r.secondary_exposures,null!==(n=e.groupName)&&void 0!==n?n:void 0);return a.experiment=e,a}}])}(),ue=function(){function t(e,r,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Lt(this,t),this._logParameterFunction=i,this._name=e,this._value=JSON.parse(JSON.stringify(null!=r?r:{})),this._ruleID=null!=n?n:"",this._evaluationDetails=a,this._secondaryExposures=o,this._undelegatedSecondaryExposures=s,this._allocatedExperimentName=l,this._explicitParameters=u}return Nt(t,[{key:"get",value:function(t,e,r){var n=this,a=this._value[t];if(null==a)return e;var i=function(){return n._logLayerParameterExposure(t),a};return r?r(a)?i():e:null==e||o(a)===o(e)&&Array.isArray(e)===Array.isArray(a)?i():e}},{key:"getValue",value:function(t,e){null==e&&(e=null);var r=this._value[t];return null!=r&&this._logLayerParameterExposure(t),null!=r?r:e}},{key:"_logLayerParameterExposure",value:function(t){var e;null===(e=this._logParameterFunction)||void 0===e||e.call(this,this,t)}}],[{key:"fromLayer",value:function(e){var r,n,a,i;return new t(e.name,e.__value,e.ruleID,se(e.details),function(t,r){return e.get(r)},null===(r=e.__evaluation)||void 0===r?void 0:r.secondary_exposures,null===(n=e.__evaluation)||void 0===n?void 0:n.undelegated_secondary_exposures,null===(a=e.__evaluation)||void 0===a?void 0:a.allocated_experiment_name,null===(i=e.__evaluation)||void 0===i?void 0:i.explicit_parameters)}}])}(),ce="4.26.5";function de(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pe(t){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pe(t)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fe(t,e)}function he(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}function ge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ge=function(){return!!t})()}function ve(t){var e="function"==typeof Map?new Map:void 0;return ve=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(ge())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var a=new(t.bind.apply(t,n));return r&&fe(a,r.prototype),a}(t,arguments,pe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fe(r,t)},ve(t)}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(me=function(){return!!t})()}var ye=function(t){function e(t){return Lt(this,e),r=this,a=[t],n=pe(n=e),de(r,me()?Reflect.construct(n,a||[],pe(r).constructor):n.apply(r,a));var r,n,a}return he(e,t),Nt(e)}(ve(Error));function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ke=function(){function t(){Lt(this,t)}return Nt(t,null,[{key:"fetchClientSdk",value:(i=Ut(Vt().mark(function t(e){var r,n;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.targetApp,n="/api/v2/frontend/clientSdkKey/".concat(r),t.prev=2,t.next=5,this.fetchRequest(n,"GET",e);case 5:return t.abrupt("return",t.sent);case 8:if(t.prev=8,t.t0=t.catch(2),!(t.t0 instanceof Error)){t.next=12;break}throw t.t0;case 12:throw Error("Failed to retrieve client sdk key");case 13:case"end":return t.stop()}},t,this,[[2,8]])})),function(t){return i.apply(this,arguments)})},{key:"fetchExperimentValues",value:(a=Ut(Vt().mark(function t(e,r,n){var a;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={identifiers:r,customAttributes:n,targetApp:e.targetApp},t.prev=1,t.next=4,this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,a);case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!(t.t0 instanceof Error)){t.next=11;break}throw t.t0;case 11:throw Error("Failed to retrieve experiment values");case 12:case"end":return t.stop()}},t,this,[[1,7]])})),function(t,e,r){return a.apply(this,arguments)})},{key:"handleResponseError",value:(n=Ut(Vt().mark(function t(e){var r;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=5;break}return t.next=3,e.text();case 3:throw r=t.sent,new ye("Non 2xx response status received, status: ".concat(e.status,", body: ").concat(JSON.stringify(r)));case 5:if(204!==e.status){t.next=7;break}throw new ye("Unexpected 204 response");case 7:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)})},{key:"extractResponseBody",value:(r=Ut(Vt().mark(function t(e){var r;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.text();case 2:return r=t.sent,t.abrupt("return",JSON.parse(r));case 4:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)})},{key:"getBaseUrl",value:function(t){var e=arguments.length>2?arguments[2]:void 0;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"/gateway/api/flags";if(e===Xt.FEDRAMP_MODERATE)switch(t){case Qt.Production:return"https://api.atlassian-us-gov-mod.com/flags";case Qt.Staging:return"https://api.stg.atlassian-us-gov-mod.com/flags";default:throw new Error('Invalid environment "'.concat(t,'" for "').concat(e,'" perimeter'))}else{if(e!==Xt.COMMERCIAL)throw new Error('Invalid perimeter "'.concat(e,'"'));switch(t){case Qt.Development:return"https://api.dev.atlassian.com/flags";case Qt.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}}}},{key:"fetchRequest",value:(e=Ut(Vt().mark(function e(r,n,a,i){var o,s,l,u,c;return Vt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getBaseUrl(a.environment,a.useGatewayURL,a.perimeter),s=a.fetchTimeoutMs||5e3,AbortSignal.timeout?l=AbortSignal.timeout(s):AbortController&&(u=new AbortController,l=u.signal,setTimeout(function(){return u.abort()},s)),e.next=5,fetch("".concat(o).concat(r),_e({method:n,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":ce,"X-API-KEY":a.apiKey},signal:l},i&&{body:JSON.stringify(i)}));case 5:return c=e.sent,e.next=8,this.handleResponseError(c);case 8:return e.next=10,this.extractResponseBody(c);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(t,r,n,a){return e.apply(this,arguments)})}]);var e,r,n,a,i}();function Oe(){return Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=pe(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},Oe.apply(null,arguments)}function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ee=function(){return!!t})()}var De=function(t){function e(){var t,r,n,a;return Lt(this,e),r=this,a=["NoFetchDataAdapter","nofetch"],n=pe(n=e),l(t=de(r,Ee()?Reflect.construct(n,a||[],pe(r).constructor):n.apply(r,a)),"bootstrapResult",null),t}return he(e,t),Nt(e,[{key:"setBootstrapData",value:function(t){this.bootstrapResult=t?{source:"Bootstrap",data:JSON.stringify(t),receivedAt:Date.now(),stableID:Kt.StableID.get(this._getSdkKey()),fullUserHash:null}:null}},{key:"prefetchData",value:(a=Ut(Vt().mark(function t(e,r){return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(t,e){return a.apply(this,arguments)})},{key:"getDataAsync",value:(n=Ut(Vt().mark(function t(e,r,n){return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.bootstrapResult&&we(we({},this.bootstrapResult),{},{fullUserHash:(0,Kt._getFullUserHash)(r)}));case 1:case"end":return t.stop()}},t,this)})),function(t,e,r){return n.apply(this,arguments)})},{key:"getDataSync",value:function(t){return this.bootstrapResult&&we(we({},this.bootstrapResult),{},{fullUserHash:(0,Kt._getFullUserHash)(t)})}},{key:"_fetchFromNetwork",value:(r=Ut(Vt().mark(function t(e,r,n){return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}},t)})),function(t,e,n){return r.apply(this,arguments)})},{key:"_getCacheKey",value:function(t){var e=(0,Kt._getStorageKey)(this._getSdkKey(),t);return"".concat(Kt.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(e)}},{key:"_isCachedResultValidFor204",value:function(t,e){return!1}},{key:"setDataLegacy",value:function(t,r){var n,a,i,o,s;(n=e,a="setData",i=this,s=Oe(pe(1&(o=3)?n.prototype:n),a,i),2&o&&"function"==typeof s?function(t){return s.apply(i,t)}:s)([t,r])}},{key:"toJSON",value:function(){var t=we({},this);return delete t._options,delete t._inMemoryCache,delete t.bootstrapResult,t}}]);var r,n,a}(Kt.DataAdapterCore),Ae=r(6978);function Ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function je(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ie(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Fe="LocalOverride:Recognized",Me="STATSIG_JS_LITE_LOCAL_OVERRIDES",Pe=function(t,e){return e+":"+t},Le=function(){return Nt(function t(e){Lt(this,t),this._overrides={gates:{},configs:{},layers:{}},this._djb2Map=new Map,this._localStorageKey=e},[{key:"parseStoredOverrides",value:function(t){try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):{gates:{},configs:{},layers:{}}}catch(t){return{gates:{},configs:{},layers:{}}}}},{key:"mergeOverrides",value:function(){for(var t={gates:{},configs:{},layers:{}},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var a=0,i=r;a<i.length;a++){for(var o=i[a],s=0,l=Object.entries(null!==(u=o.gates)&&void 0!==u?u:{});s<l.length;s++){var u,c=Pt(l[s],2),d=c[0],p=c[1];t.gates[d]=p}for(var f=0,h=Object.entries(null!==(g=o.configs)&&void 0!==g?g:{});f<h.length;f++){var g,v=Pt(h[f],2),m=v[0],y=v[1];t.configs[m]=y}for(var b=0,_=Object.entries(null!==(k=o.layers)&&void 0!==k?k:{});b<_.length;b++){var k,O=Pt(_[b],2),x=O[0],w=O[1];t.layers[x]=w}}return t}},{key:"initFromStoredOverrides",value:function(){var t=this.mergeOverrides(this._overrides,this.parseStoredOverrides(Me),this.parseStoredOverrides(this._localStorageKey));try{window.localStorage.removeItem(Me)}catch(t){}for(var e=0,r=Object.values(t);e<r.length;e++){var n,a=r[e],i=new Set(Object.keys(a)),o=je(i);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=(0,Ae._DJB2)(s);i.has(l)&&delete a[l]}}catch(t){o.e(t)}finally{o.f()}}this.applyOverrides(t)}},{key:"saveOverrides",value:function(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch(t){}}},{key:"getOverrides",value:function(){return this.mergeOverrides(this._overrides)}},{key:"applyOverrides",value:function(t){var e=Se(Se({},{gates:{},configs:{},layers:{}}),t);this._djb2Map.clear();for(var r=0,n=Object.entries(e);r<n.length;r++)for(var a=Pt(n[r],2),i=a[0],o=a[1],s=0,l=Object.entries(o);s<l.length;s++){var u=Pt(l[s],2),c=u[0],d=u[1];this._djb2Map.set(Pe((0,Ae._DJB2)(c),i),d)}this._overrides=e}},{key:"setOverrides",value:function(t){this.applyOverrides(t),this.saveOverrides()}},{key:"overrideGate",value:function(t,e){this._overrides.gates[t]=e,this._djb2Map.set(Pe((0,Ae._DJB2)(t),"gates"),e),this.saveOverrides()}},{key:"removeGateOverride",value:function(t){delete this._overrides.gates[t],this._djb2Map.delete(Pe((0,Ae._DJB2)(t),"gates")),this.saveOverrides()}},{key:"getGateOverride",value:function(t,e){var r,n=null!==(r=this._overrides.gates[t.name])&&void 0!==r?r:this._djb2Map.get(Pe(t.name,"gates"));return null==n?null:Se(Se({},t),{},{value:n,details:Se(Se({},t.details),{},{reason:Fe})})}},{key:"overrideDynamicConfig",value:function(t,e){this._overrides.configs[t]=e,this._djb2Map.set(Pe((0,Ae._DJB2)(t),"configs"),e),this.saveOverrides()}},{key:"removeDynamicConfigOverride",value:function(t){delete this._overrides.configs[t],this._djb2Map.delete(Pe((0,Ae._DJB2)(t),"configs")),this.saveOverrides()}},{key:"getDynamicConfigOverride",value:function(t,e){return this._getConfigOverride(t,this._overrides.configs)}},{key:"overrideExperiment",value:function(t,e){this._overrides.configs[t]=e,this._djb2Map.set(Pe((0,Ae._DJB2)(t),"configs"),e),this.saveOverrides()}},{key:"removeExperimentOverride",value:function(t){delete this._overrides.configs[t],this._djb2Map.delete(Pe((0,Ae._DJB2)(t),"configs")),this.saveOverrides()}},{key:"getExperimentOverride",value:function(t,e){return this._getConfigOverride(t,this._overrides.configs)}},{key:"overrideLayer",value:function(t,e){this._overrides.layers[t]=e,this._djb2Map.set(Pe((0,Ae._DJB2)(t),"layers"),e),this.saveOverrides()}},{key:"removeLayerOverride",value:function(t){delete this._overrides.layers[t],this._djb2Map.delete(Pe((0,Ae._DJB2)(t),"layers")),this.saveOverrides()}},{key:"removeAllOverrides",value:function(){this._overrides={gates:{},configs:{},layers:{}};try{window.localStorage.removeItem(this._localStorageKey)}catch(t){}}},{key:"getLayerOverride",value:function(t,e){var r,n=null!==(r=this._overrides.layers[t.name])&&void 0!==r?r:this._djb2Map.get(Pe(t.name,"layers"));return null==n?null:Se(Se({},t),{},{__value:n,get:(0,Ae._makeTypedGet)(t.name,n),details:Se(Se({},t.details),{},{reason:Fe})})}},{key:"_getConfigOverride",value:function(t,e){var r,n=null!==(r=e[t.name])&&void 0!==r?r:this._djb2Map.get(Pe(t.name,"configs"));return null==n?null:Se(Se({},t),{},{value:n,get:(0,Ae._makeTypedGet)(t.name,n),details:Se(Se({},t.details),{},{reason:Fe})})}}])}(),Te=["sdkKey","environment","updateUserCompletionCallback","perimeter"];function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ze,Ue="client-default-key",Re=function(){return Nt(function t(){var e=this,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).localStorageKey,n=void 0===r?"STATSIG_OVERRIDES":r;Lt(this,t),l(this,"initPromise",null),l(this,"initCompleted",!1),l(this,"initWithDefaults",!1),l(this,"hasCheckGateErrorOccurred",!1),l(this,"hasGetExperimentErrorOccurred",!1),l(this,"hasGetExperimentValueErrorOccurred",!1),l(this,"hasGetLayerErrorOccurred",!1),l(this,"hasGetLayerValueErrorOccurred",!1),l(this,"subscriptions",new Wt),l(this,"dataAdapter",new De),l(this,"statsigValuesUpdated",function(){e.user&&e.statsigClient.updateUserSync(e.user,{disableBackgroundCacheRefresh:!0}),e.subscriptions.anyUpdated()}),this.overrideAdapter=new Le(n)},[{key:"initialize",value:(d=Ut(Vt().mark(function t(e,r,n){var a,i,o=this;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=re(e),!this.initPromise){t.next=4;break}return ne(a,this.initOptions),t.abrupt("return",this.initPromise);case 4:return i=performance.now(),this.initOptions=a,this.initPromise=this.init(a,r,n).then(function(){o.initCompleted=!0,o.initWithDefaults=!0}).finally(function(){var t=performance.now()-i;o.fireClientEvent(i,t,"initialize",o.initCompleted,a.apiKey)}),t.abrupt("return",this.initPromise);case 8:case"end":return t.stop()}},t,this)})),function(t,e,r){return d.apply(this,arguments)})},{key:"initializeWithProvider",value:(c=Ut(Vt().mark(function t(e,r,n,a){var i,o,s=this;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=re(e),!this.initPromise){t.next=4;break}return ne(i,this.initOptions),t.abrupt("return",this.initPromise);case 4:return o=performance.now(),this.initOptions=i,this.provider=r,this.provider.setClientVersion(ce),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(i,r,n,a).then(function(){s.initCompleted=!0,s.initWithDefaults=!0}).finally(function(){var t=performance.now()-o;s.fireClientEvent(o,t,"initializeWithProvider",s.initCompleted,r.getApiKey?r.getApiKey():void 0)}),t.abrupt("return",this.initPromise);case 11:case"end":return t.stop()}},t,this)})),function(t,e,r,n){return c.apply(this,arguments)})},{key:"applyUpdateCallback",value:function(t){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(t.experimentValues),this.dataAdapter.setData(JSON.stringify(t.experimentValues)),this.statsigValuesUpdated())}catch(t){}}},{key:"fireClientEvent",value:function(t,e,r,n){var a,i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;null===(a=this.initOptions.analyticsWebClient)||void 0===a||a.then(function(a){var s=Be({targetApp:i.initOptions.targetApp,clientVersion:ce,success:n,startTime:t,totalTime:e},o&&{apiKey:o});a.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:s,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})}).catch(function(t){i.initOptions.environment,Qt.Production})}},{key:"initializeFromValues",value:(u=Ut(Vt().mark(function t(e,r,n){var a,i,o,s=this,l=arguments;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.length>3&&void 0!==l[3]?l[3]:{},i=re(e),!this.initPromise){t.next=5;break}return ne(i,this.initOptions),t.abrupt("return",this.initPromise);case 5:return Object.prototype.hasOwnProperty.call(a,"has_updates")||(a.has_updates=!0),o=performance.now(),this.initOptions=i,this.initPromise=this.initFromValues(i,r,n,a).then(function(){s.initCompleted=!0,s.initWithDefaults=!0}).finally(function(){var t=performance.now()-o;s.fireClientEvent(o,t,"initializeFromValues",s.initCompleted)}),t.abrupt("return",this.initPromise);case 10:case"end":return t.stop()}},t,this)})),function(t,e,r){return u.apply(this,arguments)})},{key:"assertInitialized",value:function(t){if(!t)throw new Error("Client must be initialized before using this method")}},{key:"updateUser",value:(s=Ut(Vt().mark(function t(e,r,n){var a,i;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertInitialized(this.statsigClient),a=re(e),i=function(){return ke.fetchExperimentValues(a,r,n).then(function(t){return{experimentValues:t.experimentValues,customAttributesFromFetch:t.customAttributes}})},t.next=5,this.updateUserUsingInitializeValuesProducer(i,r,n);case 5:case"end":return t.stop()}},t,this)})),function(t,e,r){return s.apply(this,arguments)})},{key:"updateUserWithProvider",value:(o=Ut(Vt().mark(function t(e,r){var n=this;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.assertInitialized(this.statsigClient),this.provider){t.next=3;break}throw new Error("Cannot update user using provider as the client was not initialised with a provider");case 3:return t.next=5,this.provider.setProfile(this.initOptions,e,r);case 5:return t.next=7,this.updateUserUsingInitializeValuesProducer(function(){return n.provider.getExperimentValues()},e,r);case 7:case"end":return t.stop()}},t,this)})),function(t,e){return o.apply(this,arguments)})},{key:"updateUserWithValues",value:(i=Ut(Vt().mark(function t(e,r){var n,a,i=arguments;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},this.assertInitialized(this.statsigClient),a=function(){return Promise.resolve({experimentValues:n,customAttributesFromFetch:r})},t.next=5,this.updateUserUsingInitializeValuesProducer(a,e,r);case 5:case"end":return t.stop()}},t,this)})),function(t,e){return i.apply(this,arguments)})},{key:"initializeCalled",value:function(){return null!=this.initPromise}},{key:"initializeCompleted",value:function(){return this.initCompleted}},{key:"checkGate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=e.fireGateExposure,n=void 0===r||r;return this.statsigClient.checkGate(t,{disableExposureLog:!n})}catch(t){return this.hasCheckGateErrorOccurred||(this.hasCheckGateErrorOccurred=!0),!1}}},{key:"isGateExist",value:function(t){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getFeatureGate(t,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(t){return!0}}},{key:"isExperimentExist",value:function(t){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getExperiment(t,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(t){return!0}}},{key:"manuallyLogGateExposure",value:function(t){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(t)}},{key:"getExperiment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=e.fireExperimentExposure,n=void 0===r||r;return le.fromExperiment(this.statsigClient.getExperiment(t,{disableExposureLog:!n}))}catch(e){return this.hasGetExperimentErrorOccurred||(this.hasGetExperimentErrorOccurred=!0),new le(t,{},"",{time:Date.now(),reason:Zt.Error})}}},{key:"getExperimentValue",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=this.getExperiment(t,n);try{var i=n.typeGuard;return a.get(e,r,i)}catch(t){return this.hasGetExperimentValueErrorOccurred||(this.hasGetExperimentValueErrorOccurred=!0),r}}},{key:"manuallyLogExperimentExposure",value:function(t){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(t)}},{key:"manuallyLogLayerExposure",value:function(t,e){var r;this.assertInitialized(this.statsigClient),null===(r=this.statsigClient.getLayer(t))||void 0===r||r.get(e)}},{key:"shutdownStatsig",value:function(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}},{key:"overrideGate",value:function(t,e){var r;(this.overrideAdapter.overrideGate(t,e),this.user)&&(null===(r=this.statsigClient)||void 0===r||r.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}));this.statsigValuesUpdated()}},{key:"clearGateOverride",value:function(t){this.overrideAdapter.removeGateOverride(t),this.statsigValuesUpdated()}},{key:"overrideConfig",value:function(t,e){this.overrideAdapter.overrideDynamicConfig(t,e),this.statsigValuesUpdated()}},{key:"clearConfigOverride",value:function(t){this.overrideAdapter.removeDynamicConfigOverride(t),this.statsigValuesUpdated()}},{key:"setOverrides",value:function(t){this.overrideAdapter.setOverrides(t),this.statsigValuesUpdated()}},{key:"getOverrides",value:function(){return this.overrideAdapter.getOverrides()}},{key:"clearAllOverrides",value:function(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}},{key:"isCurrentUser",value:function(t,e){return ne(this.currentIdentifiers,t)&&ne(this.currentAttributes,e)}},{key:"onGateUpdated",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.subscriptions.onGateUpdated(t,function(a){var i=n.fireGateExposure;(void 0===i||i)&&r.manuallyLogGateExposure(t);try{e(a)}catch(t){}},this.checkGate.bind(this),n)}},{key:"onExperimentValueUpdated",value:function(t,e,r,n){var a=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.subscriptions.onExperimentValueUpdated(t,e,r,function(e){var r=i.fireExperimentExposure;(void 0===r||r)&&a.manuallyLogExperimentExposure(t);try{n(e)}catch(t){}},this.getExperimentValue.bind(this),i)}},{key:"onAnyUpdated",value:function(t){return this.subscriptions.onAnyUpdated(t)}},{key:"init",value:(a=Ut(Vt().mark(function t(e,r,n){var a,i,o,s,l,u,c,d;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Be({},e),t.prev=1,s=ke.fetchClientSdk(e).then(function(t){return a.sdkKey=t.clientSdkKey}),l=ke.fetchExperimentValues(e,r,n),t.next=6,Promise.all([s,l]);case 6:u=t.sent,c=Pt(u,2),d=c[1],i=d.experimentValues,o=d.customAttributes,t.next=20;break;case 13:return t.prev=13,t.t0=t.catch(1),t.t0,Error,t.next=19,this.initFromValues(a,r,n);case 19:throw t.t0;case 20:return t.abrupt("return",this.initFromValues(a,r,o,i));case 21:case"end":return t.stop()}},t,this,[[1,13]])})),function(t,e,r){return a.apply(this,arguments)})},{key:"initWithProvider",value:(n=Ut(Vt().mark(function t(e,r,n,a){var i,o,s,l,u,c,d,p;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Be(Be({},e),{},{disableCurrentPageLogging:!0}),t.prev=1,t.next=4,r.setProfile(e,n,a);case 4:return l=r.getClientSdkKey().then(function(t){return i.sdkKey=t}),u=r.getExperimentValues(),t.next=8,Promise.all([l,u]);case 8:c=t.sent,d=Pt(c,2),p=d[1],o=p.experimentValues,s=p.customAttributesFromFetch,t.next=22;break;case 15:return t.prev=15,t.t0=t.catch(1),t.t0,Error,t.next=21,this.initFromValues(i,n,a);case 21:throw t.t0;case 22:return t.abrupt("return",this.initFromValues(i,n,s,o));case 23:case"end":return t.stop()}},t,this,[[1,15]])})),function(t,e,r,a){return n.apply(this,arguments)})},{key:"initFromValues",value:(r=Ut(Vt().mark(function t(e,r,n){var a,i,o,s,l,u,c,d=arguments;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=d.length>3&&void 0!==d[3]?d[3]:{},this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=r,this.currentAttributes=n,(o=ie(e)).sdkKey||(o.sdkKey=Ue),null!==(a=o.networkConfig)&&void 0!==a&&a.logEventUrl||(o.networkConfig=Be(Be({},o.networkConfig),{},{logEventUrl:"https://xp.atlassian.com/v1/rgstr"})),o.perimeter===Xt.FEDRAMP_MODERATE&&(o.disableLogging=!0),s=o.sdkKey,l=o.environment,o.updateUserCompletionCallback,o.perimeter,u=Bt(o,Te),this.sdkKey=s,this.user=ae(r,n,this.sdkKey),c=Be(Be({},u),{},{environment:{tier:l},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter}),t.prev=12,this.statsigClient=new Kt.StatsigClient(s,this.user,c),this.dataAdapter.setBootstrapData(i),t.next=17,this.statsigClient.initializeAsync();case 17:t.next=29;break;case 19:return t.prev=19,t.t0=t.catch(12),t.t0,Error,this.statsigClient=new Kt.StatsigClient(Ue,this.user,c),this.dataAdapter.setBootstrapData(),t.next=27,this.statsigClient.initializeAsync();case 27:throw this.initWithDefaults=!0,t.t0;case 29:case"end":return t.stop()}},t,this,[[12,19]])})),function(t,e,n){return r.apply(this,arguments)})},{key:"updateUserUsingInitializeValuesProducer",value:(e=Ut(Vt().mark(function t(e,r,n){var a,i,o,s=this;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.assertInitialized(this.statsigClient),this.initPromise){t.next=3;break}throw new Error("The client must be initialized before you can update the user.");case 3:if(!this.isCurrentUser(r,n)){t.next=5;break}return t.abrupt("return",this.initPromise);case 5:return a=this.initPromise,t.prev=6,t.next=9,this.initPromise;case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(6);case 13:return i=e(),o=this.updateStatsigClientUser(i,r,n),this.initPromise=o.catch(Ut(Vt().mark(function t(){return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.initPromise=a,!s.provider){t.next=4;break}return t.next=4,s.provider.setProfile(s.initOptions,s.currentIdentifiers,s.currentAttributes);case 4:case"end":return t.stop()}},t)}))),t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this,[[6,11]])})),function(t,r,n){return e.apply(this,arguments)})},{key:"updateStatsigClientUser",value:(t=Ut(Vt().mark(function t(e,r,n){var a,i,o,s,l,u,c,d,p;return Vt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertInitialized(this.statsigClient),t.prev=1,t.next=4,e;case 4:o=t.sent,s=ae(r,o.customAttributesFromFetch,this.sdkKey),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(1),c=t.t0 instanceof Error?t.t0.message:JSON.stringify(t.t0),null===(l=(u=this.initOptions).updateUserCompletionCallback)||void 0===l||l.call(u,!1,c),t.t0;case 13:return d=!0,p=null,t.prev=15,this.dataAdapter.setBootstrapData(o.experimentValues),this.user=s,t.next=20,this.statsigClient.updateUserAsync(this.user);case 20:t.next=26;break;case 22:t.prev=22,t.t1=t.catch(15),d=!1,p=String(t.t1);case 26:if(null===(a=this.initOptions)||void 0===a||null===(i=a.updateUserCompletionCallback)||void 0===i||i.call(a,d,p),!d){t.next=33;break}this.currentIdentifiers=r,this.currentAttributes=n,this.subscriptions.anyUpdated(),t.next=34;break;case 33:throw new Error("Failed to update user. An unexpected error occured.");case 34:case"end":return t.stop()}},t,this,[[1,8],[15,22]])})),function(e,r,n){return t.apply(this,arguments)})},{key:"getPackageVersion",value:function(){return ce}},{key:"getLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=e.fireLayerExposure,n=void 0===r||r;return ue.fromLayer(this.statsigClient.getLayer(t,{disableExposureLog:!n}))}catch(e){return this.hasGetLayerErrorOccurred||(this.hasGetLayerErrorOccurred=!0),ue.fromLayer((0,Kt._makeLayer)(t,{reason:"Error"},null))}}},{key:"getLayerValue",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=this.getLayer(t,n);try{var i=n.typeGuard;return a.get(e,r,i)}catch(t){return this.hasGetLayerValueErrorOccurred||(this.hasGetLayerValueErrorOccurred=!0),r}}}]);var t,e,r,n,a,i,o,s,u,c,d}(),Ve=function(){return Nt(function t(){Lt(this,t)},null,[{key:"isGateExists",value:function(t){return this.client.isGateExist(t)}},{key:"isExperimentExists",value:function(t){return this.client.isExperimentExist(t)}}])}();ze=Ve,l(Ve,"client",new Re),l(Ve,"hasCheckGateErrorOccurred",!1),l(Ve,"hasGetExperimentValueErrorOccurred",!1),l(Ve,"checkGate",function(t,e){try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){var r=window.__CRITERION__.getFeatureFlagOverride(t);if(void 0!==r)return r}}catch(t){ze.hasCheckGateErrorOccurred||(ze.hasCheckGateErrorOccurred=!0)}return ze.client.checkGate(t,e)}),l(Ve,"getExperimentValue",function(t,e,r,n){try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){var a=window.__CRITERION__.getExperimentValueOverride(t,e);if(null!=a)return a}}catch(t){return ze.hasGetExperimentValueErrorOccurred||(ze.hasGetExperimentValueErrorOccurred=!0),r}return ze.client.getExperimentValue(t,e,r,n)}),l(Ve,"initializeCalled",ze.client.initializeCalled.bind(ze.client)),l(Ve,"initializeCompleted",ze.client.initializeCompleted.bind(ze.client)),l(Ve,"initialize",ze.client.initialize.bind(ze.client)),l(Ve,"initializeWithProvider",ze.client.initializeWithProvider.bind(ze.client)),l(Ve,"initializeFromValues",ze.client.initializeFromValues.bind(ze.client)),l(Ve,"manuallyLogGateExposure",ze.client.manuallyLogGateExposure.bind(ze.client)),l(Ve,"getExperiment",ze.client.getExperiment.bind(ze.client)),l(Ve,"manuallyLogExperimentExposure",ze.client.manuallyLogExperimentExposure.bind(ze.client)),l(Ve,"manuallyLogLayerExposure",ze.client.manuallyLogLayerExposure.bind(ze.client)),l(Ve,"shutdownStatsig",ze.client.shutdownStatsig.bind(ze.client)),l(Ve,"overrideGate",ze.client.overrideGate.bind(ze.client)),l(Ve,"clearGateOverride",ze.client.clearGateOverride.bind(ze.client)),l(Ve,"overrideConfig",ze.client.overrideConfig.bind(ze.client)),l(Ve,"clearConfigOverride",ze.client.clearConfigOverride.bind(ze.client)),l(Ve,"setOverrides",ze.client.setOverrides.bind(ze.client)),l(Ve,"getOverrides",ze.client.getOverrides.bind(ze.client)),l(Ve,"clearAllOverrides",ze.client.clearAllOverrides.bind(ze.client)),l(Ve,"isCurrentUser",ze.client.isCurrentUser.bind(ze.client)),l(Ve,"onGateUpdated",ze.client.onGateUpdated.bind(ze.client)),l(Ve,"onExperimentValueUpdated",ze.client.onExperimentValueUpdated.bind(ze.client)),l(Ve,"onAnyUpdated",ze.client.onAnyUpdated.bind(ze.client)),l(Ve,"updateUser",ze.client.updateUser.bind(ze.client)),l(Ve,"updateUserWithProvider",ze.client.updateUserWithProvider.bind(ze.client)),l(Ve,"updateUserWithValues",ze.client.updateUserWithValues.bind(ze.client)),l(Ve,"getPackageVersion",ze.client.getPackageVersion.bind(ze.client)),l(Ve,"getLayer",ze.client.getLayer.bind(ze.client)),l(Ve,"getLayerValue",ze.client.getLayerValue.bind(ze.client));var Ke=Ve;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=Ve;else{var Ge,qe,$e=(null===(Ge=Ke=window.__FEATUREGATES_JS__)||void 0===Ge||null===(qe=Ge.getPackageVersion)||void 0===qe?void 0:qe.call(Ge))||"4.10.0 or earlier";if($e!==ce)"Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ".concat($e," when module version ").concat(ce," was loading.")}const Je=Ke;var We={"#091E4224":"var(--ds-border, #091E4224)","#758195":"var(--ds-border-bold, #758195)","#172B4D":"var(--ds-text, #172B4D)"};var He={"#B3D4FF":"var(--ds-background-accent-blue-subtler, #B3D4FF)","#4C9AFF":"var(--ds-icon-accent-blue, #4C9AFF)","#0747A6":"var(--ds-text-accent-blue, #0747A6)","#B3F5FF":"var(--ds-background-accent-teal-subtler, #B3F5FF)","#00B8D9":"var(--ds-icon-accent-teal, #00B8D9)","#008DA6":"var(--ds-text-accent-teal, #008DA6)","#ABF5D1":"var(--ds-background-accent-green-subtler, #ABF5D1)","#36B37E":"var(--ds-icon-accent-green, #36B37E)","#006644":"var(--ds-text-accent-green, #006644)","#FFF0B3":"var(--ds-background-accent-yellow-subtler, #FFF0B3)","#FFC400":"var(--ds-background-accent-orange-subtle, #FFC400)","#FF991F":"var(--ds-icon-accent-orange, #FF991F)","#FFBDAD":"var(--ds-background-accent-red-subtler, #FFBDAD)","#FF5630":"var(--ds-icon-accent-red, #FF5630)","#BF2600":"var(--ds-text-accent-red, #BF2600)","#EAE6FF":"var(--ds-background-accent-purple-subtler, #EAE6FF)","#6554C0":"var(--ds-icon-accent-purple, #6554C0)","#403294":"var(--ds-text-accent-purple, #403294)","#FFFFFF":"var(--ds-text-inverse, #FFFFFF)","#97A0AF":"var(--ds-icon-accent-gray, #97A0AF)","#172B4D":"var(--ds-text, #172B4D)"};var Ze={"#DCDFE4":"var(--ds-background-accent-gray-subtler, #DCDFE4)","#C6EDFB":"var(--ds-background-accent-teal-subtler, #C6EDFB)","#D3F1A7":"var(--ds-background-accent-lime-subtler, #D3F1A7)","#F8E6A0":"var(--ds-background-accent-yellow-subtler, #F8E6A0)","#FEDEC8":"var(--ds-background-accent-orange-subtler, #FEDEC8)","#FDD0EC":"var(--ds-background-accent-magenta-subtler, #FDD0EC)","#DFD8FD":"var(--ds-background-accent-purple-subtler, #DFD8FD)"};var Qe={"#DEEBFF":{getValue:function(){return"#DEEBFF"},token:"var(--ds-background-accent-blue-subtlest, #DEEBFF)"},"#B3D4FF":{getValue:function(){return"#B3D4FF"},token:"var(--ds-background-accent-blue-subtler, #B3D4FF)"},"#4C9AFF":{getValue:function(){return"#4C9AFF"},token:"var(--ds-background-accent-blue-subtle, #4C9AFF)"},"#E6FCFF":{getValue:function(){return"#E6FCFF"},token:"var(--ds-background-accent-teal-subtlest, #E6FCFF)"},"#B3F5FF":{getValue:function(){return"#B3F5FF"},token:"var(--ds-background-accent-teal-subtler, #B3F5FF)"},"#79E2F2":{getValue:function(){return"#79E2F2"},token:"var(--ds-background-accent-teal-subtle, #79E2F2)"},"#E3FCEF":{getValue:function(){return"#E3FCEF"},token:"var(--ds-background-accent-green-subtlest, #E3FCEF)"},"#ABF5D1":{getValue:function(){return"#ABF5D1"},token:"var(--ds-background-accent-green-subtler, #ABF5D1)"},"#57D9A3":{getValue:function(){return"#57D9A3"},token:"var(--ds-background-accent-green-subtle, #57D9A3)"},"#FFFAE6":{getValue:function(){return"#FFFAE6"},token:"var(--ds-background-accent-yellow-subtlest, #FFFAE6)"},"#FFF0B3":{getValue:function(){return"#FFF0B3"},token:"var(--ds-background-accent-yellow-subtler, #FFF0B3)"},"#FFC400":{getValue:function(){return"#FFC400"},token:"var(--ds-background-accent-orange-subtle, #FFC400)"},"#FFEBE6":{getValue:function(){return"#FFEBE6"},token:"var(--ds-background-accent-red-subtlest, #FFEBE6)"},"#FFBDAD":{getValue:function(){return"#FFBDAD"},token:"var(--ds-background-accent-red-subtler, #FFBDAD)"},"#FF8F73":{getValue:function(){return"#FF8F73"},token:"var(--ds-background-accent-red-subtle, #FF8F73)"},"#EAE6FF":{getValue:function(){return"#EAE6FF"},token:"var(--ds-background-accent-purple-subtlest, #EAE6FF)"},"#C0B6F2":{getValue:function(){return"#C0B6F2"},token:"var(--ds-background-accent-purple-subtler, #C0B6F2)"},"#998DD9":{getValue:function(){return"#998DD9"},token:"var(--ds-background-accent-purple-subtle, #998DD9)"},"#FFFFFF":{getValue:function(){return"#FFFFFF"},token:"var(--ds-surface, #FFFFFF)"},"#F4F5F7":{getValue:function(){return"#F4F5F7"},token:"var(--ds-background-accent-gray-subtlest, #F4F5F7)"},"#B3BAC5":{getValue:function(){return"#B3BAC5"},token:"var(--ds-background-accent-gray-subtle, #B3BAC5)"}};const Xe=JSON.parse('{"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkgrey":"#a9a9a9","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","green":"#008000","greenyellow":"#adff2f","grey":"#808080","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgreen":"#90ee90","lightgrey":"#d3d3d3","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370db","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#db7093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","rebeccapurple":"#663399","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"}');var Ye=r.t(Xe,2),tr="#FFBDAD",er="#FFF0B3",rr="#FFC400",nr="#ABF5D1",ar="#B3D4FF",ir="#4C9AFF",or="#D3F1A7",sr="#FFFFFF",lr="#F4F5F7",ur="#DCDFE4",cr="#FDD0EC",dr="#FEDEC8",pr="#EAE6FF",fr="#DFD8FD",hr="#B3F5FF",gr="#C6EDFB";function vr(t,e){if(!t)return null;if(br(t=t.trim().toLowerCase()))4===t.length&&(t=t.split("").map(function(t){return"#"===t?"#":"".concat(t).concat(t)}).join(""));else{if(yr(t))return mr(t);if("default"===t)return null;if(Xe&&Xe[t])t=Xe[t];else{if(!Ye||!Ye[t])return null;t=Ye[t]}}return t===e?null:t}function mr(t){var e=t.match(/(0?\.?\d{1,3})%?\b/g);if(e&&e.length>=3){var r=Pt(e.map(Number),3),n=r[0],a=r[1];return"#"+(r[2]|a<<8|n<<16|1<<24).toString(16).slice(1)}return null}function yr(t){return/rgba?\(/.test(t)}function br(t){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)}var _r=function(t,e,r){return Math.round(Math.min(Math.max(t,e),r))},kr=function(t){var e=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,r,n){return e+e+r+r+n+n})}(t),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return null===r?null:{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}},Or=function(t){return s=function(t){var e=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},r=function(t){return t>.008856452?Math.pow(t,1/3):t/.12841855+.137931034},n=e(t.r/255),a=e(t.g/255),i=e(t.b/255);return{x:r((.4124564*n+.3575761*a+.1804375*i)/.95047),y:r(.2126729*n+.7151522*a+.072175*i),z:r((.0193339*n+.119192*a+.9503041*i)/1.08883)}}(t),l=s.x,u=s.y,c=s.z,e={l:Math.max(116*u-16,0),a:500*(l-u),b:200*(u-c)},r=e.l,n=e.a,a=e.b,i=(Math.atan2(a,n)*(180/Math.PI)+360)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),0===Math.round(1e4*o)&&(i=Number.NaN),{l:r,c:o,h:i};var e,r,n,a,i,o,s,l,u,c},xr=function(t){return e=function(t){var e=t.l,r=t.a,n=function(t){return t>.206896552?Math.pow(t,3):.12841855*(t-.137931034)},a=(e+16)/116,i=a-t.b/200;return{x:.95047*n(r/500+a),y:n(a),z:1.08883*n(i)}}((s=(o=t).l,l=o.c,u=o.h,c=Number.isNaN(u)?0:u*(Math.PI/180),{l:s,a:Math.cos(c)*l,b:Math.sin(c)*l})),r=e.x,n=e.y,a=e.z,i=function(t){return 255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055)},{r:_r(i(3.2404542*r-1.5371385*n-.4985314*a),0,255),g:_r(i(-.969266*r+1.8760108*n+.041556*a),0,255),b:_r(i(.0556434*r-.2040259*n+1.0572252*a),0,255)};var e,r,n,a,i,o,s,l,u,c},wr=function(t){var e,r=null===(e=kr(t))?0:Or(e).l;return function(t,e){var r=kr(t);if(null===r)return t;var n,a,i,o,s,l=Or(r);return l.l=_r(e,0,100),n=xr(l),a=n.r,i=n.g,o=n.b,"#".concat((s=function(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e})(a)).concat(s(i)).concat(s(o))}(t,Math.abs(100-r)).toUpperCase()};function Er(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ar,Cr,Sr,jr="pm-table",Ir="".concat(jr,"-cell-content-wrap"),Fr="".concat(jr,"-header-content-wrap"),Mr=("".concat(jr,"-cell-nodeview-wrapper"),"".concat(jr,"-cell-nodeview-content-dom"),lr.toLocaleLowerCase()),Pr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getAttribute("data-colwidth"),n=r&&/^\d+(,\d+)*$/.test(r)?r.split(",").map(function(t){return Number(t)}):null,a=Number(t.getAttribute("colspan")||1),i=t.style.backgroundColor,o=t.getAttribute("data-cell-background"),s=o&&br(o)?o:void 0;if(i.includes("--ds-background-neutral"))i="";else if(i&&yr(i)){var l=mr(i);null!==l&&(i=l)}var u=s||(i&&i!==e.background?i:null),c=t.getAttribute("data-local-id")||e.localId;return Dr({colspan:a,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:n&&n.length===a?n:null,background:u},c&&{localId:c})},Lr=/^var\(--.*\)$/,Tr=function(t){var e,r,n,a={},i=t.type.name;if(1!==t.attrs.colspan&&(a.colspan=t.attrs.colspan),1!==t.attrs.rowspan&&(a.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(a["data-colwidth"]=t.attrs.colwidth.join(",")),t.attrs.background){var o=t.attrs.background;if("tableHeader"===i&&o===Br.get("light gray")||"tableCell"===i&&o===Br.get("white")||"tableHeader"===i&&o.includes("--ds-background-neutral"))a.style="";else{var s=yr(o)&&mr(o)?mr(o):o,l=(n=(r=s)?Qe[r.toUpperCase()]:void 0)?n.getValue(r):void 0;l?a.style="background-color: ".concat(l,";"):Lr.test(s)?a.style="background-color: ".concat(s,";"):"dark"===(Ar?{colorMode:Ar}:{colorMode:document.documentElement.getAttribute("data-color-mode")||""}).colorMode?a.style="background-color: ".concat(wr(s),";"):a.style="background-color: ".concat(o,";"),s&&(a["data-cell-background"]=s),a.colorname=Nr.get(s)}}return a.class="tableHeader"===i?Fr:Ir,null!=t&&null!==(e=t.attrs)&&void 0!==e&&e.localId&&(a["data-local-id"]=t.attrs.localId),a},Nr=new Map,Br=(Cr=.12,(Sr=vr("#172B4D"))&&"rgba(".concat(function(t){return t.match(/[a-z0-9]{2}/gi).map(function(t){return parseInt(t,16)})}(Sr).concat(Cr).join(","),")"),new Map);[[sr,"White"],["#DEEBFF","Light blue"],["#E6FCFF","Light teal"],["#E3FCEF","Light green"],["#FFFAE6","Light yellow"],["#FFEBE6","Light red"],[pr,"Light purple"],[lr,"Light gray"],[ar,"Blue"],[hr,"Teal"],[nr,"Green"],[er,"Yellow"],[tr,"Red"],["#C0B6F2","Purple"],["#B3BAC5","Gray"],[ir,"Dark blue"],["#79E2F2","Dark teal"],["#57D9A3","Dark green"],[rr,"Dark yellow"],["#FF8F73","Dark red"],["#998DD9","Dark purple"]].forEach(function(t){var e=Pt(t,2),r=e[0],n=e[1];Nr.set(r.toLowerCase(),n),Br.set(n.toLowerCase(),r.toLowerCase())});var zr={parseDOM:[{tag:"table",getAttrs:function(t){var e,r=t,n=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement;return{isNumberColumnEnabled:"true"===r.getAttribute("data-number-column"),layout:r.getAttribute("data-layout")||(null==n?void 0:n.getAttribute("data-layout"))||"default",__autoSize:"true"===r.getAttribute("data-autosize"),localId:r.getAttribute("data-table-local-id")||_t(),width:Number(r.getAttribute("data-table-width"))||null,displayMode:r.getAttribute("data-table-display-mode")||null}}}],toDOM:function(t){return["table",{"data-number-column":t.attrs.isNumberColumnEnabled,"data-layout":t.attrs.layout,"data-autosize":t.attrs.__autoSize,"data-table-local-id":t.attrs.localId,"data-table-width":t.attrs.width,"data-table-display-mode":t.attrs.displayMode},["tbody",0]]}},Ur=function(){return ot(zr)},Rr=Ur(),Vr=(Ur(),Ur(),{parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}}),Kr=pt(Vr),Gr={colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null},localId:{default:null,optional:!0}},qr={parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td",getAttrs:function(t){return Pr(t)}}],toDOM:function(t){return["td",Tr(t),0]}},$r=lt(qr),Jr=function(t){return{attrs:Object.keys(t.attrs).reduce(function(e,r){return Gr[r]&&Gr[r].default!==t.attrs[r]&&(e[r]=t.attrs[r]),e},{})}},Wr={parseDOM:[{tag:"th",getAttrs:function(t){return Pr(t,{background:Mr})}}],toDOM:function(t){return["th",Tr(t),0]}},Hr=ct(Wr),Zr=Jr,Qr=st(zr),Xr=ft(Vr),Yr=ut(qr),tn=dt(Wr),en=(pt({parseDOM:[{tag:"tr",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["tr",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),lt({parseDOM:[{tag:"td",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["td",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),ct({parseDOM:[{tag:"th",getAttrs:function(t){return Pr(t,{background:Mr,localId:_t()})}}],toDOM:function(t){return["th",Tr(t),0]}}),ht({parseDOM:[{tag:"div[data-task-local-id]",priority:100,getAttrs:function(t){return{localId:_t(),state:t.getAttribute("data-task-state")||"TODO"}}}],toDOM:function(t){var e=t.attrs;return["div",{"data-task-local-id":e.localId||"local-task","data-task-state":e.state||"TODO"},0]}})),rn=v({parseDOM:[{tag:"div[data-task-is-block]",priority:100,getAttrs:function(t){return{localId:_t(),state:t.getAttribute("data-task-state")||"TODO"}}}],toDOM:function(t){var e=t.attrs;return["div",{"data-task-local-id":e.localId||"local-task","data-task-state":e.state||"TODO","data-task-is-block":"true"},0]}});function nn(t){this.content=t}nn.prototype={constructor:nn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,a=n.find(t),i=n.content.slice();return-1==a?i.push(r||t,e):(i[a+1]=e,r&&(i[a]=r)),new nn(i)},remove:function(t){var e=this.find(t);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new nn(r)},addToStart:function(t,e){return new nn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new nn(r)},addBefore:function(t,e,r){var n=this.remove(e),a=n.content.slice(),i=n.find(t);return a.splice(-1==i?a.length:i,0,e,r),new nn(a)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=nn.from(t)).size?new nn(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=nn.from(t)).size?new nn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=nn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}},nn.from=function(t){if(t instanceof nn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new nn(e)};const an=nn;function on(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let a=t.child(n),i=e.child(n);if(a!=i){if(!a.sameMarkup(i))return r;if(a.isText&&a.text!=i.text){for(let t=0;a.text[t]==i.text[t];t++)r++;return r}if(a.content.size||i.content.size){let t=on(a.content,i.content,r+1);if(null!=t)return t}r+=a.nodeSize}else r+=a.nodeSize}}function sn(t,e,r,n){for(let a=t.childCount,i=e.childCount;;){if(0==a||0==i)return a==i?null:{a:r,b:n};let o=t.child(--a),s=e.child(--i),l=o.nodeSize;if(o!=s){if(!o.sameMarkup(s))return{a:r,b:n};if(o.isText&&o.text!=s.text){let t=0,e=Math.min(o.text.length,s.text.length);for(;t<e&&o.text[o.text.length-t-1]==s.text[s.text.length-t-1];)t++,r--,n--;return{a:r,b:n}}if(o.content.size||s.content.size){let t=sn(o.content,s.content,r-1,n-1);if(t)return t}r-=l,n-=l}else r-=l,n-=l}}class ln{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,r,n=0,a){for(let i=0,o=0;o<e;i++){let s=this.content[i],l=o+s.nodeSize;if(l>t&&!1!==r(s,n+o,a||null,i)&&s.content.size){let a=o+1;s.nodesBetween(Math.max(0,t-a),Math.min(s.content.size,e-a),r,n+a)}o=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,n){let a="",i=!0;return this.nodesBetween(t,e,(o,s)=>{let l=o.isText?o.text.slice(Math.max(t,s)-s,e-s):o.isLeaf?n?"function"==typeof n?n(o):n:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&l||o.isTextblock)&&r&&(i?i=!1:a+=r),a+=l},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,n=this.content.slice(),a=0;for(e.isText&&e.sameMarkup(r)&&(n[n.length-1]=e.withText(e.text+r.text),a=1);a<t.content.length;a++)n.push(t.content[a]);return new ln(n,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let r=[],n=0;if(e>t)for(let a=0,i=0;i<e;a++){let o=this.content[a],s=i+o.nodeSize;s>t&&((i<t||s>e)&&(o=o.isText?o.cut(Math.max(0,t-i),Math.min(o.text.length,e-i)):o.cut(Math.max(0,t-i-1),Math.min(o.content.size,e-i-1))),r.push(o),n+=o.nodeSize),i=s}return new ln(r,n)}cutByIndex(t,e){return t==e?ln.empty:0==t&&e==this.content.length?this:new ln(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let n=this.content.slice(),a=this.size+e.nodeSize-r.nodeSize;return n[t]=e,new ln(n,a)}addToStart(t){return new ln([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ln(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let n=this.content[e];t(n,r,e),r+=n.nodeSize}}findDiffStart(t,e=0){return on(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return sn(this,t,e,r)}findIndex(t,e=-1){if(0==t)return cn(0,t);if(t==this.size)return cn(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=n+this.child(r).nodeSize;if(a>=t)return a==t||e>0?cn(r+1,a):cn(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return ln.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new ln(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ln.empty;let e,r=0;for(let n=0;n<t.length;n++){let a=t[n];r+=a.nodeSize,n&&a.isText&&t[n-1].sameMarkup(a)?(e||(e=t.slice(0,n)),e[e.length-1]=a.withText(e[e.length-1].text+a.text)):e&&e.push(a)}return new ln(e||t,r)}static from(t){if(!t)return ln.empty;if(t instanceof ln)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ln([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ln.empty=new ln([],0);const un={index:0,offset:0};function cn(t,e){return un.index=t,un.offset=e,un}function dn(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!dn(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!dn(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class pn{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let n=0;n<t.length;n++){let a=t[n];if(this.eq(a))return t;if(this.type.excludes(a.type))e||(e=t.slice(0,n));else{if(a.type.excludes(this.type))return t;!r&&a.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(a)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&dn(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let n=r.create(e.attrs);return r.checkAttrs(n.attrs),n}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return pn.none;if(t instanceof pn)return[t];let e=t.slice();return e.sort((t,e)=>t.type.rank-e.type.rank),e}}pn.none=[];class fn extends Error{}class hn{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=vn(this.content,t+this.openStart,e);return r&&new hn(r,this.openStart,this.openEnd)}removeBetween(t,e){return new hn(gn(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return hn.empty;let r=e.openStart||0,n=e.openEnd||0;if("number"!=typeof r||"number"!=typeof n)throw new RangeError("Invalid input for Slice.fromJSON");return new hn(ln.fromJSON(t,e.content),r,n)}static maxOpen(t,e=!0){let r=0,n=0;for(let n=t.firstChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)n++;return new hn(t,r,n)}}function gn(t,e,r){let{index:n,offset:a}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:s}=t.findIndex(r);if(a==e||i.isText){if(s!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(gn(i.content,e-a-1,r-a-1)))}function vn(t,e,r,n){let{index:a,offset:i}=t.findIndex(e),o=t.maybeChild(a);if(i==e||o.isText)return n&&!n.canReplace(a,a,r)?null:t.cut(0,e).append(r).append(t.cut(e));let s=vn(o.content,e-i-1,r);return s&&t.replaceChild(a,o.copy(s))}function mn(t,e,r){if(r.openStart>t.depth)throw new fn("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new fn("Inconsistent open depths");return yn(t,e,r,0)}function yn(t,e,r,n){let a=t.index(n),i=t.node(n);if(a==e.index(n)&&n<t.depth-r.openStart){let o=yn(t,e,r,n+1);return i.copy(i.content.replaceChild(a,o))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=n||e.depth!=n){let{start:a,end:o}=function(t,e){let r=e.depth-t.openStart,n=e.node(r).copy(t.content);for(let t=r-1;t>=0;t--)n=e.node(t).copy(ln.from(n));return{start:n.resolveNoCache(t.openStart+r),end:n.resolveNoCache(n.content.size-t.openEnd-r)}}(r,t);return xn(i,wn(t,a,o,e,n))}{let n=t.parent,a=n.content;return xn(n,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}}return xn(i,En(t,e,n))}function bn(t,e){if(!e.type.compatibleContent(t.type))throw new fn("Cannot join "+e.type.name+" onto "+t.type.name)}function _n(t,e,r){let n=t.node(r);return bn(n,e.node(r)),n}function kn(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function On(t,e,r,n){let a=(e||t).node(r),i=0,o=e?e.index(r):a.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(kn(t.nodeAfter,n),i++));for(let t=i;t<o;t++)kn(a.child(t),n);e&&e.depth==r&&e.textOffset&&kn(e.nodeBefore,n)}function xn(t,e){return t.type.checkContent(e),t.copy(e)}function wn(t,e,r,n,a){let i=t.depth>a&&_n(t,e,a+1),o=n.depth>a&&_n(r,n,a+1),s=[];return On(null,t,a,s),i&&o&&e.index(a)==r.index(a)?(bn(i,o),kn(xn(i,wn(t,e,r,n,a+1)),s)):(i&&kn(xn(i,En(t,e,a+1)),s),On(e,r,a,s),o&&kn(xn(o,En(r,n,a+1)),s)),On(n,null,a,s),new ln(s)}function En(t,e,r){let n=[];if(On(null,t,r,n),t.depth>r){kn(xn(_n(t,e,r+1),En(t,e,r+1)),n)}return On(e,null,r,n),new ln(n)}hn.empty=new hn(ln.empty,0,0);class Dn{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)n+=r.child(e).nodeSize;return n}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return pn.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){let t=r;r=n,n=t}let a=r.marks;for(var i=0;i<a.length;i++)!1!==a[i].type.spec.inclusive||n&&a[i].isInSet(n.marks)||(a=a[i--].removeFromSet(a));return a}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,n=t.parent.maybeChild(t.index());for(var a=0;a<r.length;a++)!1!==r[a].type.spec.inclusive||n&&r[a].isInSet(n.marks)||(r=r[a--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new jn(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],n=0,a=e;for(let e=t;;){let{index:t,offset:i}=e.content.findIndex(a),o=a-i;if(r.push(e,t,n+i),!o)break;if(e=e.child(t),e.isText)break;a=o-1,n+=i+1}return new Dn(e,r,a)}static resolveCached(t,e){let r=Sn.get(t);if(r)for(let t=0;t<r.elts.length;t++){let n=r.elts[t];if(n.pos==e)return n}else Sn.set(t,r=new An);let n=r.elts[r.i]=Dn.resolve(t,e);return r.i=(r.i+1)%Cn,n}}class An{constructor(){this.elts=[],this.i=0}}const Cn=12,Sn=new WeakMap;class jn{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const In=Object.create(null);class Fn{constructor(t,e,r,n=pn.none){this.type=t,this.attrs=e,this.marks=n,this.content=r||ln.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,n=0){this.content.nodesBetween(t,e,r,n,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&dn(this.attrs,e||t.defaultAttrs||In)&&pn.sameSet(this.marks,r||pn.none)}copy(t=null){return t==this.content?this:new Fn(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Fn(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return hn.empty;let n=this.resolve(t),a=this.resolve(e),i=r?0:n.sharedDepth(e),o=n.start(i),s=n.node(i).content.cut(n.pos-o,a.pos-o);return new hn(s,n.depth-i,a.depth-i)}replace(t,e,r){return mn(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:n}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(n==t||e.isText)return e;t-=n+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let n=this.content.child(e-1);return{node:n,index:e-1,offset:r-n.nodeSize}}resolve(t){return Dn.resolveCached(this,t)}resolveNoCache(t){return Dn.resolve(this,t)}rangeHasMark(t,e,r){let n=!1;return e>t&&this.nodesBetween(t,e,t=>(r.isInSet(t.marks)&&(n=!0),!n)),n}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Pn(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=ln.empty,n=0,a=r.childCount){let i=this.contentMatchAt(t).matchFragment(r,n,a),o=i&&i.matchFragment(this.content,e);if(!o||!o.validEnd)return!1;for(let t=n;t<a;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;let a=this.contentMatchAt(t).matchType(r),i=a&&a.matchFragment(this.content,e);return!!i&&i.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=pn.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!pn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let n=ln.fromJSON(t,e.content),a=t.nodeType(e.type).create(e.attrs,n,r);return a.type.checkAttrs(a.attrs),a}}Fn.prototype.text=void 0;class Mn extends Fn{constructor(t,e,r,n){if(super(t,e,null,n),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Pn(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Mn(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Mn(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Pn(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Ln{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new Tn(t,e);if(null==r.next)return Ln.empty;let n=Nn(r);r.next&&r.err("Unexpected trailing text");let a=function(t){let e=Object.create(null);return r(Kn(t,0));function r(n){let a=[];n.forEach(e=>{t[e].forEach(({term:e,to:r})=>{if(!e)return;let n;for(let t=0;t<a.length;t++)a[t][0]==e&&(n=a[t][1]);Kn(t,r).forEach(t=>{n||a.push([e,n=[]]),-1==n.indexOf(t)&&n.push(t)})})});let i=e[n.join(",")]=new Ln(n.indexOf(t.length-1)>-1);for(let t=0;t<a.length;t++){let n=a[t][1].sort(Vn);i.next.push({type:a[t][0],next:e[n.join(",")]||r(n)})}return i}}(function(t){let e=[[]];return a(i(t,0),r()),e;function r(){return e.push([])-1}function n(t,r,n){let a={term:n,to:r};return e[t].push(a),a}function a(t,e){t.forEach(t=>t.to=e)}function i(t,e){if("choice"==t.type)return t.exprs.reduce((t,r)=>t.concat(i(r,e)),[]);if("seq"!=t.type){if("star"==t.type){let o=r();return n(e,o),a(i(t.expr,o),o),[n(o)]}if("plus"==t.type){let o=r();return a(i(t.expr,e),o),a(i(t.expr,o),o),[n(o)]}if("opt"==t.type)return[n(e)].concat(i(t.expr,e));if("range"==t.type){let o=e;for(let e=0;e<t.min;e++){let e=r();a(i(t.expr,o),e),o=e}if(-1==t.max)a(i(t.expr,o),o);else for(let e=t.min;e<t.max;e++){let e=r();n(o,e),a(i(t.expr,o),e),o=e}return[n(o)]}if("name"==t.type)return[n(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let n=0;;n++){let o=i(t.exprs[n],e);if(n==t.exprs.length-1)return o;a(o,e=r())}}}(n));return function(t,e){for(let r=0,n=[t];r<n.length;r++){let t=n[r],a=!t.validEnd,i=[];for(let e=0;e<t.next.length;e++){let{type:r,next:o}=t.next[e];i.push(r.name),!a||r.isText||r.hasRequiredAttrs()||(a=!1),-1==n.indexOf(o)&&n.push(o)}a&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(a,r),a}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let n=this;for(let a=e;n&&a<r;a++)n=n.matchType(t.child(a).type);return n}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let n=[this];return function a(i,o){let s=i.matchFragment(t,r);if(s&&(!e||s.validEnd))return ln.from(o.map(t=>t.createAndFill()));for(let t=0;t<i.next.length;t++){let{type:e,next:r}=i.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==n.indexOf(r)){n.push(r);let t=a(r,o.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let n=r.shift(),a=n.match;if(a.matchType(t)){let t=[];for(let e=n;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<a.next.length;t++){let{type:i,next:o}=a.next[t];i.isLeaf||i.hasRequiredAttrs()||i.name in e||n.type&&!o.validEnd||(r.push({match:i.contentMatch,type:i,via:n}),e[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(r){t.push(r);for(let n=0;n<r.next.length;n++)-1==t.indexOf(r.next[n].next)&&e(r.next[n].next)}(this),t.map((e,r)=>{let n=r+(e.validEnd?"*":" ")+" ";for(let r=0;r<e.next.length;r++)n+=(r?", ":"")+e.next[r].type.name+"->"+t.indexOf(e.next[r].next);return n}).join("\n")}}Ln.empty=new Ln(!0);class Tn{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Nn(t){let e=[];do{e.push(Bn(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Bn(t){let e=[];do{e.push(zn(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function zn(t){let e=function(t){if(t.eat("(")){let e=Nn(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let t in r){let n=r[t];n.isInGroup(e)&&a.push(n)}0==a.length&&t.err("No node type or group '"+e+"' found");return a}(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=Rn(t,e)}return e}function Un(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Rn(t,e){let r=Un(t),n=r;return t.eat(",")&&(n="}"!=t.next?Un(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Vn(t,e){return e-t}function Kn(t,e){let r=[];return function e(n){let a=t[n];if(1==a.length&&!a[0].term)return e(a[0].to);r.push(n);for(let t=0;t<a.length;t++){let{term:n,to:i}=a[t];n||-1!=r.indexOf(i)||e(i)}}(e),r.sort(Vn)}function Gn(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function qn(t,e){let r=Object.create(null);for(let n in t){let a=e&&e[n];if(void 0===a){let e=t[n];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+n);a=e.default}r[n]=a}return r}function $n(t,e,r,n){for(let n in e)if(!(n in t))throw new RangeError(`Unsupported attribute ${n} for ${r} of type ${n}`);for(let r in t){let n=t[r];n.validate&&n.validate(e[r])}}function Jn(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Hn(t,n,e[n]);return r}class Wn{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Jn(t,r.attrs),this.defaultAttrs=Gn(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ln.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:qn(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fn(this,this.computeAttrs(t),ln.from(e),pn.setFrom(r))}createChecked(t=null,e,r){return e=ln.from(e),this.checkContent(e),new Fn(this,this.computeAttrs(t),e,pn.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),(e=ln.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let n=this.contentMatch.matchFragment(e),a=n&&n.fillBefore(ln.empty,!0);return a?new Fn(this,t,e.append(a),pn.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){$n(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:pn.none:t}static compile(t,e){let r=Object.create(null);t.forEach((t,n)=>r[t]=new Wn(t,e,n));let n=e.spec.topNode||"doc";if(!r[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let t in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class Hn{constructor(t,e,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate="string"==typeof r.validate?function(t,e,r){let n=r.split("|");return r=>{let a=null===r?"null":typeof r;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}(t,e,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Zn{constructor(t,e,r,n){this.name=t,this.rank=e,this.schema=r,this.spec=n,this.attrs=Jn(t,n.attrs),this.excluded=null;let a=Gn(this.attrs);this.instance=a?new pn(this,a):null}create(t=null){return!t&&this.instance?this.instance:new pn(this,qn(this.attrs,t))}static compile(t,e){let r=Object.create(null),n=0;return t.forEach((t,a)=>r[t]=new Zn(t,n++,e,a)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){$n(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Qn{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=an.from(t.nodes),e.marks=an.from(t.marks||{}),this.nodes=Wn.compile(this.spec.nodes,this),this.marks=Zn.compile(this.spec.marks,this);let r=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],n=e.spec.content||"",a=e.spec.marks;if(e.contentMatch=r[n]||(r[n]=Ln.parse(n,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==a?null:a?Xn(this,a.split(" ")):""!=a&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],r=e.spec.excludes;e.excluded=null==r?[e]:""==r?[]:Xn(this,r.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Wn))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,r,n)}text(t,e){let r=this.nodes.text;return new Mn(r,r.defaultAttrs,t,pn.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Fn.fromJSON(this,t)}markFromJSON(t){return pn.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function Xn(t,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],i=t.marks[a],o=i;if(i)r.push(i);else for(let e in t.marks){let n=t.marks[e];("_"==a||n.spec.group&&n.spec.group.split(" ").indexOf(a)>-1)&&r.push(o=n)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}new WeakMap;function Yn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ta(t,e){return Object.keys(t).forEach(function(r){var n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},t[r]);n.marks&&"_"!==n.marks&&(n.marks=n.marks.split(" ").filter(function(t){return!!e[t]}).join(" ")),n.content&&(n.content=function(t,e){var r=e.replace(/\W/g," ").split(" ").filter(function(e){return!function(t,e){var r=Object.keys(t);if(r.indexOf(e)>-1)return!0;for(var n in t){var a=t[n];if(a&&a.group===e)return!0}return!1}(t,e)});return r.reduce(function(t,e){return function(t,e){if(!e.length)return t||"";if(!t||!t.match(/\w/))return"";var r="(".concat(e,"((\\s)*\\|)+)|((\\|(\\s)*)+").concat(e,"(\\+|\\*)?)|(").concat(e,"$)|(").concat(e,"(\\+|\\*))");return t.replace(new RegExp(r,"g"),"").replace("  "," ").trim()}(t,e)},e)}(t,n.content)),t[r]=n}),t}var ea=p({attrs:{align:{}},excludes:"alignment indentation",group:"alignment"}),ra=p({attrs:{id:{default:""},annotationType:{default:"inlineComment"}},inclusive:!0,excludes:"",group:"annotation"}),na=p({attrs:{color:{}},inclusive:!0,excludes:"color",group:"color"}),aa=p({attrs:{size:{},color:{}},inclusive:!1}),ia=p({attrs:{mode:{default:"wide"},width:{default:null}},inclusive:!1,spanning:!1}),oa=p({inclusive:!0,excludes:"fontStyle link searchQuery color"}),sa=p({attrs:{reference:{default:""}},inclusive:!1,excludes:""}),la=p({attrs:{sources:{default:[]}}}),ua=p({inclusive:!0,group:"fontStyle"}),ca=p({attrs:{localId:{default:""},name:{default:null}},inclusive:!1,excludes:""}),da=p({attrs:{level:{}},excludes:"indentation alignment",group:"indentation"}),pa=p({attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,excludes:"link",group:"link"}),fa=p({inclusive:!0,group:"fontStyle"}),ha=p({inclusive:!0,group:"fontStyle"}),ga=p({attrs:{type:{default:"sub"}},inclusive:!0,group:"fontStyle"}),va=p({attrs:{color:{}},inclusive:!0,group:"color"}),ma=p({attrs:{trigger:{default:""}},inclusive:!0,group:"searchQuery"}),ya=p({inclusive:!0,group:"fontStyle"}),ba=p({attrs:{originalValue:{}},excludes:""}),_a=p({attrs:{unsupported:{},type:{}}}),ka=r(2192),Oa=[/^https?:\/\//im,/^ftps?:\/\//im,/^gopher:\/\//im,/^integrity:\/\//im,/^file:\/\//im,/^smb:\/\//im,/^dynamicsnav:\/\//im,/^jamfselfservice:\/\//im,/^\//im,/^mailto:/im,/^skype:/im,/^callto:/im,/^facetime:/im,/^git:/im,/^irc6?:/im,/^news:/im,/^nntp:/im,/^feed:/im,/^cvs:/im,/^svn:/im,/^mvn:/im,/^ssh:/im,/^scp:\/\//im,/^sftp:\/\//im,/^itms:/im,/^notes:/im,/^notes:\/\//im,/^hipchat:\/\//im,/^sourcetree:/im,/^sourcetree:\/\//im,/^urn:/im,/^tel:/im,/^xmpp:/im,/^telnet:/im,/^vnc:/im,/^rdp:/im,/^whatsapp:/im,/^slack:/im,/^sips?:/im,/^magnet:/im,/^#/im],xa=function(t){var e=t.trim();return 0===e.length||Oa.some(function(t){return t.test(e)})},wa=r.n(ka)()();wa.add("sourcetree:","http:"),wa.add("jamfselfservice:","http:");var Ea={validate:/[^\s]+/};wa.add("tel:",Ea),wa.add("file:",Ea),wa.add("notes:","http:");var Da="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");Da.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),wa.tlds(Da,!1);var Aa=/(https?|ftp|jamfselfservice|gopher|dynamicsnav|integrity|file|smb):\/\/[^\s]+/;function Ca(t){if(!t)return null;var e=function(t){if(!Aa.test(t))return[];for(var e,r=[],n=0;e=t.substr(n);){var a=(e.match(Aa)||[""])[0];if(!a)break;var i=e.search(Aa),o=i>=0?i+n:i,s=o+a.length;r.push({index:o,lastIndex:s,raw:a,url:a,text:a,schema:""}),n+=s}return r}(t);return e.length||(e=wa.match(t)),e&&e[0]}function Sa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sa(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ia,Fa=function(t){return function(e){var r,n=e,a=n.getAttribute(t)||"",i={__confluenceMetadata:n.hasAttribute("__confluenceMetadata")?JSON.parse(n.getAttribute("__confluenceMetadata")||""):void 0};return!!xa(a)&&((r=a).startsWith("/")||"#top"===r||"#"===r?(i.href=a,i):(i.href=function(t){var e=Ca(t);return e&&e.url||""}(a),i))}},Ma=pa({parseDOM:[{tag:"[data-block-link]",getAttrs:Fa("data-block-link"),contentElement:function(t){var e=t.cloneNode(!0);e.removeAttribute("data-block-link"),e.setAttribute("data-skip-paste","true");var r=document.createElement("div");return r.appendChild(e),r}},{tag:"a[href]",getAttrs:Fa("href")}],toDOM:function(t,e){var r=Object.keys(t.attrs).reduce(function(e,r){return"__confluenceMetadata"===r?null!==t.attrs[r]&&(e[r]=JSON.stringify(t.attrs[r])):e[r]="href"===r?xa(t.attrs[r])?t.attrs[r]:void 0:t.attrs[r],e},{});return e?["a",r]:["a",ja(ja({},r),{},l(l({},"data-block-link","true"),"class","blockLink")),0]}}),Pa=["title","id","collection","occurrenceKey","__confluenceMetadata"],La=["em"],Ta=ua({parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return La}}),Na=["strong"],Ba=ha({parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{tag:"span",getAttrs:function(t){var e=t.style.fontWeight;return"string"==typeof e&&("bold"===e||"bolder"===e||/^(bold(er)?|[5-9]\d{2,})$/.test(e))&&null}}],toDOM:function(){return Na}}),za=[["#0747A6","Dark blue"],["#008DA6","Dark teal"],["#006644","Dark green"],["#FF991F","Orange"],["#BF2600","Dark red"],["#403294","Dark purple"],["#97A0AF","Light gray"],[ir,"Blue"],["#00B8D9","Teal"],["#36B37E","Green"],[rr,"Yellow"],["#FF5630","Red"],["#6554C0","Purple"],[sr,"White"],[ar,"Light blue"],[hr,"Light teal"],[nr,"Light green"],[er,"Light yellow"],[tr,"Light red"],[pr,"Light purple"]],Ua=new Map;za.forEach(function(t){var e=Pt(t,2),r=e[0],n=e[1];return Ua.set(r.toLowerCase(),n)});var Ra=function(){return Ia?{colorMode:Ia}:{colorMode:document.documentElement.getAttribute("data-color-mode")||""}},Va=va({parseDOM:[{style:"color",getAttrs:function(t){var e,r=t;return r.match(/^rgb/i)?e=mr(r):"#"===r[0]&&(e=r.toLowerCase()),!(!e||!Ua.has(e))&&{color:e}}},{tag:".fabric-text-color-mark",getAttrs:function(t){if(!(t instanceof HTMLElement))return!1;var e=t.dataset.textCustomColor;return!(!e||!Ua.has(e))&&{color:e}}}],toDOM:function(t){var e,r,n=(r=t.attrs.color)?He[r.toUpperCase()]:void 0;return e=n||("dark"===Ra().colorMode?wr(t.attrs.color):t.attrs.color),["span",l({class:"fabric-text-color-mark",style:"--custom-palette-color: ".concat(e)},"data-text-custom-color",t.attrs.color)]}}),Ka=[[ur,"Gray"],[gr,"Teal"],[or,"Lime"],[dr,"Orange"],[cr,"Magenta"],[fr,"Purple"]],Ga=[[ur,"Gray"],[fr,"Purple"],[cr,"Magenta"],[dr,"Orange"],["#F8E6A0","Yellow"],[or,"Lime"],[gr,"Teal"]],qa=new Map;Ka.forEach(function(t){var e=Pt(t,2),r=e[0],n=e[1];return qa.set(r.toLowerCase(),n)});var $a=new Map;Ga.forEach(function(t){var e=Pt(t,2),r=e[0],n=e[1];return $a.set(r.toLowerCase(),n)});var Ja=na({parseDOM:[{style:"background-color",getAttrs:function(t){var e,r=t;return r.match(/^rgb/i)?e=mr(r):"#"===r[0]&&(e=r.toLowerCase()),!(!e||!qa.has(e))&&{color:e}}},{tag:".fabric-background-color-mark",getAttrs:function(t){if(!(t instanceof HTMLElement))return!1;var e=t.dataset.backgroundCustomColor;return!(!e||!qa.has(e))&&{color:e}}}],toDOM:function(t){var e,r,n=(r=t.attrs.color,"test"!==Je.getExperimentValue("platform_editor_add_orange_highlight_color","cohort","control")&&(Ze["#FEDEC8"]="var(--ds-background-accent-yellow-subtler, #F8E6A0)"),r?Ze[r.toUpperCase()]:void 0);return e=n||("dark"===Ra().colorMode?wr(t.attrs.color):t.attrs.color),["span",l({class:"fabric-background-color-mark",style:"--custom-palette-color: ".concat(e)},"data-background-custom-color",t.attrs.color)]}}),Wa=fa({parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(t){return"line-through"===t&&null}}],toDOM:function(){return["s"]}});function Ha(t){return"sub"===t?{type:"sub"}:"super"===t&&{type:"sup"}}var Za=ga({parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}},{style:"vertical-align=super",getAttrs:function(t){return Ha(t)}},{style:"vertical-align=sub",getAttrs:function(t){return Ha(t)}}],toDOM:function(t){return[t.attrs.type]}}),Qa=ya({parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(t){return"underline"===t&&null}}],toDOM:function(){return["u"]}}),Xa=oa({parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0,getAttrs:function(t){var e=t;return("pre"===e.style.whiteSpace||!!(e.style.fontFamily&&e.style.fontFamily.toLowerCase().indexOf("monospace")>=0))&&{}}}],toDOM:function(){return["span",{class:"code",spellcheck:"false"}]}}),Ya=ma({parseDOM:[{tag:"span[data-type-ahead-query]"}],toDOM:function(t){return["span",{"data-type-ahead-query":"true","data-trigger":t.attrs.trigger,style:"color: ".concat("#0052CC")}]}}),ti=ea({parseDOM:[{tag:"div.fabric-editor-block-mark",getAttrs:function(t){var e=t.getAttribute("data-align");return!!e&&{align:e}}}],toDOM:function(t){return["div",{class:"fabric-editor-block-mark fabric-editor-alignment fabric-editor-align-".concat(t.attrs.align),"data-align":t.attrs.align},0]}});function ei(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ni=ra({parseDOM:[{tag:'span[data-mark-type="annotation"]',mark:"annotation",getAttrs:function(t){var e=t;return{id:e.getAttribute("data-id"),annotationType:e.getAttribute("data-mark-annotation-type")}}}],toDOM:function(t){return["span",ri({class:"fabric-editor-annotation"},(e={id:t.attrs.id,annotationType:t.attrs.annotationType},r=e.id,n=e.annotationType,a=e.state,i={"data-mark-type":"annotation","data-mark-annotation-type":n,"data-id":r},a?ri(ri({},i),{},{"data-mark-annotation-state":a}):i)),0];var e,r,n,a,i}}),ai=sa({parseDOM:[{tag:'span[data-mark-type="confluenceInlineComment"]'}],toDOM:function(t){return["span",{"data-mark-type":"confluenceInlineComment","data-reference":t.attrs.reference}]}}),ii=["wide","full-width"],oi=ia({parseDOM:[{tag:"div.fabric-editor-breakout-mark",getAttrs:function(t){var e=t.getAttribute("data-mode"),r=t.getAttribute("data-width");return{mode:-1===ii.indexOf(e||"")?"wide":e,width:r?parseInt(r):null}}}],toDOM:function(t){var e;return["div",{class:"fabric-editor-breakout-mark","data-mode":t.attrs.mode,"data-width":null===(e=t.attrs)||void 0===e?void 0:e.width},0]}}),si=function(t){return t instanceof Node&&t.nodeType===Node.ELEMENT_NODE};function li(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?li(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ci=la({parseDOM:[{tag:'[data-mark-type="dataConsumer"]',getAttrs:function(t){return function(t){var e=si(t)&&t.getAttribute("data-sources");try{return!!e&&{sources:JSON.parse(e)}}catch(t){return!1}}(t)}}],toDOM:function(t,e){return[e?"span":"div",{"data-mark-type":"dataConsumer","data-sources":JSON.stringify(t.attrs.sources)}]}});function di(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?di(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var fi=ca({parseDOM:[{tag:'[data-mark-type="fragment"]',getAttrs:function(t){return function(t){var e;if(!si(t))return!1;var r=null!==(e=t.getAttribute("data-name"))&&void 0!==e?e:void 0,n=t.getAttribute("data-localId");return!!n&&{localId:n,name:r}}(t)}}],toDOM:function(t,e){return[e?"span":"div",{"data-mark-type":"fragment","data-name":t.attrs.name,"data-localId":t.attrs.localId}]}}),hi=da({parseDOM:[{tag:"div.fabric-editor-indentation-mark",getAttrs:function(t){var e=+(t.getAttribute("data-level")||"0");return{level:e>6?6:!(e<1)&&e}}}],toDOM:function(t){return["div",{class:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":t.attrs.level},0]}}),gi=[["#091E4224","Subtle gray"],["#758195","Gray"],["#172B4D","Bold gray"]],vi=new Map;gi.forEach(function(t){var e=Pt(t,2),r=e[0],n=e[1];return vi.set(r.toLowerCase(),n)});var mi=aa({parseDOM:[{tag:'[data-mark-type="border"]',getAttrs:function(t){var e,r,n=t,a=(null!==(e=n.getAttribute("data-color"))&&void 0!==e?e:"").toLowerCase(),i=+(null!==(r=n.getAttribute("data-size"))&&void 0!==r?r:"0");return{size:i>3?3:!(i<1)&&i,color:!!vi.has(a)&&a}}}],toDOM:function(t,e){var r,n=e?"span":"div",a=((r=t.attrs.color)?We[r.toUpperCase()]:void 0)||t.attrs.color;return[n,{"data-mark-type":"border","data-color":t.attrs.color,"data-size":t.attrs.size,style:"--custom-palette-color: ".concat(a)}]}}),yi=ba({toDOM:function(){return["span"]}}),bi=_a({toDOM:function(){return["span"]}}),_i=A({}),ki=rt({parseDOM:[{tag:"p",getAttrs:function(t){var e,r;return{localId:t.getAttribute("data-local-id")||(null===(e=ki.attrs)||void 0===e||null===(r=e.localId)||void 0===r?void 0:r.default)}}}],toDOM:function(t){var e=t.attrs.localId;return["p"].concat(null!=e?[{"data-local-id":e}]:[],[0])}}),Oi=vt({toDebugString:function(){return"text_node"}}),xi=".ak-ul",wi=y({parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",{class:xi.substr(1)},0]}}),Ei=(y({parseDOM:[{tag:"ul",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["ul",{class:xi.substr(1),"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),".ak-ol"),Di=(tt({parseDOM:[{tag:"ol"}],toDOM:function(){return["ol",{class:Ei.substr(1)},0]}}),tt({parseDOM:[{tag:"ol",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["ol",{class:Ei.substr(1),"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),function(t){var e=Number(t);if(!(Number.isNaN(e)||e<0))return Math.floor(Math.max(e,0))}),Ai=tt({parseDOM:[{tag:"ol",getAttrs:function(t){var e=t.getAttribute("start");if(e){var r=Di(e);if("number"==typeof r)return{order:r}}return null}}],toDOM:function(t){var e,r=Di(null==t||null===(e=t.attrs)||void 0===e?void 0:e.order);return["ol",{start:"number"==typeof r?String(r):void 0,class:Ei.substr(1)},0]}}),Ci=(tt({parseDOM:[{tag:"ol",getAttrs:function(t){var e=t.getAttribute("start"),r=_t();if(e){var n=Di(e);if("number"==typeof n)return{order:n,localId:r}}return{localId:r}}}],toDOM:function(t){var e,r,n=Di(null==t||null===(e=t.attrs)||void 0===e?void 0:e.order);return["ol",{start:"number"==typeof n?String(n):void 0,class:Ei.substr(1),"data-local-id":(null==t||null===(r=t.attrs)||void 0===r?void 0:r.localId)||void 0},0]}}),function(t){return function(e){var r,n;return{level:t,localId:e.getAttribute("data-local-id")||(null===(r=Si.attrs)||void 0===r||null===(n=r.localId)||void 0===n?void 0:n.default)}}}),Si=P({parseDOM:[{tag:"h1",getAttrs:Ci(1)},{tag:"h2",getAttrs:Ci(2)},{tag:"h3",getAttrs:Ci(3)},{tag:"h4",getAttrs:Ci(4)},{tag:"h5",getAttrs:Ci(5)},{tag:"h6",getAttrs:Ci(6)}],toDOM:function(t){var e=t.attrs,r=e.level,n=e.localId;return["h"+r].concat(null!=n?[{"data-local-id":n}]:[],[0])}}),ji={parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},Ii=(g(ji),h(ji)),Fi=(h({parseDOM:[{tag:"blockquote",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["blockquote",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}}),function(t){return t.getAttribute("data-language")||void 0}),Mi=function(t){if(t&&t.classList.contains("codehilite"))return Li(t.className)},Pi=function(t){var e=t.firstElementChild;if(e&&"CODE"===e.nodeName)return e.getAttribute("data-language")||void 0},Li=function(t){var e=/(?:^|\s)language-([^\s]+)/.exec(t);if(e&&e[1])return e[1]},Ti=function(t){var e=t&&t.parentElement;return e&&e.classList.contains("codehilite")&&(t.textContent=t.textContent.replace(/\n$/,"")),t};function Ni(t){var e="";return t.childNodes.forEach(function(t){if(t.nodeType===Node.TEXT_NODE)e+=t.nodeValue;else if(t.nodeType===Node.ELEMENT_NODE&&t instanceof Element){var r=t.tagName.toLowerCase();"div"!==r&&"p"!==r||null!==t.previousElementSibling&&(e+="\n"),e+="br"===r?"\n":Ni(t)}}),e}var Bi=_({parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var e=t,r=Mi(e.parentElement)||Fi(e.parentElement)||Pi(e)||e.getAttribute("data-language");return e=Ti(e),{language:r}}},{tag:"div[style]",preserveWhitespace:"full",getAttrs:function(t){var e=t;return!!("pre"===e.style.whiteSpace||e.style.fontFamily&&e.style.fontFamily.toLowerCase().indexOf("monospace")>-1)&&{}},getContent:function(t,e){var r=Ni(t);return r?ln.from(e.text(r)):ln.empty}},{tag:"table[style]",preserveWhitespace:"full",getAttrs:function(t){return!!t.querySelector('td[class*="blob-code"]')&&{}}},{tag:"div.code-block",preserveWhitespace:"full",getAttrs:function(t){var e=t.querySelectorAll(".react-syntax-highlighter-line-number");return e.length>0&&e.forEach(function(t){return t.remove()}),{}}}],toDOM:function(t){return["pre",["code",{"data-language":t.attrs.language},0]]}});_({parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var e=t,r=Mi(e.parentElement)||Fi(e.parentElement)||Pi(e)||e.getAttribute("data-language");return e=Ti(e),{language:r,localId:_t()}}},{tag:"div[style]",preserveWhitespace:"full",getAttrs:function(t){var e=t;return!!("pre"===e.style.whiteSpace||e.style.fontFamily&&e.style.fontFamily.toLowerCase().indexOf("monospace")>-1)&&{}},getContent:function(t,e){var r=Ni(t);return r?ln.from(e.text(r)):ln.empty}},{tag:"table[style]",preserveWhitespace:"full",getAttrs:function(t){return!!t.querySelector('td[class*="blob-code"]')&&{}}},{tag:"div.code-block",preserveWhitespace:"full",getAttrs:function(t){var e=t.querySelectorAll(".react-syntax-highlighter-line-number");return e.length>0&&e.forEach(function(t){return t.remove()}),{}}}],toDOM:function(t){var e;return["pre",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},["code",{"data-language":t.attrs.language},0]]}});function zi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ri=function(t){return t.INFO="info",t.NOTE="note",t.TIP="tip",t.WARNING="warning",t.ERROR="error",t.SUCCESS="success",t.CUSTOM="custom",t}({}),Vi=function(t,e){return{parseDOM:[{tag:"div[data-panel-type]",getAttrs:function(r){return function(t,e,r){var n={panelType:e.getAttribute("data-panel-type")};return r&&(n.localId=_t()),t?n=Ui(Ui({},n),{},{panelIcon:e.getAttribute("data-panel-icon"),panelIconId:e.getAttribute("data-panel-icon-id"),panelIconText:e.getAttribute("data-panel-icon-text"),panelColor:e.getAttribute("data-panel-color")}):n.panelType=n.panelType===Ri.CUSTOM?Ri.INFO:n.panelType,n}(t,r,e)}}],toDOM:function(t){var e;return["div",{"data-panel-type":(e=t.attrs).panelType,"data-panel-icon":e.panelIcon,"data-panel-icon-id":e.panelIconId,"data-panel-icon-text":e.panelIconText,"data-panel-color":e.panelColor,"data-local-id":(null==e?void 0:e.localId)||void 0},["div",{"data-panel-content":"true"},0]]}}},Ki=["hr"],Gi=at({parseDOM:[{tag:"hr"}],toDOM:function(){return Ki}}),qi=(at({parseDOM:[{tag:"hr",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["hr",{"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0}]}}),L({parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs:function(t){var e=t;return{src:e.getAttribute("src"),alt:e.getAttribute("alt"),title:e.getAttribute("title")}}}],toDOM:function(t){return["img",t.attrs]}}));function $i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Wi=function(t){return t.DEFAULT="DEFAULT",t.SPECIAL="SPECIAL",t.APP="APP",t}({}),Hi=Q({parseDOM:[{tag:"span[data-mention-id]",getAttrs:function(t){var e=t,r={id:e.getAttribute("data-mention-id")||Hi.attrs.id.default,text:e.textContent||Hi.attrs.text.default,accessLevel:e.getAttribute("data-access-level")||Hi.attrs.accessLevel.default,localId:_t()},n=e.getAttribute("data-user-type");return Wi[n]&&(r.userType=n),r}}],toDOM:function(t){var e=t.attrs,r=e.id,n=e.accessLevel,a=e.text,i=e.userType,o=e.localId,s={"data-mention-id":r,"data-access-level":n,contenteditable:"false"};return o&&(s["data-local-id"]=o),i&&(s["data-user-type"]=i),["span",s,a]}}),Zi=b({parseDOM:[{tag:"figcaption[data-caption]"}],toDOM:function(){return["figcaption",{"data-caption":"true"},0]}});b({parseDOM:[{tag:"figcaption[data-caption]",getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e;return["figcaption",{"data-caption":"true","data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}});function Qi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qi(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Yi=G({}).attrs,to=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e?"span":"div",a=e?"mediaInline":"media",i=[{tag:"".concat(n,'[data-node-type="').concat(a,'"]'),getAttrs:function(e){var n={};t&&Object.keys(t).forEach(function(t){var r=ro(t).replace(/^__/,""),a=e.getAttribute("data-".concat(r))||"";a&&(n[t]=a)}),n.__fileSize&&(n.__fileSize=+n.__fileSize);var a=Number(n.width);void 0===a||isNaN(a)||(n.width=a);var i=Number(n.height);return void 0===i||isNaN(i)||(n.height=i),r&&(n.localId=_t()),n}},{tag:'img[src^="data:image"]',ignore:!0}],o=function(t){var e={"data-id":t.attrs.id,"data-node-type":"".concat(a),"data-type":t.attrs.type,"data-collection":t.attrs.collection,"data-occurrence-key":t.attrs.occurrenceKey,"data-width":t.attrs.width,"data-height":t.attrs.height,"data-url":t.attrs.url,"data-alt":t.attrs.alt,"data-local-id":t.attrs.localId||void 0,title:"Attachment",style:"display: inline-block; border-radius: 3px; background: ".concat("#EBECF0","; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);")};return no(t.attrs,e,function(t){return"data-".concat(ro(t.slice(2)))}),["".concat(n),e]};return e?$({parseDOM:i,toDOM:o}):G({parseDOM:[].concat(i,[{tag:"img:not(.smart-link-icon)",getAttrs:function(t){var e={type:"external",url:t.getAttribute("src")||"",alt:t.getAttribute("alt")||""};return r&&(e.localId=_t()),e}}]),toDOM:o})},eo=to(Yi,!1,!1),ro=(to(Xi(Xi({},Yi),{},{localId:{default:_t()}}),!1,!0),function(t){return t.replace(/([^A-Z]+)([A-Z])/g,function(t,e,r){return"".concat(e,"-").concat(r.toLowerCase())})}),no=function(t,e,r){eo.attrs&&Object.keys(eo.attrs).forEach(function(n){"_"===n[0]&&"_"===n[1]&&t[n]&&(e[r?r(n):n]=t[n])})},ao=["occurrenceKey","width","height","url","alt","localId"],io=["type","url","width","height","alt","localId"],oo=function(t){return{attrs:Object.keys(t.attrs).filter(function(t){return!("_"===t[0]&&"_"===t[1])}).reduce(function(e,r){return"external"===t.attrs.type&&-1===io.indexOf(r)||ao.indexOf(r)>-1&&(null===t.attrs[r]||""===t.attrs[r])?e:-1!==["width","height"].indexOf(r)?(e[r]=Number(t.attrs[r]),e):(e[r]=t.attrs[r],e)},{})}},so=q({parseDOM:[{tag:'div[data-node-type="mediaGroup"]'},{tag:'div[class="MediaGroup"]'}],toDOM:function(){return["div",{"data-node-type":"mediaGroup"},0]}}),lo=function(t){return t.PIXEL="pixel",t.PERCENTAGE="percentage",t}({});function uo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?uo(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var po=function(t){var e=t.withCaption,r=void 0!==e&&e,n=t.withExtendedWidthTypes,a=void 0!==n&&n,i=t.generateLocalId,o=void 0!==i&&i,s=function(t){if(!si(t))return{layout:"center"};var e=t.getAttribute("data-layout")||"center",r=Number(t.getAttribute("data-width"))||null,n=t.getAttribute("data-width-type");return o?{layout:e,width:r,widthType:n,localId:_t()}:a?{layout:e,width:r,widthType:n}:n===lo.PIXEL?{layout:e}:{layout:e,width:r}},l=function(t){var e,r=t.attrs,n=r.layout,i=r.width,s={"data-node-type":"mediaSingle","data-layout":n,"data-width":""};o&&(s["data-local-id"]=(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0);if(i&&(s["data-width"]=isFinite(i)&&Math.floor(i)===i?i:i.toFixed(2)),a&&t.attrs.widthType){var l=t.attrs.widthType;return co(co({},s),{},{"data-width-type":l||lo.PERCENTAGE})}return s};return a&&r?H({parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:s}],toDOM:function(t){return["div",l(t),0]}}):a&&!r?Z({parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:s}],toDOM:function(t){return["div",l(t),0]}}):!a&&r?W({parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:s}],toDOM:function(t){return["div",l(t),0]}}):J({parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:s}],toDOM:function(t){return["div",l(t),0]}})},fo=(po({withCaption:!1,withExtendedWidthTypes:!1}),po({withCaption:!0,withExtendedWidthTypes:!1}),po({withCaption:!1,withExtendedWidthTypes:!0}),po({withCaption:!0,withExtendedWidthTypes:!0}));po({withCaption:!0,withExtendedWidthTypes:!0,generateLocalId:!0});function ho(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function go(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var vo=to($({}).attrs,!0),mo=(to(go(go({},$({}).attrs),{},{localId:{default:_t()}}),!0,!0),nt({parseDOM:[{tag:"span[data-placeholder]",getAttrs:function(t){return{text:t.getAttribute("data-placeholder")||mo.attrs.text.default}}}],toDOM:function(t){var e=t.attrs.text;return["span",{"data-placeholder":e,contenteditable:"true"},e]}})),yo=(nt({parseDOM:[{tag:"span[data-placeholder]",getAttrs:function(t){return{text:t.getAttribute("data-placeholder")||mo.attrs.text.default,localId:_t()}}}],toDOM:function(t){var e,r=t.attrs.text;return["span",{"data-placeholder":r,contenteditable:"true","data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},r]}}),B({parseDOM:[{context:"layoutColumn//",tag:"div[data-layout-column]",skip:!0},{tag:"div[data-layout-column]",getAttrs:function(t){return{width:Number(t.getAttribute("data-column-width"))||void 0}}}],toDOM:function(t){var e={"data-layout-column":"true"},r=t.attrs.width;r&&(e.style="flex-basis: ".concat(r,"%"),e["data-column-width"]="".concat(r));return["div",e,["div",{"data-layout-content":"true"},0]]}})),bo=(B({parseDOM:[{context:"layoutColumn//",tag:"div[data-layout-column]",skip:!0},{tag:"div[data-layout-column]",getAttrs:function(t){return{width:Number(t.getAttribute("data-column-width"))||void 0,localId:_t()}}}],toDOM:function(t){var e,r={"data-layout-column":"true","data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},n=t.attrs.width;n&&(r.style="flex-basis: ".concat(n,"%"),r["data-column-width"]="".concat(n));return["div",r,["div",{"data-layout-content":"true"},0]]}}),M({parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}})),_o="2b50",ko={smile:["1f642",":slight_smile:","🙂"],sad:["1f641",":slight_frown:","🙁"],cheeky:["1f61b",":stuck_out_tongue:","😛"],laugh:["1f600",":grinning:","😀"],wink:["1f609",":wink:","😉"],information:["2139",":information_source:","ℹ"],tick:["2705",":white_check_mark:","✅"],cross:["274c",":x:","❌"],warning:["26a0",":warning:","⚠"],plus:["2795",":heavy_plus_sign:","➕"],minus:["2796",":heavy_minus_sign:","➖"],question:["2753",":question:","?"],"thumbs-up":["1f44d",":thumbsup:","👍"],"thumbs-down":["1f44e",":thumbsdown:","👎"],"light-on":["1f4a1",":bulb:","💡"],"yellow-star":["2b50",":star:","💛"],"light-off":["1f6ab",":no_entry_sign:","🚫"],"red-star":["2764",":heart:","❤️"],"green-star":["1f49a",":green_heart:","💚"],"blue-star":["1f499",":blue_heart:","💙"],heart:["2764",":heart:","❤️"],"broken-heart":["1f494",":broken_heart:","💔"]};function Oo(t){var e=ko[t];return e?{id:e[0],shortName:e[1],text:e[2]}:{id:_o,shortName:":".concat(t,":"),text:""}}function xo(t){return{id:"".concat("atlassian-").concat(t),shortName:":".concat(t,":"),text:""}}function wo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Eo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wo(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Do=S({parseDOM:[{tag:"div.ak-editor-panel__icon span",ignore:!0},{tag:"span[data-emoji-short-name]",getAttrs:function(t){var e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Do.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Do.attrs.id.default,text:e.getAttribute("data-emoji-text")||Do.attrs.text.default}}},{tag:"img[data-emoticon-name]",getAttrs:function(t){return Oo(t.getAttribute("data-emoticon-name"))}},{tag:"img[data-hipchat-emoticon]",getAttrs:function(t){return xo(t.getAttribute("data-hipchat-emoticon"))}},{tag:"img.emoji[data-emoji-short-name]",getAttrs:function(t){var e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Do.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Do.attrs.id.default,text:e.getAttribute("data-emoji-text")||Do.attrs.text.default}}}],toDOM:function(t){var e=t.attrs,r=e.shortName,n=e.id,a=e.text;return["span",{"data-emoji-short-name":r,"data-emoji-id":n,"data-emoji-text":a,contenteditable:"false"},a]}}),Ao=(S({parseDOM:[{tag:"div.ak-editor-panel__icon span",ignore:!0},{tag:"span[data-emoji-short-name]",getAttrs:function(t){var e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Do.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Do.attrs.id.default,text:e.getAttribute("data-emoji-text")||Do.attrs.text.default,localId:_t()}}},{tag:"img[data-emoticon-name]",getAttrs:function(t){return Eo(Eo({},Oo(t.getAttribute("data-emoticon-name"))),{},{localId:_t()})}},{tag:"img[data-hipchat-emoticon]",getAttrs:function(t){return Eo(Eo({},xo(t.getAttribute("data-hipchat-emoticon"))),{},{localId:_t()})}},{tag:"img.emoji[data-emoji-short-name]",getAttrs:function(t){var e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Do.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Do.attrs.id.default,text:e.getAttribute("data-emoji-text")||Do.attrs.text.default,localId:_t()}}}],toDOM:function(t){var e,r=t.attrs,n=r.shortName,a=r.id,i=r.text;return["span",{"data-emoji-short-name":n,"data-emoji-id":a,"data-emoji-text":i,contenteditable:"false","data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},i]}}),"confluenceJiraIssue"),Co=k({parseDOM:[{tag:'span[data-node-type="'.concat(Ao,'"]'),getAttrs:function(t){var e=t;return{issueKey:e.textContent,macroId:e.dataset&&e.dataset.macroId,schemaVersion:e.dataset&&e.dataset.schemaVersion,server:e.dataset&&e.dataset.server,serverId:e.dataset&&e.dataset.serverId}}}],toDOM:function(t){return["span",{"data-node-type":Ao,"data-macro-id":t.attrs.macroId,"data-schema-version":t.attrs.schemaVersion,"data-server":t.attrs.server,"data-server-id":t.attrs.serverId,"data-jira-issue":t.attrs.issueKey},t.attrs.issueKey]}}),So="confluenceUnsupportedInline",jo=x({toDOM:function(t){return["div",{"data-node-type":So,"data-confluence-unsupported":"inline","data-confluence-unsupported-inline-cxhtml":t.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(So,'"]'),getAttrs:function(t){return{cxhtml:t.getAttribute("data-confluence-unsupported-inline-cxhtml")}}}]}),Io="confluenceUnsupportedBlock",Fo=O({toDOM:function(t){return["div",{"data-node-type":Io,"data-confluence-unsupported":"block","data-confluence-unsupported-block-cxhtml":t.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(Io,'"]'),getAttrs:function(t){return{cxhtml:t.getAttribute("data-confluence-unsupported-block-cxhtml")}}}]}),Mo="decisionList",Po='[data-node-type="'.concat(Mo,'"]'),Lo=D({parseDOM:[{tag:"ol".concat(Po),priority:100,getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e=t.attrs.localId;return["ol",{"data-node-type":Mo,"data-decision-list-local-id":e||"local-decision-list",style:"list-style: none; padding-left: 0"},0]}}),To=E({parseDOM:[{tag:"li[data-decision-local-id]",priority:100,getAttrs:function(t){return{localId:_t(),state:t.getAttribute("data-decision-state")}}}],toDOM:function(t){var e=t.attrs;return["li",{"data-decision-local-id":e.localId||"local-decision","data-decision-state":e.state},0]}}),No="actionList",Bo='[data-node-type="'.concat(No,'"]'),zo=gt({parseDOM:[{tag:"div".concat(Bo),priority:100,getAttrs:function(){return{localId:_t()}}}],toDOM:function(t){var e=t.attrs.localId;return["div",{"data-node-type":No,"data-task-list-local-id":e||"local-task-list",style:"list-style: none; padding-left: 0"},0]}}),Uo=w({parseDOM:[{tag:'span[data-node-type="date"]',getAttrs:function(t){return{timestamp:t.getAttribute("data-timestamp")}}}],toDOM:function(t){return["span",{"data-node-type":"date","data-timestamp":t.attrs.timestamp}]}}),Ro=(w({parseDOM:[{tag:'span[data-node-type="date"]',getAttrs:function(t){return{timestamp:t.getAttribute("data-timestamp"),localId:_t()}}}],toDOM:function(t){var e;return["span",{"data-node-type":"date","data-timestamp":t.attrs.timestamp,"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0}]}}),it({parseDOM:[{tag:'span[data-node-type="status"]',getAttrs:function(t){var e=t;return{text:e.textContent.replace(/\n/,"").trim(),color:e.getAttribute("data-color"),localId:_t(),style:e.getAttribute("data-style")}}}],toDOM:function(t){var e=t.attrs,r=e.text;return["span",{"data-node-type":"status","data-color":e.color,"data-local-id":e.localId,"data-style":e.style,contenteditable:"false"},r]}}));function Vo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vo(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Go(t,e){return{title:t.getAttribute("data-title"),__expanded:!0,localId:e?_t():void 0}}var qo,$o={parseDOM:[{context:"nestedExpand//",tag:'[data-node-type="nestedExpand"]',getAttrs:function(t){return Go(t,!1)}},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="nestedExpand"]',getAttrs:function(t){return Go(t,!1)}}],toDOM:function(t){var e;return["div",{"data-node-type":"nestedExpand","data-title":t.attrs.title,"data-expanded":t.attrs.__expanded,"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},0]}},Jo=Y($o),Wo=(Y(Ko(Ko({},$o),{},{parseDOM:[].concat((qo=$o.parseDOM,function(t){if(Array.isArray(t))return Ft(t)}(qo)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(qo)||Mt(qo)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{context:"nestedExpand//",tag:'[data-node-type="nestedExpand"]',getAttrs:function(t){return Go(t,!0)}},{tag:'[data-node-type="nestedExpand"]',getAttrs:function(t){return Go(t,!0)}}])})),I({parseDOM:[{tag:'[data-node-type="extension"]',getAttrs:function(t){return xt(t)}}],toDOM:function(t){return["div",{"data-node-type":"extension","data-extension-type":t.attrs.extensionType,"data-extension-key":t.attrs.extensionKey,"data-text":t.attrs.text,"data-parameters":JSON.stringify(t.attrs.parameters),"data-layout":t.attrs.layout,"data-local-id:":t.attrs.localId}]}})),Ho=N({parseDOM:[{tag:"span[data-extension-type]",getAttrs:function(t){return xt(t,!0)}}],toDOM:function(t){return["span",{"data-extension-type":t.attrs.extensionType,"data-extension-key":t.attrs.extensionKey,"data-text":t.attrs.text,"data-parameters":JSON.stringify(t.attrs.parameters),"data-local-id:":t.attrs.localId,contenteditable:"false"}]}}),Zo=m({parseDOM:[{context:"bodiedExtension//",tag:'[data-node-type="bodied-extension"]',skip:!0},{tag:'[data-node-type="bodied-extension"]',getAttrs:function(t){return xt(t)}}],toDOM:function(t){return["div",{"data-node-type":"bodied-extension","data-extension-type":t.attrs.extensionType,"data-extension-key":t.attrs.extensionKey,"data-text":t.attrs.text,"data-parameters":JSON.stringify(t.attrs.parameters),"data-layout":t.attrs.layout,"data-local-id:":t.attrs.localId},0]}}),Qo=T({parseDOM:[{tag:"a[data-inline-card], span[data-inline-card]",priority:100,getAttrs:function(t){var e=t,r=e.getAttribute("data-card-data");return{url:e.getAttribute("href")||e.getAttribute("data-card-url")||null,data:r?JSON.parse(r):null}}},{tag:"div[data-inline-card]",getAttrs:function(t){var e=t,r=e.getAttribute("data-card-data");return{url:e.getAttribute("data-card-url"),data:r?JSON.parse(r):null}}}],toDOM:function(t){var e={"data-inline-card":"",href:t.attrs.url||"","data-card-data":t.attrs.data?JSON.stringify(t.attrs.data):""};return t.attrs.url?["a",e,t.attrs.url]:["a",e]}});T({parseDOM:[{tag:"a[data-inline-card], span[data-inline-card]",priority:100,getAttrs:function(t){var e=t,r=e.getAttribute("data-card-data");return{url:e.getAttribute("href")||e.getAttribute("data-card-url")||null,data:r?JSON.parse(r):null,localId:_t()}}},{tag:"div[data-inline-card]",getAttrs:function(t){var e=t,r=e.getAttribute("data-card-data");return{url:e.getAttribute("data-card-url"),data:r?JSON.parse(r):null,localId:_t()}}}],toDOM:function(t){var e,r={"data-inline-card":"",href:t.attrs.url||"","data-card-data":t.attrs.data?JSON.stringify(t.attrs.data):"","data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0};return t.attrs.url?["a",r,t.attrs.url]:["a",r]}});function Xo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xo(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ts=function(t){var e=t,r=e.getAttribute("data-card-data"),n=e.getAttribute("data-datasource");return{data:r?JSON.parse(r):void 0,layout:n&&t.getAttribute("data-layout")||void 0,width:Number(t.getAttribute("data-width"))||void 0,datasource:n?JSON.parse(n):void 0}},es=f({parseDOM:[{tag:"a[data-block-card]",priority:100,getAttrs:function(t){return Yo({url:t.getAttribute("href")||void 0},ts(t))}},{tag:"div[data-block-card]",getAttrs:function(t){return Yo({url:t.getAttribute("data-card-url")||void 0},ts(t))}}],toDOM:function(t){var e,r=t.attrs.url,n=t.attrs.data,a=t.attrs,i=a.layout,o=a.width,s=a.datasource;return["a",{"data-block-card":"",href:r||"","data-card-data":n?JSON.stringify(n):"","data-datasource":s?JSON.stringify(s):"","data-layout":i,"data-width":"".concat(o)},(null==t||null===(e=t.attrs)||void 0===e?void 0:e.url)||" "]}}),rs=(f({parseDOM:[{tag:"a[data-block-card]",priority:100,getAttrs:function(t){return Yo(Yo({url:t.getAttribute("href")||void 0},ts(t)),{},{localId:_t()})}},{tag:"div[data-block-card]",getAttrs:function(t){return Yo(Yo({url:t.getAttribute("data-card-url")||void 0},ts(t)),{},{localId:_t()})}}],toDOM:function(t){var e,r,n=t.attrs.url,a=t.attrs.data,i=t.attrs,o=i.layout,s=i.width,l=i.datasource;return["a",{"data-block-card":"",href:n||"","data-card-data":a?JSON.stringify(a):"","data-datasource":l?JSON.stringify(l):"","data-layout":o,"data-width":"".concat(s),"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0},(null==t||null===(r=t.attrs)||void 0===r?void 0:r.url)||" "]}}),C({parseDOM:[{tag:"div[data-embed-card]",getAttrs:function(t){return{url:t.getAttribute("data-card-url"),layout:t.getAttribute("data-layout")||"center",width:Number(t.getAttribute("data-width"))||null,originalWidth:Number(t.getAttribute("data-card-original-width"))||null,originalHeight:Number(t.getAttribute("data-card-original-height"))||null}}}],toDOM:function(t){var e=t.attrs;return["div",{"data-embed-card":"","data-card-url":e.url,"data-layout":e.layout,"data-width":e.width,"data-original-width":e.originalWidth,"data-original-height":e.originalHeight}]}})),ns=(C({parseDOM:[{tag:"div[data-embed-card]",getAttrs:function(t){return{url:t.getAttribute("data-card-url"),layout:t.getAttribute("data-layout")||"center",width:Number(t.getAttribute("data-width"))||null,originalWidth:Number(t.getAttribute("data-card-original-width"))||null,originalHeight:Number(t.getAttribute("data-card-original-height"))||null,localId:_t()}}}],toDOM:function(t){var e,r=t.attrs;return["div",{"data-embed-card":"","data-card-url":r.url,"data-layout":r.layout,"data-width":r.width,"data-original-width":r.originalWidth,"data-original-height":r.originalHeight,"data-local-id":(null==t||null===(e=t.attrs)||void 0===e?void 0:e.localId)||void 0}]}}),"unknownBlock");const as={group:"block",content:"inline+",marks:"_",toDOM:function(){return["div",{"data-node-type":ns},0]},parseDOM:[{tag:'div[data-node-type="'.concat(ns,'"]')}]};var is=mt({parseDOM:[{tag:'[data-node-type="unsupportedBlock"]',getAttrs:function(t){return{originalValue:JSON.parse(t.getAttribute("data-original-value")||"{}")}}}],toDOM:function(t){return["div",{"data-node-type":"unsupportedBlock","data-original-value":JSON.stringify(t.attrs.originalValue)},"Unsupported content"]}}),os=yt({parseDOM:[{tag:'[data-node-type="unsupportedInline"]',getAttrs:function(t){return{originalValue:JSON.parse(t.getAttribute("data-original-value")||"{}")}}}],toDOM:function(t){return["span",{"data-node-type":"unsupportedInline","data-original-value":JSON.stringify(t.attrs.originalValue)},"Unsupported content"]}});function ss(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};var n=t.reduce(function(t,n){var a=n.name,i=n.spec;return-1!==e.indexOf(a)&&(t[a]=r[a]||i),t},{});return Object.keys(r).reduce(function(t,e){return t[e]||(t[e]=r[e]),t},n)}function ls(t){return{name:"__".concat(t,"GroupDeclaration"),spec:{group:t}}}var us=[ls("color"),ls("fontStyle"),ls("searchQuery"),ls("link")],cs=us.map(function(t){return t.name}),ds=[{name:"doc",spec:_i},{name:"paragraph",spec:ki},{name:"text",spec:Oi},{name:"bulletList",spec:wi},{name:"orderedList",spec:Ai},{name:"listItem",spec:jt},{name:"heading",spec:Si},{name:"blockquote",spec:Ii},{name:"codeBlock",spec:Bi},{name:"panel",spec:function(t){return et(Vi(t))}(!0)},{name:"rule",spec:Gi},{name:"image",spec:qi},{name:"mention",spec:Hi},{name:"caption",spec:Zi},{name:"media",spec:eo},{name:"mediaGroup",spec:so},{name:"mediaSingle",spec:fo},{name:"mediaInline",spec:vo},{name:"placeholder",spec:mo},{name:"layoutSection",spec:kt},{name:"layoutColumn",spec:yo},{name:"hardBreak",spec:bo},{name:"emoji",spec:Do},{name:"table",spec:Rr},{name:"tableCell",spec:$r},{name:"tableRow",spec:Kr},{name:"tableHeader",spec:Hr},{name:"confluenceJiraIssue",spec:Co},{name:"confluenceUnsupportedInline",spec:jo},{name:"confluenceUnsupportedBlock",spec:Fo},{name:"decisionList",spec:Lo},{name:"decisionItem",spec:To},{name:"taskList",spec:zo},{name:"taskItem",spec:en},{name:"date",spec:Uo},{name:"status",spec:Ro},{name:"expand",spec:St},{name:"nestedExpand",spec:Jo},{name:"extension",spec:Wo},{name:"inlineExtension",spec:Ho},{name:"bodiedExtension",spec:Zo},{name:"multiBodiedExtension",spec:Et},{name:"extensionFrame",spec:wt},{name:"inlineCard",spec:Qo},{name:"blockCard",spec:es},{name:"embedCard",spec:rs},{name:"unknownBlock",spec:as},{name:"unsupportedBlock",spec:is},{name:"unsupportedInline",spec:os}],ps=[{name:"link",spec:Ma},{name:"em",spec:Ta},{name:"strong",spec:Ba},{name:"textColor",spec:Va},{name:"backgroundColor",spec:Ja},{name:"strike",spec:Wa},{name:"subsup",spec:Za},{name:"underline",spec:Qa},{name:"code",spec:Xa},{name:"typeAheadQuery",spec:Ya},{name:"alignment",spec:ti},{name:"annotation",spec:ni},{name:"confluenceInlineComment",spec:ai}].concat(us,[{name:"breakout",spec:oi},{name:"dataConsumer",spec:ci},{name:"fragment",spec:fi},{name:"indentation",spec:hi},{name:"border",spec:mi},{name:"unsupportedMark",spec:yi},{name:"unsupportedNodeAttribute",spec:bi}]);function fs(t){var e=t.customNodeSpecs,r=t.customMarkSpecs,n=Object.keys(e||{}).concat(t.nodes),a=Object.keys(r||{}).concat(t.marks||[]).concat(cs),i=ss(ds,n,e),o=ss(ps,a,r);return i=ta(i,o),new Qn({nodes:i,marks:o})}var hs=function(t,e){void 0===e&&(e=i);var r=null;function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(r&&r.lastThis===this&&e(n,r.lastArgs))return r.lastResult;var i=t.apply(this,n);return r={lastResult:i,lastArgs:n,lastThis:this},i}return n.clear=function(){r=null},n}(function(){var t={nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","panel","rule","image","caption","mention","media","mediaGroup","mediaSingle","mediaInline","confluenceUnsupportedBlock","confluenceUnsupportedInline","confluenceJiraIssue","expand","nestedExpand","extension","inlineExtension","bodiedExtension","hardBreak","emoji","table","tableCell","tableHeader","tableRow","decisionList","decisionItem","taskList","taskItem","unknownBlock","date","status","placeholder","layoutSection","layoutColumn","inlineCard","blockCard","embedCard","unsupportedBlock","unsupportedInline"],marks:["link","em","strong","strike","subsup","underline","code","textColor","backgroundColor","confluenceInlineComment","breakout","alignment","indentation","annotation","dataConsumer","border","unsupportedMark","unsupportedNodeAttribute","typeAheadQuery","fragment"]};return"stage0"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"final")&&(t.customNodeSpecs={layoutSection:Ot,multiBodiedExtension:Et,extensionFrame:wt,expand:St,listItem:It,table:Qr,tableRow:Xr,tableCell:Yr,tableHeader:tn,blockTaskItem:rn}),fs(t)}),gs=hs();function vs(t){var e=["doc","paragraph","text","hardBreak","heading","rule"],r=["strong","em","underline","typeAheadQuery","unsupportedMark","unsupportedNodeAttribute"];return t.allowLinks&&r.push("link"),t.allowLists&&e.push("orderedList","bulletList","listItem"),t.allowMentions&&(e.push("mention"),r.push("mentionQuery")),t.allowEmojis&&e.push("emoji"),t.allowAdvancedTextFormatting&&r.push("strike","code"),t.allowSubSup&&r.push("subsup"),t.allowCodeBlock&&e.push("codeBlock"),t.allowBlockQuote&&e.push("blockquote"),t.allowMedia&&e.push("mediaGroup","mediaSingle","media","caption","mediaInline"),t.allowTextColor&&r.push("textColor"),t.allowTables&&e.push("table","tableCell","tableHeader","tableRow"),fs({nodes:e,marks:r})}function ms(t){return!!t.nodes.bulletList}function ys(t){return!!t.nodes.mention}function bs(t){return!!t.marks.code&&!!t.marks.strike}function _s(t){return!!t.nodes.codeBlock}function ks(t){return!!t.nodes.blockquote}function Os(t){return!!t.nodes.mediaGroup&&!!t.nodes.media&&!!t.nodes.mediaInline}function xs(t){return!!(t.nodes.table&&t.nodes.tableCell&&t.nodes.tableHeader&&t.nodes.tableRow)}var ws=r(6263);const Es=r.n(ws)();function Ds(t){switch(t.nodeName.toUpperCase()){case"ADDRESS":case"ARTICLE":case"ASIDE":case"AUDIO":case"BLOCKQUOTE":case"BODY":case"CANVAS":case"CENTER":case"DD":case"DIR":case"DIV":case"DL":case"DT":case"FIELDSET":case"FIGCAPTION":case"FIGURE":case"FOOTER":case"FORM":case"FRAMESET":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"HEADER":case"HGROUP":case"HR":case"HTML":case"ISINDEX":case"LI":case"MAIN":case"MENU":case"NAV":case"NOFRAMES":case"NOSCRIPT":case"OL":case"OUTPUT":case"P":case"PRE":case"SECTION":case"TABLE":case"TBODY":case"TD":case"TFOOT":case"TH":case"THEAD":case"TR":case"UL":return!0}return!1}function As(t){return t&&t.nodeName.toUpperCase()}function Cs(t){return!!t&&("SPAN"===As(t)&&t instanceof HTMLElement&&!!t.querySelector('a > jira-attachment-thumbnail > img[data-attachment-type="thumbnail"], a[data-attachment-type="file"]'))}function Ss(t){for(var e=[],r=[],n=!1,a=!1,i=function(){r.length&&("BR"===As(r[0])&&r.shift(),e.push(r),r=[])},o=0,s=t.childNodes.length;o<s;o++){var l=t.childNodes[o];if(a=!1,"BR"===As(l))n&&(i(),n=!1,a=!0),Cs(l.nextSibling)&&(n=!0,r.length&&(e.push(r),r=[]));else if(Cs(l))null===l.previousSibling&&(n=!0);else if(n){if("#TEXT"===As(l)&&""===(l.textContent||"").trim())continue;r=(e.pop()||[]).concat(r),n=!1}a||r.push(l)}if(n?i():e.push(r),e.length>1){var u=document.createDocumentFragment();e.forEach(function(t){var e=document.createElement("p");t.forEach(function(t){return e.appendChild(t)}),u.appendChild(e)});var c=t.parentNode;c.insertBefore(u,t.nextSibling),c.removeChild(t)}}var js={"smile.png":"🙂","sad.png":"☹️","tongue.png":"😛","biggrin.png":"😁","wink.png":"😉","thumbs_up.png":"👍","thumbs_down.png":"👎","information.png":"ℹ️","check.png":"✅","error.png":"❌","warning.png":"⚠️","add.png":"➕","forbidden.png":"➖","help_16.png":"❓","lightbulb_on.png":"💡","lightbulb.png":"⛔️","star_yellow.png":"💛","star_red.png":"❤️","star_green.png":"💚","star_blue.png":"💙","flag.png":"🚩","flag_gray.png":"🏳"};function Is(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Fs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ms(t,e,r){if(e.nodes.paragraph.validContent(t))return ln.fromArray([e.nodes.paragraph.createChecked({},t)]);var n=[];return r&&r===e.nodes.listItem&&t.firstChild&&(t.firstChild.type===e.nodes.bulletList||t.firstChild.type===e.nodes.orderedList)&&n.push(e.nodes.paragraph.createAndFill()),t.forEach(function(t){t.isBlock?n.push(t):n.push(e.nodes.paragraph.createChecked({},t))}),ln.fromArray(n)}function Ps(t,e,r){if(e.nodeType===Node.TEXT_NODE){var n=e.textContent;return n?r.text(n):null}if(e instanceof HTMLElement){var a=e.tagName.toUpperCase();switch(a){case"DEL":return bs(r)?Ls(t,[r.marks.strike.create()]):null;case"B":return Ls(t,[r.marks.strong.create()]);case"EM":return Ls(t,[r.marks.em.create()]);case"TT":return bs(r)?Ls(t,[r.marks.code.create()]):null;case"SUB":case"SUP":if(!function(t){return!!t.marks.subsup}(r))return null;var i="SUB"===a?"sub":"sup";return Ls(t,[r.marks.subsup.create({type:i})]);case"INS":return Ls(t,[r.marks.underline.create()]);case"FONT":if(!function(t){return!!t.marks.textColor}(r))return null;var o=vr(e.getAttribute("color"),"#333333");return o?Ls(t,[r.marks.textColor.create({color:o})]):t;case"A":if("user-hover"===e.className&&ys(r))return r.nodes.mention.createChecked({id:e.getAttribute("rel"),text:e.textContent});if(e.className.match("jira-issue-macro-key")||!t||!function(t){return!!t.marks.link}(r))return null;var s=e.getAttribute("href"),l=e.getAttribute("title");return s?Ls(t,[r.marks.link.create({href:s,title:l})]):t;case"SPAN":if(e.className.split(" ").indexOf("jira-issue-macro")>-1){var u=e.getAttribute("data-jira-key"),c=e.getElementsByTagName("a")[0];return u&&c?Ls(ln.from(r.text(u)),[r.marks.link.create({href:c.getAttribute("href"),title:c.getAttribute("title")})]):null}if(e.className.match("jira-macro-single-issue-export-pdf"))return null;if(e.className.match("code-"))return null;if(Ns(e)&&Os(r)){var d=e.querySelector("[data-media-services-id]");if(d&&d instanceof HTMLElement){var p=d.getAttribute("data-media-services-id"),f=d.getAttribute("data-media-services-type"),h=d.getAttribute("data-media-services-collection")||"",g=d.getAttribute("data-attachment-name"),v=d.getAttribute("data-attachment-type"),m=d.getAttribute("data-file-name"),y=d.getAttribute("data-display-type"),b=parseInt(d.getAttribute("data-width")||"",10),_=parseInt(d.getAttribute("data-height")||"",10);return r.nodes.media.createChecked({id:p,type:f,collection:h,width:b||null,height:_||null,__fileName:g||m,__displayType:v||y||"thumbnail"})}}break;case"IMG":if(e.parentElement&&e.parentElement.className.match("jira-issue-macro-key"))return null;if("emoticon"===e.className){var k=function(t){var e=t.src,r=e.lastIndexOf("/");return e=e.substr(r+1),js[e]||null}(e);if(k)return r.text(k)}break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":var O=Number(a.charAt(1)),x=[r.marks.link].filter(function(t){return!!t});return r.nodes.heading.createChecked({level:6===O?5:O},r.nodes.heading.validContent(t)?t:function(t,e,r){var n=[];return e.forEach(function(e){if(e.isInline){var a=e.marks.filter(function(t){return t.isInSet(r)});n.push(e.mark(a))}else n.push(t.text(e.textContent))}),ln.fromArray(n)}(r,t,x));case"BR":return r.nodes.hardBreak.createChecked();case"HR":return r.nodes.rule.createChecked();case"P":if(e.firstElementChild&&Ns(e.firstElementChild)){var w=r.nodes,E=w.mediaSingle,D=w.mediaGroup,A=w.paragraph,C=[],S=[],j=[],I=!1;if(t.forEach(function(t){t.type!==r.nodes.media?(t.isText&&/^\s*$/.test(t.text||"")||(I=!0),S.push(t)):C.push(t)}),I&&S.length&&j.push(A.createChecked({},S)),Os(r)&&C.length){var F=function(t){if(Ns(t)){var e=t.querySelector("[data-media-services-id]");if(e instanceof HTMLElement){var r=parseInt(e.getAttribute("data-width")||"",10),n=parseInt(e.getAttribute("data-height")||"",10);if(t.parentNode.classList.contains("mediaSingle")&&r&&n)return!0}}return!1}(e.firstElementChild)?E:D;j.push(F.createChecked({},C))}return j.length?ln.fromArray(j):null}return r.nodes.paragraph.createChecked({},t)}if(ms(r))switch(a){case"UL":return r.nodes.bulletList.createChecked({},t);case"OL":return r.nodes.orderedList.createChecked({},t);case"LI":var M=r.nodes.listItem.validContent(t)?t:Ms(t,r,r.nodes.listItem);return r.nodes.listItem.createChecked({},M)}if(_s(r))switch(a){case"DIV":if("codeContent panelContent"===e.className||e.className.match("preformattedContent"))return null;if("code panel"===e.className||"preformatted panel"===e.className){var P=e.querySelector("pre");if(!P)return null;var L="preformatted panel"===e.className?"plain":P.className.split("-")[1],T=(P.textContent||"").replace(/\r\n/g,"\n");return r.nodes.codeBlock.createChecked({language:L},T?r.text(T):void 0)}break;case"PRE":return null}if(ks(r)&&"BLOCKQUOTE"===a){var N=t&&t.content.length?t:r.nodes.paragraph.createChecked();return r.nodes.blockquote.createChecked({},N)}if(xs(r))switch(a){case"TABLE":return r.nodes.table.createChecked({},t);case"TR":return r.nodes.tableRow.createChecked({},t);case"TD":var B=r.nodes.tableCell.validContent(t)?t:Ms(t,r);return r.nodes.tableCell.createChecked({},B);case"TH":var z=r.nodes.tableHeader.validContent(t)?t:Ms(t,r);return r.nodes.tableHeader.createChecked({},z)}}}function Ls(t,e){for(var r=t,n=0;n<t.childCount;n++){var a,i=r.child(n),o=Is(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i=i.mark(s.addToSet(i.marks))}}catch(t){o.e(t)}finally{o.f()}r=r.replaceChild(n,i)}return r}function Ts(t){return t.nodeName.toUpperCase()}function Ns(t){return!!(t&&t instanceof HTMLElement&&t.parentNode&&"P"===Ts(t.parentNode)&&"SPAN"===Ts(t))&&!!t.querySelector('a > jira-attachment-thumbnail > img[data-attachment-type="thumbnail"], a[data-attachment-type="file"]')}function Bs(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return zs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Us=function(){return Nt(function t(e,r,n){Lt(this,t),this.schema=e,this.customEncoders=r||{},this.mediaContextInfo=n},[{key:"encode",value:function(t){this.doc=this.makeDocument(),this.doc.body.appendChild(this.encodeFragment(t.content));var e=this.doc.body.innerHTML;return"<p></p>"===e?"":e.replace(/<br><\/br>/g,"<br />").replace(/<br>/g,"<br />").replace(/<hr><\/hr>/g,"<hr />").replace(/<hr>/g,"<hr />").replace(/&amp;/g,"&")}},{key:"parse",value:function(t){var e=new WeakMap,r=function(t){for(var e=t.querySelectorAll("p"),r=0,n=e.length;r<n;r++)Ss(e[r]);return t}(function(t){var e="<!doctype html><html><body>".concat(t,"</body></html>"),r=(new window.DOMParser).parseFromString(e,"text/html");return Es(r.documentElement,Ds),r}(t)).querySelector("body"),n=function(t){for(var e,r=[t],n=[];e=r.shift();){n.push(e);var a=void 0;for(a=0;a<e.childNodes.length;a++){var i=e.childNodes[a];switch(i.nodeType){case Node.ELEMENT_NODE:case Node.TEXT_NODE:r.push(i)}}}return n.shift(),n}(r);if(1===n.length&&" "===n[0].textContent){var a=this.schema.nodes;return a.doc.createChecked({},a.paragraph.createChecked())}for(var i=n.length-1;i>=0;i--){var o=n[i],s=o.tagName&&"TABLE"===o.tagName.toUpperCase()?o.firstChild:o,l=Ps(this.getContent(s,e),o,this.schema);void 0!==l&&e.set(o,l)}var u=this.getContent(r,e),c=this.schema.nodes.doc.validContent(u)?u:Ms(u,this.schema);return this.schema.nodes.doc.createChecked({},c)}},{key:"getContent",value:function(t,e){var r,n=ln.fromArray([]);for(r=0;r<t.childNodes.length;r++){var a=t.childNodes[r],i=e.get(a);(i instanceof ln||i instanceof Fn)&&(n=n.append(ln.from(i)))}return n}},{key:"encodeNode",value:function(t){var e=this.schema.nodes,r=e.blockquote,n=e.bulletList,a=e.codeBlock,i=e.hardBreak,o=e.heading,s=e.listItem,l=e.mention,u=e.emoji,c=e.orderedList,d=e.paragraph,p=e.rule,f=e.mediaInline,h=e.mediaGroup,g=e.mediaSingle,v=e.media,m=e.table;if(t.isText)return this.encodeText(t);if(t.type.name===o.name)return this.encodeHeading(t);if(t.type.name===p.name)return this.encodeHorizontalRule();if(t.type.name===d.name)return this.encodeParagraph(t);if(t.type.name===i.name)return this.encodeHardBreak();if(ms(this.schema)){if(t.type.name===n.name)return this.encodeBulletList(t);if(t.type.name===c.name)return this.encodeOrderedList(t);if(t.type.name===s.name)return this.encodeListItem(t)}if(ys(this.schema)&&t.type.name===l.name)return this.encodeMention(t,this.customEncoders.mention);if(this.schema.nodes.emoji&&t.type.name===u.name)return this.encodeEmoji(t);if(_s(this.schema)&&t.type.name===a.name)return this.encodeCodeBlock(t);if(ks(this.schema)&&t.type.name===r.name)return this.encodeBlockQuote(t);if(Os(this.schema)){if(t.type.name===h.name)return this.encodeMediaGroup(t);if(t.type.name===g.name)return this.encodeMediaSingle(t);if(t.type.name===v.name||t.type.name===f.name)return this.encodeMedia(t)}if(xs(this.schema)&&t.type.name===m.name)return this.encodeTable(t);throw new Error("Unexpected node '".concat(t.type.name,"' for HTML encoding"))}},{key:"makeDocument",value:function(){var t=document.implementation.createHTMLDocument("");return t.body=t.createElement("body"),t.documentElement.appendChild(t.body),t}},{key:"encodeFragment",value:function(t){var e=this,r=this.doc.createDocumentFragment();return t.forEach(function(t){return r.appendChild(e.encodeNode(t))}),r}},{key:"encodeHeading",value:function(t){var e,r,n=t.attrs.level,a=this.doc.createElement("h".concat(6===n?5:n)),i=this.doc.createElement("a");return i.setAttribute("name",(e=t.textContent,r=e.replace(/ /g,""),encodeURIComponent(r).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)}))),a.appendChild(i),a.appendChild(this.encodeFragment(t.content)),a}},{key:"encodeParagraph",value:function(t){var e=this.doc.createElement("p");return e.appendChild(this.encodeFragment(t.content)),e}},{key:"encodeText",value:function(t){if(t.text){var e,r=this.doc.createDocumentFragment(),n=r,a=this.schema.marks,i=a.code,o=a.em,s=a.link,l=a.typeAheadQuery,u=a.strike,c=a.strong,d=a.subsup,p=a.underline,f=a.textColor,h=Bs(t.marks);try{for(h.s();!(e=h.n()).done;){var g=e.value;switch(g.type){case c:n=n.appendChild(this.doc.createElement("b"));break;case o:n=n.appendChild(this.doc.createElement("em"));break;case i:n=n.appendChild(this.doc.createElement("tt"));break;case u:n=n.appendChild(this.doc.createElement("del"));break;case p:n=n.appendChild(this.doc.createElement("ins"));break;case d:n=n.appendChild(this.doc.createElement(g.attrs.type));break;case s:var v=this.doc.createElement("a"),m=g.attrs.href;m.match(/^#/)||(v.setAttribute("class","external-link"),v.setAttribute("rel","nofollow")),v.setAttribute("href",m),g.attrs.title&&v.setAttribute("title",g.attrs.title),n=n.appendChild(v);break;case f:var y=this.doc.createElement("font");y.setAttribute("color",g.attrs.color),n=n.appendChild(y);break;case l:break;default:throw new Error("Unable to encode mark '".concat(g.type.name,"'"))}}}catch(t){h.e(t)}finally{h.f()}return n.textContent=t.text,r}return this.doc.createTextNode("")}},{key:"encodeHardBreak",value:function(){return this.doc.createElement("br")}},{key:"encodeHorizontalRule",value:function(){return this.doc.createElement("hr")}},{key:"encodeBulletList",value:function(t){var e=this.doc.createElement("ul");e.setAttribute("class","alternate"),e.setAttribute("type","disc"),e.appendChild(this.encodeFragment(t.content));for(var r=0;r<e.childElementCount;r++)e.children[r].setAttribute("data-parent","ul");return e}},{key:"encodeOrderedList",value:function(t){var e=this.doc.createElement("ol");e.appendChild(this.encodeFragment(t.content));for(var r=0;r<e.childElementCount;r++)e.children[r].setAttribute("data-parent","ol");return e}},{key:"encodeListItem",value:function(t){var e=this,r=this.doc.createElement("li");if(t.content.childCount){var n=!1;t.content.forEach(function(t){if(t.type===e.schema.nodes.bulletList||t.type===e.schema.nodes.orderedList){var a=e.encodeNode(t);a instanceof HTMLElement&&"UL"===a.tagName&&(a.setAttribute("type","circle"),[].forEach.call(a.querySelectorAll("ul"),function(t){t.setAttribute("type","square")})),r.appendChild(a)}else"paragraph"!==t.type.name||n?(t.isBlock&&(n=!0),r.appendChild(e.encodeNode(t))):r.appendChild(e.encodeFragment(t.content))})}return r}},{key:"encodeMention",value:function(t,e){var r=this.doc.createElement("a");return r.setAttribute("class","user-hover"),r.setAttribute("href",e?e(t.attrs.id):t.attrs.id),r.setAttribute("rel",t.attrs.id),r.appendChild(this.doc.createTextNode(t.attrs.text)),r}},{key:"encodeEmoji",value:function(t){return this.doc.createTextNode(t.attrs&&t.attrs.text)}},{key:"encodeCodeBlock",value:function(t){var e=this.doc.createElement("div");e.setAttribute("class","code panel");var r=this.doc.createElement("div");r.setAttribute("class","codeContent panelContent");var n=this.doc.createElement("pre");return n.setAttribute("class","code-".concat((t.attrs.language||"plain").toLocaleLowerCase())),n.appendChild(this.encodeFragment(t.content)),r.appendChild(n),e.appendChild(r),e}},{key:"encodeBlockQuote",value:function(t){var e=this.doc.createElement("blockquote");return e.appendChild(this.encodeFragment(t.content)),e}},{key:"encodeMediaGroup",value:function(t){var e=this.doc.createElement("p");return e.setAttribute("class","mediaGroup"),e.appendChild(this.encodeFragment(t.content)),e}},{key:"encodeMediaSingle",value:function(t){var e=this.doc.createElement("p");return e.setAttribute("class","mediaSingle"),e.appendChild(this.encodeFragment(t.content)),e}},{key:"addDataToNode",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"thumbnail",n=e.attrs,a=n.id,i=n.type,o=n.collection,s=n.__fileName,l=n.__displayType,u=n.width,c=n.height;t.setAttribute("data-attachment-type",l||r),s&&t.setAttribute("data-attachment-name",s),u&&t.setAttribute("data-width",u),c&&t.setAttribute("data-height",c),t.setAttribute("data-media-services-type",i),t.setAttribute("data-media-services-id",a),o&&t.setAttribute("data-media-services-collection",o)}},{key:"buildURLWithContextInfo",value:function(t,e){var r=e.clientId,n=e.baseUrl,a=e.token,i=e.collection;return"".concat(n,"/file/").concat(t,"/image?token=").concat(a,"&client=").concat(r,"&collection=").concat(i,"&width=200&height=200&mode=fit")}},{key:"isImageMimeType",value:function(t){return t&&t.indexOf("image/")>-1}},{key:"encodeMedia",value:function(t){var e=this.doc.createElement("span"),r=this.doc.createElement("a");if("file"===t.attrs.__displayType||!t.attrs.__displayType&&!this.isImageMimeType(t.attrs.__fileMimeType))e.setAttribute("class","nobr"),this.addDataToNode(r,t,"file"),r.textContent=t.attrs.__fileName||"";else{e.setAttribute("class","image-wrap");var n=this.doc.createElement("img");n.setAttribute("alt",t.attrs.__fileName),t.attrs.collection&&this.mediaContextInfo&&this.mediaContextInfo.uploadContext?n.setAttribute("src",this.buildURLWithContextInfo(t.attrs.id,this.mediaContextInfo.uploadContext)):this.mediaContextInfo&&this.mediaContextInfo.viewContext&&n.setAttribute("src",this.buildURLWithContextInfo(t.attrs.id,this.mediaContextInfo.viewContext)),this.addDataToNode(n,t);var a=this.doc.createElement("jira-attachment-thumbnail");a.appendChild(n),r.appendChild(a)}return e.appendChild(r),e}},{key:"encodeTable",value:function(t){var e=this,r=this.doc.createElement("table"),n=this.doc.createElement("tbody");return t.descendants(function(t){var r=e.doc.createElement("tr");return t.descendants(function(t){var n=t.type===e.schema.nodes.tableCell?"d":"h",a=e.doc.createElement("t".concat(n));return a.setAttribute("class","confluenceT".concat(n)),a.appendChild(e.encodeFragment(t.content)),r.appendChild(a),!1}),n.appendChild(r),!1}),r.appendChild(n),r.setAttribute("class","confluenceTable"),r}}])}(),Rs=r(2404),Vs=r.n(Rs),Ks={canOverrideUnsupportedMark:function(){return!0}},Gs={canOverrideUnsupportedMark:function(){return!1}};function qs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qs=function(){return!!t})()}var $s=function(t){function e(t){var r,n,a,i;return Lt(this,e),n=this,i=[t],a=pe(a=e),(r=de(n,qs()?Reflect.construct(a,i||[],pe(n).constructor):a.apply(n,i))).name="NodeNestingTransformError",r}return he(e,t),Nt(e)}(ve(Error));function Js(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ws(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Js(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Js(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Hs="com.atlassian.confluence.migration",Zs="nested-table";var Qs=function(t){try{var e;return Ws(Ws({},t),{},{content:null===(e=t.content)||void 0===e?void 0:e.map(function(t){return"table"===(null==t?void 0:t.type)?{type:"extension",attrs:{extensionType:Hs,extensionKey:Zs,parameters:{adf:JSON.stringify({type:"doc",version:1,content:[t]})}}}:t})})}catch(t){throw new $s("Failed to encode nested table node")}};function Xs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xs(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tl(t,e){return el(t,{node:void 0},e,0,0)}function el(t,e,r,n,a){var i=r[t.type]||r.any,o=Ys({},t);if(i){var s=i(Ys({},o),e,n,a);if(!1===s)return!1;o=s||t}return o.content&&(o.content=o.content.reduce(function(t,n,i){if(!n)return t;var s=el(n,{node:o,parent:e},r,i,a+1);return!1!==s&&t.push(s),t},[])),o}function rl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function nl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function al(t){var e=nl({},t);return delete e.marks,e}function il(t){var e=nl({},t);return t.marks&&(e.marks=t.marks.filter(function(t){return"annotation"===t.type})),e}function ol(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function sl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ol(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ol(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ll=function(t){var e;return null===(e=t.content)||void 0===e?void 0:e.some(function(t){return"table"===(null==t?void 0:t.type)})};function ul(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).keepNestedTables,r=void 0!==e&&e;return tl(t,{text:function(t){return t&&Array.isArray(t.marks)?sl(sl({},t),{},{marks:t.marks.filter(function(t){return"typeAheadQuery"!==t.type})}):t},status:function(t){return!(!t.attrs||!t.attrs.text)&&il(t)},caption:function(t){return!!t.content&&t},tableCell:function(t){if(ll(t))return r?t:Qs(t)},tableHeader:function(t){if(ll(t))return r?t:Qs(t)},emoji:il,mention:il,date:il,hardBreak:al,inlineCard:il})}function cl(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function dl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dl(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dl(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var fl=function(t){return function(e){return e.type.name===t}},hl=new Set(["paragraph","layoutSection","blockquote","nestedExpand","bulletList","listItem","orderedList","rule","caption","tableRow","media","mediaSingle","mediaInline"]),gl=fl("codeBlock"),vl=fl("media"),ml=fl("mediaInline"),yl=fl("mediaSingle"),bl=fl("mention"),_l=fl("paragraph"),kl=fl("heading"),Ol=fl("table"),xl=fl("tableCell"),wl=fl("tableHeader"),El=fl("link"),Dl=fl("unsupportedMark"),Al=fl("unsupportedNodeAttribute"),Cl=fl("expand"),Sl=fl("nestedExpand"),jl=fl("dataConsumer"),Il=fl("fragment"),Fl=fl("hardBreak"),Ml=function(t){var e=pl({},t);for(var r in e){var n=e[r];if(null===n){var a=e;a[r];e=Bt(a,[r].map(cl))}else"object"!==o(n)||Array.isArray(n)||(e[r]=Ml(n))}return e},Pl=function(t){return{version:1,type:"doc",content:t||[]}},Ll=Pl([{type:"paragraph",content:[]}]),Tl=function(t,e){var r={type:t.type.name};if(function(t){return fl("unsupportedBlock")(t)||fl("unsupportedInline")(t)}(t))return t.attrs.originalValue;if(vl(t)?r.attrs=oo(t).attrs:yl(t)?r.attrs=function(t){return{attrs:Object.keys(t.attrs).reduce(function(e,r){return null!==t.attrs[r]&&(e[r]=t.attrs[r]),e},{})}}(t).attrs:ml(t)?r.attrs=oo(t).attrs:bl(t)?r.attrs=function(t){return{attrs:Object.keys(t.attrs).reduce(function(e,r){return function(t){return["userType","localId"].indexOf(t)>-1}(r)&&!t.attrs[r]?e:Ji(Ji({},e),{},l({},r,t.attrs[r]))},{})}}(t).attrs:gl(t)?r.attrs=function(t){return{attrs:Object.keys(t.attrs).reduce(function(e,r){return"uniqueId"===r||"language"===r&&null===t.attrs.language||(e[r]=t.attrs[r]),e},{})}}(t).attrs:Ol(t)?r.attrs=function(t){return{attrs:Object.keys(t.attrs).filter(function(e){return function(t,e){return!(t.startsWith("__")||"localId"===t&&!e)}(e,t.attrs[e])}).reduce(function(e,r){return Dr(Dr({},e),{},l({},r,t.attrs[r]))},{})}}(t).attrs:xl(t)?r.attrs=Jr(t).attrs:wl(t)?r.attrs=Zr(t).attrs:Cl(t)||Sl(t)?r.attrs=function(t){return{attrs:Object.keys(t.attrs).filter(function(t){return!t.startsWith("__")}).reduce(function(e,r){return At(At({},e),{},l({},r,t.attrs[r]))},{})}}(t).attrs:t.attrs&&Object.keys(t.attrs).length&&(r.attrs=t.attrs),r.attrs&&(r.attrs=Ml(r.attrs)),bl(t)&&e){var n,a,i=null!=e&&e[t.attrs.id]?"@".concat(e[t.attrs.id]):"",o=null!==(n=null===(a=r.attrs)||void 0===a?void 0:a.text)&&void 0!==n?n:"";r.attrs=pl(pl({},r.attrs),{},{text:o||i})}if((hl.has(t.type.name)&&r.attrs&&!Object.keys(r.attrs).length||Fl(t))&&delete r.attrs,t.isText?r.text=t.textContent:t.content.forEach(function(t){r.content=r.content||[],r.content.push(Tl(t,e))}),(_l(t)||kl(t))&&(r.content=r.content||[]),t.marks.length){var s=t.marks.map(function(e){if(Dl(e))return Nl(e,t.marks)?null:e.attrs.originalValue;if(Al(e))return null;if(El(e))return function(t){return{type:t.type.name,attrs:Object.keys(t.attrs).reduce(function(e,r){return-1!==Pa.indexOf(r)&&null===t.attrs[r]||(e[r]=t.attrs[r]),e},{})}}(e);if(jl(e)){var r,n=function(t){return{type:t.type.name,attrs:Object.keys(t.attrs).filter(function(e){return"sources"===e&&t.attrs[e].length>0&&null!==t.attrs[e]}).reduce(function(e,r){return ui(ui({},e),{},l({},r,t.attrs[r]))},{})}}(e);return n.attrs.sources&&0!==(null===(r=n.attrs.sources)||void 0===r?void 0:r.length)?n:null}if(Il(e)){var a=function(t){return{type:t.type.name,attrs:pi({localId:t.attrs.localId},t.attrs.name?{name:t.attrs.name}:{})}}(e);return a.attrs.localId?a:null}return e.toJSON()}).filter(function(t){return null!==t});r.marks=(null==s?void 0:s.length)>0?s:void 0;var u=t.marks.find(Al);u&&u.attrs.type.nodeType===r.type&&(r.attrs=pl({},Bl(t,u,r)))}return r},Nl=function(t,e){return!!e.some(function(e){return t.attrs.originalValue.type===e.type.name})&&function(t){switch(t){case"link":case"em":case"strong":case"strike":case"subsup":case"underline":case"code":case"textColor":case"backgroundColor":case"confluenceInlineComment":case"breakout":case"alignment":case"indentation":case"border":return Ks;default:return Gs}}(t.attrs.originalValue.type).canOverrideUnsupportedMark()},Bl=function(t,e,r){var n=t.type.spec.attrs,a=pl(pl({},e.attrs.unsupported),r.attrs);for(var i in r.attrs)if(r.attrs.hasOwnProperty(i)){var o=n?n[i]:null;if(o&&o.default===t.attrs[i]&&e.attrs.unsupported[i])return pl(pl({},a),{},l({},i,e.attrs.unsupported[i]))}return a},zl=function(){return Nt(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gs,r=arguments.length>1?arguments[1]:void 0;Lt(this,t),this.schema=e,this.mentionMap=r},[{key:"encode",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return t.content.forEach(function(t){n.push(ul(Tl(t,e.mentionMap),r))}),!n||Vs()(n,Ll.content)?Pl([]):Pl(n)}},{key:"internalParse",value:function(t,e){var r=e.nodeFromJSON(t);return r.check(),r}},{key:"parse",value:function(t,e){if("doc"!==t.type)throw new Error("Expected content format to be ADF");var r=e?hs(e):this.schema;return t.content&&0!==t.content.length?this.internalParse(t,r):this.internalParse(Ll,r)}},{key:"encodeNode",value:function(t){return ul(Tl(t,this.mentionMap))}}])}();function Ul(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Rl(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function Rl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}t=r.hmd(t);var Vl={defaultSchema:gs,JIRATransformer:Us,JSONTransformer:zl,makeJiraSchema:vs,extractImages:function(t){for(var e,r=[],n=/<img[^>]*>/gi;null!==(e=n.exec(t));){var a=e[0],i=a.match(/src="([^"]*)"/i),o=a.match(/alt="([^"]*)"/i),s=a.match(/width="([^"]*)"/i),l=a.match(/height="([^"]*)"/i);if(i){var u={src:i[1],alt:o?o[1]:null,width:s?parseInt(s[1]):null,height:l?parseInt(l[1]):null,fullMatch:a};r.push(u)}}return r},extractImagesWithPositions:function(t){for(var e,r=[],n=/<img[^>]*>/gi,a=0;null!==(e=n.exec(t));){var i=e[0],o=e.index,s=t.substring(0,o),l=s.match(/<(p|h[1-6]|ul|ol|li|div|section)[^>]*>([^<]*(?:<[^>]*>[^<]*)*)<\/(p|h[1-6]|ul|ol|li|div|section)>/gi),u=l?l[l.length-1].replace(/<[^>]*>/g,"").trim():"",c=s.match(/<(p|h[1-6]|ul|ol|li|div|section)[^>]*>/gi),d=0;c&&(d=c.length);var p=i.match(/src="([^"]*)"/i),f=i.match(/alt="([^"]*)"/i),h=i.match(/width="([^"]*)"/i),g=i.match(/height="([^"]*)"/i);if(p){var v={src:p[1],alt:f?f[1]:null,width:h?parseInt(h[1]):null,height:g?parseInt(g[1]):null,fullMatch:i,contextText:u,contentBlockIndex:d,imageIndex:a};r.push(v),a++}}return r},extractTextFromParagraph:function(t){if(!t.content)return"";var e,r="",n=Ul(t.content);try{for(n.s();!(e=n.n()).done;){var a=e.value;"text"===a.type?r+=a.text:"hardBreak"===a.type&&(r+="\n")}}catch(t){n.e(t)}finally{n.f()}return r},createMediaNode:function(t){return{type:"mediaSingle",attrs:{layout:"center"},content:[{type:"media",attrs:{type:"external",url:t.src,height:t.height||300,width:t.width||400}}]}},preprocessHTML:function(t){return t.replace(/<strong\b[^>]*>/gi,"<b>").replace(/<\/strong>/gi,"</b>").replace(/<i\b[^>]*>/gi,"<em>").replace(/<\/i>/gi,"</em>").replace(/<mark\b[^>]*>/gi,"<b>").replace(/<\/mark>/gi,"</b>").replace(/<small\b[^>]*>/gi,"<em>").replace(/<\/small>/gi,"</em>").replace(/<big\b[^>]*>/gi,"<b>").replace(/<\/big>/gi,"</b>").replace(/<strike\b[^>]*>/gi,"<del>").replace(/<\/strike>/gi,"</del>").replace(/<s\b[^>]*>/gi,"<del>").replace(/<\/s>/gi,"</del>").replace(/<u\b[^>]*>/gi,"<ins>").replace(/<\/u>/gi,"</ins>").replace(/<span\b[^>]*>/gi,"").replace(/<\/span>/gi,"").replace(/<img[^>]*>/gi,"")},htmlToADF:function(t){try{var e=this.extractImagesWithPositions(t),r=this.preprocessHTML(t),n=vs({allowLinks:!0,allowLists:!0,allowMentions:!0,allowEmojis:!0,allowAdvancedTextFormatting:!0,allowSubSupMark:!0,allowCodeBlock:!0,allowBlockQuotes:!0,allowMedia:!0,allowTextColor:!0,allowTables:!0}),a=new Us(n).parse(r);if(a&&a.content&&a.content.size>0){var i=new zl(n).encode(a);if(i.content&&i.content.some(function(t){return void 0===t})){var o=new zl(gs).encode(a);o.content&&!o.content.some(function(t){return void 0===t})&&(i=o)}if(e.length>0){for(var s=[],l=0,u=0,c=0;c<i.content.length;c++){var d=i.content[c];s.push(d),"paragraph"!==d.type&&"heading"!==d.type&&"bulletList"!==d.type&&"orderedList"!==d.type&&"listItem"!==d.type||u++,l<e.length&&e[l].contentBlockIndex===u&&(s.push(this.createMediaNode(e[l])),l++)}for(;l<e.length;)s.push(this.createMediaNode(e[l])),l++;i.content=s}return i}throw new Error("Could not parse the HTML content")}catch(t){throw t}},adfToHTML:function(t){try{var e=vs({allowLinks:!0,allowLists:!0,allowMentions:!0,allowEmojis:!0,allowAdvancedTextFormatting:!0,allowSubSupMark:!0,allowCodeBlock:!0,allowBlockQuotes:!0,allowMedia:!0,allowTextColor:!0,allowTables:!0}),r=new zl(e).parse(t);if(r&&r.content&&r.content.size>0){var n=new Us(e).encode(r);if(t.content){var a=[];if(t.content.forEach(function(t,e){if("mediaSingle"===t.type&&t.content&&t.content[0]&&"media"===t.content[0].type){var r=t.content[0];r.attrs&&r.attrs.url&&a.push({index:e,url:r.attrs.url,width:r.attrs.width,height:r.attrs.height})}}),a.length>0){for(var i=n.split("</p>"),o=0,s=0;s<i.length&&o<a.length;s++)if(i[s].includes("<p>")){var l=a[o],u='<img src="'.concat(l.url,'"').concat(l.width?' width="'.concat(l.width,'"'):"").concat(l.height?' height="'.concat(l.height,'"'):"",">");i[s]=i[s]+u,o++}n=i.join("</p>")}}return n}throw new Error("Could not parse the ADF content")}catch(t){throw t}}};t.exports?t.exports=Vl:"function"==typeof define&&r.amdO?define(function(){return Vl}):"undefined"!=typeof window&&(window.AtlasKit=Vl);const Kl=Vl},2166:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataAdapterCachePrefix=void 0,e.DataAdapterCachePrefix="statsig.cached"},2192:(t,e,r)=>{"use strict";function n(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t}function a(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===a(t)}function o(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(t){var e=t.re=r(1064)(t.__opts__),n=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");var l=[];function u(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach(function(e){var r=t.__schemas__[e];if(null!==r){var n={validate:null,link:null};if(t.__compiled__[e]=n,"[object Object]"===a(r))return!function(t){return"[object RegExp]"===a(t)}(r.validate)?i(r.validate)?n.validate=r.validate:u(e,r):n.validate=function(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}(r.validate),void(i(r.normalize)?n.normalize=r.normalize:r.normalize?u(e,r):n.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===a(t)}(r)?u(e,r):l.push(e)}}),l.forEach(function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)}),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var c=Object.keys(t.__compiled__).filter(function(e){return e.length>0&&t.__compiled__[e]}).map(o).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function d(t,e){var r=t.__index__,n=t.__last_index__,a=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=a,this.text=a,this.url=a}function p(t,e){var r=new d(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function f(t,e){if(!(this instanceof f))return new f(t,e);var r;e||(r=t,Object.keys(r||{}).reduce(function(t,e){return t||s.hasOwnProperty(e)},!1)&&(e=t,t={})),this.__opts__=n({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},l,t),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},c(this)}f.prototype.add=function(t,e){return this.__schemas__[t]=e,c(this),this},f.prototype.set=function(t){return this.__opts__=n(this.__opts__,t),this},f.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,r,n,a,i,o,s,l;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(a=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,o=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o)),this.__index__>=0},f.prototype.pretest=function(t){return this.re.pretest.test(t)},f.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},f.prototype.match=function(t){var e=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(p(this,e)),e=this.__last_index__);for(var n=e?t.slice(e):t;this.test(n);)r.push(p(this,e)),n=n.slice(this.__last_index__),e+=this.__last_index__;return r.length?r:null},f.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,r){return t!==r[e-1]}).reverse(),c(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,c(this),this)},f.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},f.prototype.onCompile=function(){},t.exports=f},2199:(t,e,r)=>{var n=r(4528),a=r(6449);t.exports=function(t,e,r){var i=e(t);return a(t)?i:n(i,r(t))}},2404:(t,e,r)=>{var n=r(270);t.exports=function(t,e){return n(t,e)}},2428:(t,e,r)=>{var n=r(7534),a=r(346),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return a(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},2451:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigEvaluationsDataAdapter=void 0;const a=r(6978),i=r(2944);class o extends a.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(t,e,r){super.attach(t,e,r),null!==r&&r instanceof i.default?this._network=r:this._network=new i.default(null!=e?e:{})}getDataAsync(t,e,r){return this._getDataAsyncImpl(t,(0,a._normalizeUser)(e,this._options),r)}prefetchData(t,e){return this._prefetchDataImpl(t,e)}setData(t){const e=(0,a._typedJsonParse)(t,"has_updates","data");e&&"user"in e?super.setData(t,e.user):a.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(t,e){super.setData(t,e)}_fetchFromNetwork(t,e,r,a){return n(this,void 0,void 0,function*(){var n;const i=yield null===(n=this._network)||void 0===n?void 0:n.fetchEvaluations(this._getSdkKey(),t,null==r?void 0:r.priority,e,a);return null!=i?i:null})}_getCacheKey(t){var e;const r=(0,a._getStorageKey)(this._getSdkKey(),t,null===(e=this._options)||void 0===e?void 0:e.customUserCacheKeyFunc);return`${a.DataAdapterCachePrefix}.${this._cacheSuffix}.${r}`}_isCachedResultValidFor204(t,e){return null!=t.fullUserHash&&t.fullUserHash===(0,a._getFullUserHash)(e)}}e.StatsigEvaluationsDataAdapter=o},2509:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2552:(t,e,r)=>{var n=r(1873),a=r(659),i=r(9350),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?a(t):i(t)}},2610:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkParam=e.NetworkDefault=e.Endpoint=void 0,e.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},e.NetworkDefault={[e.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[e.Endpoint._initialize]:"https://featureassets.org/v1",[e.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},e.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},2626:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableID=void 0;const n=r(4681),a=r(8024),i=r(414),o=r(1638),s=r(7047),l={},u={},c={};function d(t){return`statsig.stable_id.${(0,n._getStorageKey)(t)}`}function p(t,e){const r=d(e);try{(0,o._setObjectInStorage)(r,t)}catch(t){a.Log.warn("Failed to save StableID to storage")}}function f(t,e){if(!u[e]||!document)return;const r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie=`${h(e)}=${encodeURIComponent(t)}; expires=${r.toUTCString()}; path=/`}function h(t){return`statsig.stable_id.${(0,n._getStorageKey)(t)}`}e.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:t=>{if(c[t])return null;if(null!=l[t])return l[t];let e=null;return e=function(t){if(!u[t]||null==(0,i._getDocumentSafe)())return null;const e=document.cookie.split(";");for(const r of e){const[e,n]=r.trim().split("=");if(e===h(t))return decodeURIComponent(n)}return null}(t),null!=e?(l[t]=e,p(e,t),e):(e=function(t){const e=d(t);return(0,o._getObjectFromStorage)(e)}(t),null==e&&(e=(0,s.getUUID)()),p(e,t),f(e,t),l[t]=e,e)},setOverride:(t,e)=>{l[e]=t,p(t,e),f(t,e)},_setCookiesEnabled:(t,e)=>{u[t]=e},_setDisabled:(t,e)=>{c[t]=e}}},2651:(t,e,r)=>{var n=r(4218);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},2701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._notifyVisibilityChanged=e._subscribeToVisiblityChanged=e._isUnloading=e._isCurrentlyVisible=void 0;const n=r(414),a="foreground",i="background",o=[];let s=a,l=!1;e._isCurrentlyVisible=()=>s===a;e._isUnloading=()=>l;e._subscribeToVisiblityChanged=t=>{o.unshift(t)};e._notifyVisibilityChanged=t=>{t!==s&&(s=t,o.forEach(e=>e(t)))},(0,n._addWindowEventListenerSafe)("focus",()=>{l=!1,(0,e._notifyVisibilityChanged)(a)}),(0,n._addWindowEventListenerSafe)("blur",()=>(0,e._notifyVisibilityChanged)(i)),(0,n._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,e._notifyVisibilityChanged)("visible"===document.visibilityState?a:i)}),(0,n._addWindowEventListenerSafe)((0,n._getUnloadEvent)(),()=>{l=!0,(0,e._notifyVisibilityChanged)(i)})},2749:(t,e,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:a.call(e,t)}},2804:(t,e,r)=>{var n=r(6110)(r(9325),"Promise");t.exports=n},2944:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=r(6978),i=r(5694);class o extends a.NetworkCore{constructor(t,e){super(t,e);const r=null==t?void 0:t.networkConfig;this._option=t,this._initializeUrlConfig=new a.UrlConfiguration(a.Endpoint._initialize,null==r?void 0:r.initializeUrl,null==r?void 0:r.api,null==r?void 0:r.initializeFallbackUrls)}fetchEvaluations(t,e,r,i,o){return n(this,void 0,void 0,function*(){var n,s,l,u,c,d;const p=e?(0,a._typedJsonParse)(e,"has_updates","InitializeResponse"):null;let f={user:i,hash:null!==(l=null===(s=null===(n=this._option)||void 0===n?void 0:n.networkConfig)||void 0===s?void 0:s.initializeHashAlgorithm)&&void 0!==l?l:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null==p?void 0:p.has_updates){const t=(null==p?void 0:p.hash_used)!==(null!==(d=null===(c=null===(u=this._option)||void 0===u?void 0:u.networkConfig)||void 0===c?void 0:c.initializeHashAlgorithm)&&void 0!==d?d:"djb2");f=Object.assign(Object.assign({},f),{sinceTime:o&&!t?p.time:0,previousDerivedFields:"derived_fields"in p&&o?p.derived_fields:{},deltasResponseRequested:!0,full_checksum:p.full_checksum,partialUserMatchSinceTime:t?0:p.time})}return this._fetchEvaluations(t,p,f,r)})}_fetchEvaluations(t,e,r,a){return n(this,void 0,void 0,function*(){var n,o;const s=yield this.post({sdkKey:t,urlConfig:this._initializeUrlConfig,data:r,retries:2,isStatsigEncodable:!0,priority:a});if(204===(null==s?void 0:s.code))return'{"has_updates": false}';if(200!==(null==s?void 0:s.code))return null!==(n=null==s?void 0:s.body)&&void 0!==n?n:null;if(!0!==(null==e?void 0:e.has_updates)||!0!==(null===(o=s.body)||void 0===o?void 0:o.includes('"is_delta":true'))||!0!==r.deltasResponseRequested)return s.body;const l=(0,i._resolveDeltasResponse)(e,s.body);return"string"==typeof l?l:this._fetchEvaluations(t,e,Object.assign(Object.assign(Object.assign({},r),l),{deltasResponseRequested:!1}),a)})}}e.default=o},2949:(t,e,r)=>{var n=r(2651);t.exports=function(t,e){var r=n(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}},3011:(t,e,r)=>{var n;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(a){var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==a?t.maxListeners:10,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function l(t,e){var r="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(r+=" Event name: "+e+"."),"undefined"!=typeof process&&process.emitWarning){var n=new Error(r);n.name="MaxListenersExceededWarning",n.emitter=this,n.count=t,process.emitWarning(n)}else console.trace}function u(t){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,t)}function c(t,e,r,n){if(!r)return[];var a,i,o,s,l,u,d,p=[],f=e.length,h=e[n],g=e[n+1];if(n===f&&r._listeners){if("function"==typeof r._listeners)return t&&t.push(r._listeners),[r];for(a=0,i=r._listeners.length;a<i;a++)t&&t.push(r._listeners[a]);return[r]}if("*"===h||"**"===h||r[h]){if("*"===h){for(o in r)"_listeners"!==o&&r.hasOwnProperty(o)&&(p=p.concat(c(t,e,r[o],n+1)));return p}if("**"===h){for(o in(d=n+1===f||n+2===f&&"*"===g)&&r._listeners&&(p=p.concat(c(t,e,r,f))),r)"_listeners"!==o&&r.hasOwnProperty(o)&&("*"===o||"**"===o?(r[o]._listeners&&!d&&(p=p.concat(c(t,e,r[o],f))),p=p.concat(c(t,e,r[o],n))):p=o===g?p.concat(c(t,e,r[o],n+2)):p.concat(c(t,e,r[o],n)));return p}p=p.concat(c(t,e,r[h],n+1))}if((s=r["*"])&&c(t,e,s,n+1),l=r["**"])if(n<f)for(o in l._listeners&&c(t,e,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===g?c(t,e,l[o],n+2):o===h?c(t,e,l[o],n+1):((u={})[o]=l[o],c(t,e,{"**":u},n+1)));else l._listeners?c(t,e,l,f):l["*"]&&l["*"]._listeners&&c(t,e,l["*"],f);return p}function d(t,e){for(var r=0,n=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;r+1<n;r++)if("**"===t[r]&&"**"===t[r+1])return;for(var i=this.listenerTree,o=t.shift();o!==a;){if(i[o]||(i[o]={}),i=i[o],0===t.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(e),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,l.call(this,i._listeners.length,o))):i._listeners=e,!0;o=t.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(t){t!==a&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},u.prototype.event="",u.prototype.once=function(t,e){return this._once(t,e,!1)},u.prototype.prependOnceListener=function(t,e){return this._once(t,e,!0)},u.prototype._once=function(t,e,r){return this._many(t,1,e,r),this},u.prototype.many=function(t,e,r){return this._many(t,e,r,!1)},u.prototype.prependMany=function(t,e,r){return this._many(t,e,r,!0)},u.prototype._many=function(t,e,r,n){var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function i(){return 0===--e&&a.off(t,i),r.apply(this,arguments)}return i._origin=r,this._on(t,i,n),a},u.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var e,r,n,a,i,s=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),s>3)for(e=new Array(s),a=0;a<s;a++)e[a]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=t,s){case 1:i[n].call(this,t);break;case 2:i[n].call(this,t,arguments[1]);break;case 3:i[n].call(this,t,arguments[1],arguments[2]);break;default:i[n].apply(this,e)}}if(this.wildcard){i=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,i,l,this.listenerTree,0)}else{if("function"==typeof(i=this._events[t])){switch(this.event=t,s){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(s-1),a=1;a<s;a++)e[a-1]=arguments[a];i.apply(this,e)}return!0}i&&(i=i.slice())}if(i&&i.length){if(s>3)for(e=new Array(s-1),a=1;a<s;a++)e[a-1]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=t,s){case 1:i[n].call(this);break;case 2:i[n].call(this,arguments[1]);break;case 3:i[n].call(this,arguments[1],arguments[2]);break;default:i[n].apply(this,e)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var e,r,n,a,i,s=[],l=arguments.length;if(this._all){if(l>3)for(e=new Array(l),a=1;a<l;a++)e[a]=arguments[a];for(n=0,r=this._all.length;n<r;n++)switch(this.event=t,l){case 1:s.push(this._all[n].call(this,t));break;case 2:s.push(this._all[n].call(this,t,arguments[1]));break;case 3:s.push(this._all[n].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,e))}}if(this.wildcard){i=[];var u="string"==typeof t?t.split(this.delimiter):t.slice();c.call(this,i,u,this.listenerTree,0)}else i=this._events[t];if("function"==typeof i)switch(this.event=t,l){case 1:s.push(i.call(this));break;case 2:s.push(i.call(this,arguments[1]));break;case 3:s.push(i.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(l-1),a=1;a<l;a++)e[a-1]=arguments[a];s.push(i.apply(this,e))}else if(i&&i.length){if(i=i.slice(),l>3)for(e=new Array(l-1),a=1;a<l;a++)e[a-1]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=t,l){case 1:s.push(i[n].call(this));break;case 2:s.push(i[n].call(this,arguments[1]));break;case 3:s.push(i[n].call(this,arguments[1],arguments[2]));break;default:s.push(i[n].apply(this,e))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(t,e){return this._on(t,e,!1)},u.prototype.prependListener=function(t,e){return this._on(t,e,!0)},u.prototype.onAny=function(t){return this._onAny(t,!1)},u.prototype.prependAny=function(t){return this._onAny(t,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},u.prototype._on=function(t,e,r){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",t,e),this.wildcard?(d.call(this,t,e),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),r?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,l.call(this,this._events[t].length,t))):this._events[t]=e,this)},u.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var r,n=[];if(this.wildcard){var o="string"==typeof t?t.split(this.delimiter):t.slice();n=c.call(this,null,o,this.listenerTree,0)}else{if(!this._events[t])return this;r=this._events[t],n.push({_listeners:r})}for(var s=0;s<n.length;s++){var l=n[s];if(r=l._listeners,i(r)){for(var u=-1,d=0,p=r.length;d<p;d++)if(r[d]===e||r[d].listener&&r[d].listener===e||r[d]._origin&&r[d]._origin===e){u=d;break}if(u<0)continue;return this.wildcard?l._listeners.splice(u,1):this._events[t].splice(u,1),0===r.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this.emit("removeListener",t,e),this}(r===e||r.listener&&r.listener===e||r._origin&&r._origin===e)&&(this.wildcard?delete l._listeners:delete this._events[t],this.emit("removeListener",t,e))}return function t(e){if(e!==a){var r=Object.keys(e);for(var n in r){var i=r[n],o=e[i];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&t(e[i]),0===Object.keys(o).length&&delete e[i])}}}(this.listenerTree),this},u.prototype.offAny=function(t){var e,r=0,n=0;if(t&&this._all&&this._all.length>0){for(r=0,n=(e=this._all).length;r<n;r++)if(t===e[r])return e.splice(r,1),this.emit("removeListenerAny",t),this}else{for(r=0,n=(e=this._all).length;r<n;r++)this.emit("removeListenerAny",e[r]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),r=c.call(this,null,e,this.listenerTree,0),n=0;n<r.length;n++){r[n]._listeners=null}else this._events&&(this._events[t]=null);return this},u.prototype.listeners=function(t){if(this.wildcard){var e=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return c.call(this,e,r,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(t){return this.listeners(t).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},(n=function(){return u}.call(e,r,e,t))===a||(t.exports=n)}()},3040:(t,e,r)=>{var n=r(1549),a=r(79),i=r(8223);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||a),string:new n}}},3194:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3345:t=>{t.exports=function(){return[]}},3509:(t,e,r)=>{"use strict";var n,a,i;Object.defineProperty(e,"__esModule",{value:!0}),e._getInstance=e._getStatsigGlobalFlag=e._getStatsigGlobal=void 0;const o=r(8024);e._getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:d}catch(t){return d}};e._getStatsigGlobalFlag=t=>(0,e._getStatsigGlobal)()[t];e._getInstance=t=>{const r=(0,e._getStatsigGlobal)();return t?r.instances&&r.instances[t]:(r.instances&&Object.keys(r.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),r.firstInstance)};const s="__STATSIG__",l="undefined"!=typeof window?window:{},u=void 0!==r.g?r.g:{},c="undefined"!=typeof globalThis?globalThis:{},d=null!==(i=null!==(a=null!==(n=l[s])&&void 0!==n?n:u[s])&&void 0!==a?a:c[s])&&void 0!==i?i:{instance:e._getInstance};l[s]=d,u[s]=d,c[s]=d},3605:t=>{t.exports=function(t){return this.__data__.get(t)}},3650:(t,e,r)=>{var n=r(4335)(Object.keys,Object);t.exports=n},3656:(t,e,r)=>{t=r.nmd(t);var n=r(9325),a=r(9935),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,s=o&&o.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;t.exports=l},3661:(t,e,r)=>{var n=r(3040),a=r(7670),i=r(289),o=r(4509),s=r(2949);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,t.exports=l},3702:t=>{t.exports=function(){this.__data__=[],this.size=0}},3705:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._typedJsonParse=void 0;const n=r(8024);e._typedJsonParse=function(t,e,r){try{const r=JSON.parse(t);if(r&&"object"==typeof r&&e in r)return r}catch(t){}return n.Log.error(`Failed to parse ${r}`),null}},3738:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},3760:t=>{t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3862:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},3918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getSortedObject=e._DJB2Object=e._DJB2=void 0;const n=r(10);e._DJB2=t=>{let e=0;for(let r=0;r<t.length;r++){e=(e<<5)-e+t.charCodeAt(r),e&=e}return String(e>>>0)};e._DJB2Object=(t,r)=>(0,e._DJB2)(JSON.stringify((0,e._getSortedObject)(t,r)));e._getSortedObject=(t,r)=>{if(null==t)return null;const a=Object.keys(t).sort(),i={};return a.forEach(a=>{const o=t[a];0!==r&&"object"===(0,n._typeOf)(o)?i[a]=(0,e._getSortedObject)(o,null!=r?r-1:r):i[a]=o}),i}},4218:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},4247:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}},4248:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4335:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},4351:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClientBase=void 0,r(3509);const a=r(3509),i=r(4358),o=r(5434),s=r(8024),l=r(843),u=r(414),c=r(9839),d=r(2626),p=r(7754),f=r(1638);e.StatsigClientBase=class{constructor(t,e,r,n){var l,p,h,g;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const v=this.$emt.bind(this);null!=(null==n?void 0:n.logLevel)&&(s.Log.level=n.logLevel),(null==n?void 0:n.disableStorage)&&f.Storage._setDisabled(!0),(null==n?void 0:n.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(n.initialSessionID,t),(null==n?void 0:n.storageProvider)&&f.Storage._setProvider(n.storageProvider),(null==n?void 0:n.enableCookies)&&d.StableID._setCookiesEnabled(t,n.enableCookies),(null==n?void 0:n.disableStableID)&&d.StableID._setDisabled(t,!0),this._sdkKey=t,this._options=null!=n?n:{},this._memoCache={},this.overrideAdapter=null!==(l=null==n?void 0:n.overrideAdapter)&&void 0!==l?l:null,this._logger=new o.EventLogger(t,v,r,n),this._errorBoundary=new i.ErrorBoundary(t,n,v),this._errorBoundary.wrap(this),this._errorBoundary.wrap(e),this._errorBoundary.wrap(this._logger),r.setErrorBoundary(this._errorBoundary),this.dataAdapter=e,this.dataAdapter.attach(t,n,r),this.storageProvider=f.Storage,null===(g=null===(h=null===(p=this.overrideAdapter)||void 0===p?void 0:p.loadFromStorage)||void 0===h?void 0:h.call(p))||void 0===g||g.catch(t=>this._errorBoundary.logError("OA::loadFromStorage",t)),this._primeReadyRipcord(),function(t,e){var r;if((0,u._isServerEnv)())return;const n=(0,a._getStatsigGlobal)(),i=null!==(r=n.instances)&&void 0!==r?r:{},o=e;null!=i[t]&&s.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.");i[t]=o,n.firstInstance||(n.firstInstance=o);n.instances=i,__STATSIG__=n}(t,this)}updateRuntimeOptions(t){t.loggingEnabled?(this._options.loggingEnabled=t.loggingEnabled,this._logger.setLoggingEnabled(t.loggingEnabled)):null!=t.disableLogging&&(this._options.disableLogging=t.disableLogging,this._logger.setLoggingEnabled(t.disableLogging?"disabled":"browser-only")),null!=t.disableStorage&&(this._options.disableStorage=t.disableStorage,f.Storage._setDisabled(t.disableStorage)),null!=t.enableCookies&&(this._options.enableCookies=t.enableCookies,d.StableID._setCookiesEnabled(this._sdkKey,t.enableCookies)),t.logEventCompressionMode?this._logger.setLogEventCompressionMode(t.logEventCompressionMode):t.disableCompression&&this._logger.setLogEventCompressionMode(p.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return n(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){if(this._listeners[t]){const r=this._listeners[t].indexOf(e);-1!==r&&this._listeners[t].splice(r,1)}}$on(t,e){e.__isInternal=!0,this.on(t,e)}$emt(t){var e;const r=e=>{try{e(t)}catch(r){if(!0===e.__isInternal)return void this._errorBoundary.logError(`__emit:${t.name}`,r);s.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",t)}};this._listeners[t.name]&&this._listeners[t.name].forEach(t=>r(t)),null===(e=this._listeners["*"])||void 0===e||e.forEach(r)}_setStatus(t,e){this.loadingStatus=t,this._memoCache={},this.$emt({name:"values_updated",status:t,values:e})}_enqueueExposure(t,e,r){!0!==(null==r?void 0:r.disableExposureLog)?this._logger.enqueue(e):this._logger.incrementNonExposureCount(t)}_memoize(t,e){return(r,n)=>{if(this._options.disableEvaluationMemoization)return e(r,n);const a=(0,l.createMemoKey)(t,r,n);return a?(a in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[a]=e(r,n)),this._memoCache[a]):e(r,n)}}}},4358:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=e.EXCEPTION_ENDPOINT=void 0;const a=r(8024),i=r(686),o=r(6512);e.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const s="[Statsig] UnknownError";function l(t){return t instanceof Error?t:"string"==typeof t?new Error(t):new Error("An unknown error occurred.")}function u(t){if(!t)return{};const e={};return Object.entries(t).forEach(([t,r])=>{switch(typeof r){case"number":case"bigint":case"boolean":e[String(t)]=r;break;case"string":r.length<50?e[String(t)]=r:e[String(t)]="set";break;case"object":"environment"===t?e.environment=r:"networkConfig"===t?e.networkConfig=r:e[String(t)]=null!=r?"set":"unset"}}),e}e.ErrorBoundary=class{constructor(t,e,r,n){this._sdkKey=t,this._options=e,this._emitter=r,this._lastSeenError=n,this._seen=new Set}wrap(t){try{const e=t;(function(t){const e=new Set;let r=Object.getPrototypeOf(t);for(;r&&r!==Object.prototype;)Object.getOwnPropertyNames(r).filter(t=>"function"==typeof(null==r?void 0:r[t])).forEach(t=>e.add(t)),r=Object.getPrototypeOf(r);return Array.from(e)})(e).forEach(r=>{const n=e[r];"$EB"in n||(e[r]=(...e)=>this._capture(r,()=>n.apply(t,e)),e[r].$EB=!0)})}catch(t){this._onError("eb:wrap",t)}}logError(t,e){this._onError(t,e)}getLastSeenErrorAndReset(){const t=this._lastSeenError;return this._lastSeenError=void 0,null!=t?t:null}attachErrorIfNoneExists(t){this._lastSeenError||(this._lastSeenError=l(t))}_capture(t,e){try{const r=e();return r&&r instanceof Promise?r.catch(e=>this._onError(t,e)):r}catch(e){return this._onError(t,e),null}}_onError(t,r){try{a.Log.warn(`Caught error in ${t}`,{error:r});(()=>n(this,void 0,void 0,function*(){var n,a,c,d,p,f,h;const g=r||Error(s),v=g instanceof Error,m=v?g.name:"No Name",y=l(g);if(this._lastSeenError=y,this._seen.has(m))return;if(this._seen.add(m),null===(a=null===(n=this._options)||void 0===n?void 0:n.networkConfig)||void 0===a?void 0:a.preventAllNetworkTraffic)return void(null===(c=this._emitter)||void 0===c||c.call(this,{name:"error",error:r,tag:t}));const b=i.SDKType._get(this._sdkKey),_=o.StatsigMetadataProvider.get(),k=v?g.stack:function(t){try{return JSON.stringify(t)}catch(t){return s}}(g),O=Object.assign({tag:t,exception:m,info:k,statsigOptions:u(this._options)},Object.assign(Object.assign({},_),{sdkType:b})),x=null!==(f=null===(p=null===(d=this._options)||void 0===d?void 0:d.networkConfig)||void 0===p?void 0:p.networkOverrideFunc)&&void 0!==f?f:fetch;yield x(e.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(b),"STATSIG-SDK-VERSION":String(_.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(O)}),null===(h=this._emitter)||void 0===h||h.call(this,{name:"error",error:r,tag:t})}))().then(()=>{}).catch(()=>{})}catch(t){}}}},4373:t=>{t.exports=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},t.exports.__esModule=!0,t.exports.default=t.exports},4387:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4509:(t,e,r)=>{var n=r(2651);t.exports=function(t){return n(this,t).has(t)}},4528:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}},4633:(t,e,r)=>{var n=r(5172),a=r(6993),i=r(5869),o=r(887),s=r(1791),l=r(4373),u=r(579);function c(){"use strict";var e=a(),r=e.m(c),d=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))}var f={throw:1,return:2,break:3,continue:3};function h(t){var e,r;return function(n){e||(e={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(t,e){return r(n.a,f[t],e)},delegateYield:function(t,a,i){return e.resultName=a,r(n.d,u(t),i)},finish:function(t){return r(n.f,t)}},r=function(t,r,a){n.p=e.prev,n.n=e.next;try{return t(r,a)}finally{e.next=n.n}}),e.resultName&&(e[e.resultName]=n.v,e.resultName=void 0),e.sent=n.v,e.next=n.n;try{return t.call(this,e)}finally{n.p=e.prev,n.n=e.next}}}return(t.exports=c=function(){return{wrap:function(t,r,n,a){return e.w(h(t),r,n,a&&a.reverse())},isGeneratorFunction:p,mark:e.m,awrap:function(t,e){return new n(t,e)},AsyncIterator:s,async:function(t,e,r,n,a){return(p(e)?o:i)(h(t),e,r,n,a)},keys:l,values:u}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},4664:(t,e,r)=>{var n=r(9770),a=r(3345),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),n(o(t),function(e){return i.call(t,e)}))}:a;t.exports=s},4681:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getStorageKey=e._getUserStorageKey=void 0;const n=r(3918);function a(t,e,r){var a;if(r)return r(t,e);const i=e&&e.customIDs?e.customIDs:{},o=[`uid:${null!==(a=null==e?void 0:e.userID)&&void 0!==a?a:""}`,`cids:${Object.keys(i).sort((t,e)=>t.localeCompare(e)).map(t=>`${t}-${i[t]}`).join(",")}`,`k:${t}`];return(0,n._DJB2)(o.join("|"))}e._getUserStorageKey=a,e._getStorageKey=function(t,e,r){return e?a(t,e,r):(0,n._DJB2)(`k:${t}`)}},4703:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.NetworkCore=void 0,r(3509);const a=r(3509),i=r(882),o=r(8024),s=r(2610),l=r(52),u=r(5747),c=r(686),d=r(414),p=r(9839),f=r(2626),h=r(1180),g=r(6512),v=r(7754),m=r(2701),y=new Set([408,500,502,503,504,522,524,599]);e.NetworkCore=class{constructor(t,e){this._emitter=e,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,t&&(this._options=t),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(t))}setLogEventCompressionMode(t){this._options.logEventCompressionMode=t}setErrorBoundary(t){this._errorBoundary=t,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(t)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const t=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,t}beacon(t){if(!b(t))return!1;const e=this._getInternalRequestArgs("POST",t),r=this._getPopulatedURL(e),n=navigator;return n.sendBeacon.bind(n)(r,e.body)}post(t){return n(this,void 0,void 0,function*(){const e=this._getInternalRequestArgs("POST",t);return this._tryEncodeBody(e),yield this._tryToCompressBody(e),this._sendRequest(e)})}get(t){const e=this._getInternalRequestArgs("GET",t);return this._sendRequest(e)}_sendRequest(t){return n(this,void 0,void 0,function*(){var e,r,a,l;if(!b(t))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:u,body:c,retries:d,attempt:p}=t,f=t.urlConfig.endpoint;if(this._isRateLimited(f))return o.Log.warn(`Request to ${f} was blocked because you are making requests too frequently.`),null;const g=null!=p?p:1,v="undefined"!=typeof AbortController?new AbortController:null,_=setTimeout(()=>{null==v||v.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),O=this._getPopulatedURL(t);let x=null;const w=(0,m._isUnloading)();try{const r={method:u,body:c,headers:Object.assign({},t.headers),signal:null==v?void 0:v.signal,priority:t.priority,keepalive:w};!function(t,e){if(t.urlConfig.endpoint!==s.Endpoint._initialize)return;i.Diagnostics._markInitNetworkReqStart(t.sdkKey,{attempt:e})}(t,g);const n=this._leakyBucket[f];n&&(n.lastRequestTime=Date.now(),this._leakyBucket[f]=n);const a=null!==(e=this._netConfig.networkOverrideFunc)&&void 0!==e?e:fetch;if(x=yield a(O,r),clearTimeout(_),!x.ok){const t=yield x.text().catch(()=>"No Text"),e=new Error(`NetworkError: ${O} ${t}`);throw e.name="NetworkError",e}const o=yield x.text();return k(t,x,g,o),this._fallbackResolver.tryBumpExpiryTime(t.sdkKey,t.urlConfig),{body:o,code:x.status}}catch(e){const i=function(t,e){if((null==t?void 0:t.signal.aborted)&&"string"==typeof t.signal.reason)return t.signal.reason;if("string"==typeof e)return e;if(e instanceof Error)return`${e.name}: ${e.message}`;return"Unknown Error"}(v,e),s=(null==(E=v)?void 0:E.signal.aborted)&&"string"==typeof E.signal.reason&&E.signal.reason.includes("Timeout")||!1;k(t,x,g,"",e);if((yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(t.sdkKey,t.urlConfig,i,s))&&(t.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig)),!d||g>d||!y.has(null!==(r=null==x?void 0:x.status)&&void 0!==r?r:500)){null===(a=this._emitter)||void 0===a||a.call(this,{name:"error",error:e,tag:h.ErrorTag.NetworkError,requestArgs:t});const r=`A networking error occurred during ${u} request to ${O}.`;return o.Log.error(r,i,e),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(r),null}return yield function(t){return n(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,Math.min(t*t*500,3e4)))})}(g),this._sendRequest(Object.assign(Object.assign({},t),{retries:d,attempt:g+1}))}var E})}_getLogEventCompressionMode(t){let e=null==t?void 0:t.logEventCompressionMode;return e||!0!==(null==t?void 0:t.disableCompression)||(e=v.LogEventCompressionMode.Disabled),e||(e=v.LogEventCompressionMode.Enabled),e}_isRateLimited(t){var e;const r=Date.now(),n=null!==(e=this._leakyBucket[t])&&void 0!==e?e:{count:0,lastRequestTime:r},a=r-n.lastRequestTime,i=Math.floor(.05*a);return n.count=Math.max(0,n.count-i),n.count>=50||(n.count+=1,n.lastRequestTime=r,this._leakyBucket[t]=n,!1)}_getPopulatedURL(t){var e;const r=null!==(e=t.fallbackUrl)&&void 0!==e?e:t.urlConfig.getUrl();t.urlConfig.endpoint!==s.Endpoint._initialize&&t.urlConfig.endpoint!==s.Endpoint._download_config_specs||(this._lastUsedInitUrl=r);const n=Object.assign({[s.NetworkParam.SdkKey]:t.sdkKey,[s.NetworkParam.SdkType]:c.SDKType._get(t.sdkKey),[s.NetworkParam.SdkVersion]:g.SDK_VERSION,[s.NetworkParam.Time]:String(Date.now()),[s.NetworkParam.SessionID]:p.SessionID.get(t.sdkKey)},t.params),a=Object.keys(n).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`).join("&");return`${r}${a?`?${a}`:""}`}_tryEncodeBody(t){var e;const r=(0,d._getWindowSafe)(),n=t.body;if(t.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof n&&null==(0,a._getStatsigGlobalFlag)("no-encode")&&(null==r?void 0:r.btoa))try{t.body=r.btoa(n).split("").reverse().join(""),t.params=Object.assign(Object.assign({},null!==(e=t.params)&&void 0!==e?e:{}),{[s.NetworkParam.StatsigEncoded]:"1"})}catch(e){o.Log.warn(`Request encoding failed for ${t.urlConfig.getUrl()}`,e)}}_tryToCompressBody(t){return n(this,void 0,void 0,function*(){var e;const r=t.body;if("string"==typeof r&&function(t,e){if(!t.isCompressable)return!1;if(null!=(0,a._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;const r=null!=t.urlConfig.customUrl||null!=t.urlConfig.fallbackUrls,n=!0===u.SDKFlags.get(t.sdkKey,"enable_log_event_compression");switch(e.logEventCompressionMode){case v.LogEventCompressionMode.Disabled:return!1;case v.LogEventCompressionMode.Enabled:return!(r&&!n);case v.LogEventCompressionMode.Forced:return!0;default:return!1}}(t,this._options))try{const n=(new TextEncoder).encode(r),a=new CompressionStream("gzip"),i=a.writable.getWriter();i.write(n).catch(o.Log.error),i.close().catch(o.Log.error);const l=a.readable.getReader(),u=[];let c;for(;!(c=yield l.read()).done;)u.push(c.value);const d=u.reduce((t,e)=>t+e.length,0),p=new Uint8Array(d);let f=0;for(const t of u)p.set(t,f),f+=t.length;t.body=p,t.params=Object.assign(Object.assign({},null!==(e=t.params)&&void 0!==e?e:{}),{[s.NetworkParam.IsGzipped]:"1"})}catch(e){o.Log.warn(`Request compression failed for ${t.urlConfig.getUrl()}`,e)}})}_getInternalRequestArgs(t,e){const r=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig),n=Object.assign(Object.assign({},e),{method:t,fallbackUrl:r});return"data"in e&&_(n,e.data),n}};const b=t=>!!t.sdkKey||(o.Log.warn("Unable to make request without an SDK key"),!1),_=(t,e)=>{const{sdkKey:r,fallbackUrl:n}=t,a=f.StableID.get(r),i=p.SessionID.get(r),o=c.SDKType._get(r);t.body=JSON.stringify(Object.assign(Object.assign({},e),{statsigMetadata:Object.assign(Object.assign({},g.StatsigMetadataProvider.get()),{stableID:a,sessionID:i,sdkType:o,fallbackUrl:n})}))};function k(t,e,r,n,a){t.urlConfig.endpoint===s.Endpoint._initialize&&i.Diagnostics._markInitNetworkReqEnd(t.sdkKey,i.Diagnostics._getDiagnosticsData(e,r,n,a))}},4739:(t,e,r)=>{var n=r(6025);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},4756:(t,e,r)=>{var n=r(4633)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},4840:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},4894:(t,e,r)=>{var n=r(1882),a=r(294);t.exports=function(t){return null!=t&&a(t.length)&&!n(t)}},4901:(t,e,r)=>{var n=r(2552),a=r(294),i=r(346),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&a(t.length)&&!!o[n(t)]}},4915:t=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},5025:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5083:(t,e,r)=>{var n=r(1882),a=r(7296),i=r(3805),o=r(7473),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||a(t))&&(n(t)?p:s).test(o(t))}},5097:t=>{t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},5138:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const i=r(6978),o=r(7686);e.StatsigClient=o.default,a(r(6978),e);const s=Object.assign((0,i._getStatsigGlobal)(),{StatsigClient:o.default});e.default=s},5172:t=>{t.exports=function(t,e){this.v=t,this.k=e},t.exports.__esModule=!0,t.exports.default=t.exports},5288:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5434:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.EventLogger=void 0;const a=r(4681),i=r(3918),o=r(8024),s=r(2610),l=r(414),u=r(7253),c=r(7754),d=r(1638),p=r(8873),f=r(2701),h={},g="startup",v="gained_focus";class m{static _safeFlushAndForget(t){var e;null===(e=h[t])||void 0===e||e.flush().catch(()=>{})}static _safeRetryFailedLogs(t){var e;null===(e=h[t])||void 0===e||e._retryFailedLogs(v)}constructor(t,e,r,n){var a,i;this._sdkKey=t,this._emitter=e,this._network=r,this._options=n,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(a=null==n?void 0:n.loggingEnabled)&&void 0!==a?a:!0===(null==n?void 0:n.disableLogging)?c.LoggingEnabledOption.disabled:c.LoggingEnabledOption.browserOnly,(null==n?void 0:n.loggingEnabled)&&void 0!==n.disableLogging&&o.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(i=null==n?void 0:n.loggingBufferMaxSize)&&void 0!==i?i:100;const l=null==n?void 0:n.networkConfig;this._logEventUrlConfig=new p.UrlConfiguration(s.Endpoint._rgstr,null==l?void 0:l.logEventUrl,null==l?void 0:l.api,null==l?void 0:l.logEventFallbackUrls)}setLogEventCompressionMode(t){this._network.setLogEventCompressionMode(t)}setLoggingEnabled(t){this._loggingEnabled=t}enqueue(t){this._shouldLogEvent(t)&&(this._normalizeAndAppendEvent(t),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&m._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(t){var e;const r=null!==(e=this._nonExposedChecks[t])&&void 0!==e?e:0;this._nonExposedChecks[t]=r+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var t;const e=(0,l._isServerEnv)();e&&"always"!==(null===(t=this._options)||void 0===t?void 0:t.loggingEnabled)||(h[this._sdkKey]=this,e||(0,f._subscribeToVisiblityChanged)(t=>{"background"===t?m._safeFlushAndForget(this._sdkKey):"foreground"===t&&m._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(g),this._startBackgroundFlushInterval())}stop(){return n(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete h[this._sdkKey],yield this.flush()})}flush(){return n(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const t=this._queue;this._queue=[],yield this._sendEvents(t)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>200||setTimeout(()=>m._safeFlushAndForget(this._sdkKey),200))}_shouldLogEvent(t){var e;if("always"!==(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)&&(0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(t))return!0;const r=t.user?t.user:{statsigEnvironment:void 0},n=(0,a._getUserStorageKey)(this._sdkKey,r),i=t.metadata?t.metadata:{},o=[t.eventName,n,i.gate,i.config,i.ruleID,i.allocatedExperiment,i.parameterName,String(i.isExplicitParameter),i.reason].join("|"),s=this._lastExposureTimeMap[o],c=Date.now();return!(s&&c-s<6e5)&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[o]=c,!0)}_sendEvents(t){return n(this,void 0,void 0,function*(){var e,r;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(t),!1;try{const n=(0,f._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(r=null===(e=this._options)||void 0===e?void 0:e.networkConfig)||void 0===r?void 0:r.networkOverrideFunc);this._emitter({name:"pre_logs_flushed",events:t});return(n?this._sendEventsViaBeacon(t):yield this._sendEventsViaPost(t)).success?(this._emitter({name:"logs_flushed",events:t}),!0):(o.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(t),!1)}catch(t){return o.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(t){return n(this,void 0,void 0,function*(){var e;const r=yield this._network.post(this._getRequestData(t)),n=null!==(e=null==r?void 0:r.code)&&void 0!==e?e:-1;return{success:n>=200&&n<300}})}_sendEventsViaBeacon(t){return{success:this._network.beacon(this._getRequestData(t))}}_getRequestData(t){return{sdkKey:this._sdkKey,data:{events:t},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[s.NetworkParam.EventCount]:String(t.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(t){for(;t.length>500;)t.shift();const e=this._getStorageKey();try{(0,d._setObjectInStorage)(e,t)}catch(t){o.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(t){const e=this._getStorageKey();(()=>n(this,void 0,void 0,function*(){d.Storage.isReady()||(yield d.Storage.isReadyResolver());const r=(0,d._getObjectFromStorage)(e);if(!r)return;t===g&&d.Storage.removeItem(e);(yield this._sendEvents(r))&&t===v&&d.Storage.removeItem(e)}))().catch(()=>{o.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,i._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(t){t.user&&(t.user=Object.assign({},t.user),delete t.user.privateAttributes);const e={},r=this._getCurrentPageUrl();r&&(e.statsigMetadata={currentPage:r});const n=Object.assign(Object.assign({},t),e);o.Log.debug("Enqueued Event:",n),this._queue.push(n)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var t;if(!1!==(null===(t=this._options)||void 0===t?void 0:t.includeCurrentPageUrlWithEvents))return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var t,e;const r=null!==(e=null===(t=this._options)||void 0===t?void 0:t.loggingIntervalMs)&&void 0!==e?e:1e4,n=setInterval(()=>{const t=h[this._sdkKey];t&&t._flushIntervalId===n?m._safeFlushAndForget(this._sdkKey):clearInterval(n)},r);this._flushIntervalId=n}}e.EventLogger=m},5481:(t,e,r)=>{var n=r(9325)["__core-js_shared__"];t.exports=n},5527:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},5546:t=>{function e(r,n,a,i){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}t.exports=e=function(t,r,n,a){function i(r,n){e(t,r,function(t){return this._invoke(r,n,t)})}r?o?o(t,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[r]=n:(i("next",0),i("throw",1),i("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n,a,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5580:(t,e,r)=>{var n=r(6110)(r(9325),"DataView");t.exports=n},5638:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e._makeDataAdapterResult=e.DataAdapterCore=void 0;const a=r(8024),i=r(2626),o=r(1570),s=r(1638),l=r(3705);function u(t,e,r,n){return{source:t,data:e,receivedAt:Date.now(),stableID:r,fullUserHash:(0,o._getFullUserHash)(n)}}e.DataAdapterCore=class{constructor(t,e){this._adapterName=t,this._cacheSuffix=e,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${e}`,this._inMemoryCache=new c}attach(t,e,r){this._sdkKey=t,this._options=e}getDataSync(t){const e=t&&(0,o._normalizeUser)(t,this._options),r=this._getCacheKey(e),n=this._inMemoryCache.get(r,e);if(n&&this._getIsCacheValueValid(n))return n;const a=this._loadFromCache(r);return a&&this._getIsCacheValueValid(a)?(this._inMemoryCache.add(r,a),this._inMemoryCache.get(r,e)):null}setData(t,e){const r=e&&(0,o._normalizeUser)(e,this._options),n=this._getCacheKey(r);this._inMemoryCache.add(n,u("Bootstrap",t,null,r))}_getIsCacheValueValid(t){return null==t.stableID||t.stableID===i.StableID.get(this._getSdkKey())}_getDataAsyncImpl(t,e,r){return n(this,void 0,void 0,function*(){s.Storage.isReady()||(yield s.Storage.isReadyResolver());const n=null!=t?t:this.getDataSync(e),i=[this._fetchAndPrepFromNetwork(n,e,r)];return(null==r?void 0:r.timeoutMs)&&i.push(new Promise(t=>setTimeout(t,r.timeoutMs)).then(()=>(a.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(i)})}_prefetchDataImpl(t,e){return n(this,void 0,void 0,function*(){const r=t&&(0,o._normalizeUser)(t,this._options),n=this._getCacheKey(r),a=yield this._getDataAsyncImpl(null,r,e);a&&this._inMemoryCache.add(n,Object.assign(Object.assign({},a),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(t,e,r){return n(this,void 0,void 0,function*(){var n;const o=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:null,s=null!=t&&this._isCachedResultValidFor204(t,e),c=yield this._fetchFromNetwork(o,e,r,s);if(!c)return a.Log.debug("No response returned for latest value"),null;const d=(0,l._typedJsonParse)(c,"has_updates","Response"),p=this._getSdkKey(),f=i.StableID.get(p);let h=null;if(!0===(null==d?void 0:d.has_updates))h=u("Network",c,f,e);else{if(!o||!1!==(null==d?void 0:d.has_updates))return null;h=u("NetworkNotModified",o,f,e)}const g=this._getCacheKey(e);return this._inMemoryCache.add(g,h),this._writeToCache(g,h),h})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(a.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(t){var e;const r=null===(e=s.Storage.getItem)||void 0===e?void 0:e.call(s.Storage,t);if(null==r)return null;const n=(0,l._typedJsonParse)(r,"source","Cached Result");return n?Object.assign(Object.assign({},n),{source:"Cache"}):null}_writeToCache(t,e){s.Storage.setItem(t,JSON.stringify(e)),this._runLocalStorageCacheEviction(t)}_runLocalStorageCacheEviction(t){var e;const r=null!==(e=(0,s._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==e?e:{};r[t]=Date.now();const n=d(r,10);n&&(delete r[n],s.Storage.removeItem(n)),(0,s._setObjectInStorage)(this._lastModifiedStoreKey,r)}},e._makeDataAdapterResult=u;class c{constructor(){this._data={}}get(t,e){var r;const n=this._data[t],i=null==n?void 0:n.stableID,o=null===(r=null==e?void 0:e.customIDs)||void 0===r?void 0:r.stableID;return o&&i&&o!==i?(a.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):n}add(t,e){const r=d(this._data,9);r&&delete this._data[r],this._data[t]=e}merge(t){this._data=Object.assign(Object.assign({},this._data),t)}}function d(t,e){const r=Object.keys(t);return r.length<=e?null:r.reduce((e,r)=>{const n=t[e],a=t[r];return"object"==typeof n&&"object"==typeof a?a.receivedAt<n.receivedAt?r:e:a<n?r:e})}},5694:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._resolveDeltasResponse=void 0;const n=r(6978);function a(t,e){null==t||t.forEach(t=>{delete e[t]})}e._resolveDeltasResponse=function(t,e){const r=(0,n._typedJsonParse)(e,"checksum","DeltasEvaluationResponse");if(!r)return{hadBadDeltaChecksum:!0};const i=function(t){const e=t;return a(t.deleted_gates,e.feature_gates),delete e.deleted_gates,a(t.deleted_configs,e.dynamic_configs),delete e.deleted_configs,a(t.deleted_layers,e.layer_configs),delete e.deleted_layers,e}(function(t,e){return Object.assign(Object.assign(Object.assign({},t),e),{feature_gates:Object.assign(Object.assign({},t.feature_gates),e.feature_gates),layer_configs:Object.assign(Object.assign({},t.layer_configs),e.layer_configs),dynamic_configs:Object.assign(Object.assign({},t.dynamic_configs),e.dynamic_configs)})}(t,r)),o=(0,n._DJB2Object)({feature_gates:i.feature_gates,dynamic_configs:i.dynamic_configs,layer_configs:i.layer_configs},2);return o===r.checksumV2?JSON.stringify(i):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:i,badFullResponse:r.deltas_full_response}}},5747:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDKFlags=void 0;const r={};e.SDKFlags={setFlags:(t,e)=>{r[t]=e},get:(t,e)=>{var n,a;return null!==(a=null===(n=r[t])||void 0===n?void 0:n[e])&&void 0!==a&&a}}},5749:(t,e,r)=>{var n=r(1042);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},5861:(t,e,r)=>{var n=r(5580),a=r(8223),i=r(2804),o=r(6545),s=r(8303),l=r(2552),u=r(7473),c="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",g=u(n),v=u(a),m=u(i),y=u(o),b=u(s),_=l;(n&&_(new n(new ArrayBuffer(1)))!=h||a&&_(new a)!=c||i&&_(i.resolve())!=d||o&&_(new o)!=p||s&&_(new s)!=f)&&(_=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case g:return h;case v:return c;case m:return d;case y:return p;case b:return f}return e}),t.exports=_},5869:(t,e,r)=>{var n=r(887);t.exports=function(t,e,r,a,i){var o=n(t,e,r,a,i);return o.next().then(function(t){return t.done?t.value:o.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},5911:(t,e,r)=>{var n=r(8859),a=r(4248),i=r(9219);t.exports=function(t,e,r,o,s,l){var u=1&r,c=t.length,d=e.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(t),f=l.get(e);if(p&&f)return p==e&&f==t;var h=-1,g=!0,v=2&r?new n:void 0;for(l.set(t,e),l.set(e,t);++h<c;){var m=t[h],y=e[h];if(o)var b=u?o(y,m,h,e,t,l):o(m,y,h,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!a(e,function(t,e){if(!i(v,e)&&(m===t||s(m,t,r,o,l)))return v.push(e)})){g=!1;break}}else if(m!==y&&!s(m,y,r,o,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},5950:(t,e,r)=>{var n=r(695),a=r(8984),i=r(4894);t.exports=function(t){return i(t)?n(t):a(t)}},6009:(t,e,r)=>{t=r.nmd(t);var n=r(4840),a=e&&!e.nodeType&&e,i=a&&t&&!t.nodeType&&t,o=i&&i.exports===a&&n.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},6025:(t,e,r)=>{var n=r(5288);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},6110:(t,e,r)=>{var n=r(5083),a=r(392);t.exports=function(t,e){var r=a(t,e);return n(r)?r:void 0}},6263:(t,e,r)=>{"use strict";var n=r(4915);Object.keys(n).forEach(function(t){n[t.toUpperCase()]=1});var a={};function i(t){return!(!t||!a[t.nodeName])}function o(t){return"PRE"===t.nodeName}function s(t){return!(!t||!n[t.nodeName])}function l(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function u(t,e,r){return t&&t.parentNode===e||r(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}r(1308).forEach(function(t){a[t.toUpperCase()]=1}),t.exports=function(t,e,r){if(t.firstChild&&"PRE"!==t.nodeName){"function"!=typeof e&&(e=i),"function"!=typeof r&&(r=o);for(var n=null,a=!1,c=null,d=u(c,t,r);d!==t;){if(3===d.nodeType||4===d.nodeType){var p=d.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||a||" "!==p[0]||(p=p.substr(1)),!p){d=l(d);continue}d.data=p,n=d}else{if(1!==d.nodeType){d=l(d);continue}e(d)||"BR"===d.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,a=!1):s(d)&&(n=null,a=!0)}var f=u(c,d,r);c=d,d=f}n&&(n.data=n.data.replace(/ $/,""),n.data||l(n))}}},6272:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._fastApproxSizeOf=void 0;e._fastApproxSizeOf=(t,r)=>{let n=0;const a=Object.keys(t);for(let i=0;i<a.length;i++){const o=a[i],s=t[o];if(n+=o.length,n+="object"==typeof s&&null!==s?(0,e._fastApproxSizeOf)(s,r)+2:String(s).length+1,n>=r)return n}return n}},6449:t=>{var e=Array.isArray;t.exports=e},6512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigMetadataProvider=e.SDK_VERSION=void 0,e.SDK_VERSION="3.21.1";let r={sdkVersion:e.SDK_VERSION,sdkType:"js-mono"};e.StatsigMetadataProvider={get:()=>r,add:t=>{r=Object.assign(Object.assign({},r),t)}}},6545:(t,e,r)=>{var n=r(6110)(r(9325),"Set");t.exports=n},6721:(t,e,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(e,t)?e[t]:void 0}},6913:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6978:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Log=e.EventLogger=e.Diagnostics=void 0,r(3509);const i=r(3509),o=r(882);Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return o.Diagnostics}});const s=r(5434);Object.defineProperty(e,"EventLogger",{enumerable:!0,get:function(){return s.EventLogger}});const l=r(8024);Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return l.Log}});const u=r(6512),c=r(1638);Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return c.Storage}}),a(r(3509),e),a(r(4681),e),a(r(8683),e),a(r(5638),e),a(r(882),e),a(r(4387),e),a(r(4358),e),a(r(3194),e),a(r(6913),e),a(r(3918),e),a(r(7061),e),a(r(8024),e),a(r(843),e),a(r(2610),e),a(r(4703),e),a(r(2509),e),a(r(5025),e),a(r(414),e),a(r(686),e),a(r(9839),e),a(r(6272),e),a(r(2626),e),a(r(4351),e),a(r(1180),e),a(r(2166),e),a(r(7253),e),a(r(6512),e),a(r(7754),e),a(r(8474),e),a(r(9851),e),a(r(9652),e),a(r(1570),e),a(r(1638),e),a(r(3705),e),a(r(10),e),a(r(8873),e),a(r(7047),e),a(r(2701),e),a(r(1148),e),a(r(5747),e),Object.assign((0,i._getStatsigGlobal)(),{Log:l.Log,SDK_VERSION:u.SDK_VERSION})},6993:(t,e,r)=>{var n=r(5546);function a(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var e,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.toStringTag||"@@toStringTag";function l(t,a,i,o){var s=a&&a.prototype instanceof c?a:c,l=Object.create(s.prototype);return n(l,"_invoke",function(t,n,a){var i,o,s,l=0,c=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,o=0,s=e,p.n=r,u}};function f(t,n){for(o=t,s=n,r=0;!d&&l&&!a&&r<c.length;r++){var a,i=c[r],f=p.p,h=i[2];t>3?(a=h===n)&&(s=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=f&&((a=t<2&&f<i[1])?(o=0,p.v=n,p.n=i[1]):f<h&&(a=t<3||i[0]>n||n>h)&&(i[4]=t,i[5]=n,p.n=h,o=0))}if(a||t>1)return u;throw d=!0,n}return function(a,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&f(c,h),o=c,s=h;(r=o<2?e:s)||!d;){i||(o?o<3?(o>1&&(p.n=-1),f(o,s)):p.n=s:p.v=s);try{if(l=2,i){if(o||(a="next"),r=i[a]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,o<2&&(o=0)}else 1===o&&(r=i.return)&&r.call(i),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=e}else if((r=(d=p.n<0)?s:t.call(n,p))!==u)break}catch(t){i=e,o=1,s=t}finally{l=1}}return{value:r,done:d}}}(t,i,o),!0),l}var u={};function c(){}function d(){}function p(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(n(r={},o,function(){return this}),r),h=p.prototype=c.prototype=Object.create(f);function g(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,n(t,s,"GeneratorFunction")),t.prototype=Object.create(h),t}return d.prototype=p,n(h,"constructor",p),n(p,"constructor",d),d.displayName="GeneratorFunction",n(p,s,"GeneratorFunction"),n(h),n(h,s,"Generator"),n(h,o,function(){return this}),n(h,"toString",function(){return"[object Generator]"}),(t.exports=a=function(){return{w:l,m:g}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},7047:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUUID=void 0,e.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let t=(new Date).getTime(),e="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,r=>{let n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===r?n:7&n|8).toString(16)})}},7061:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},7068:(t,e,r)=>{var n=r(7217),a=r(5911),i=r(1986),o=r(689),s=r(5861),l=r(6449),u=r(3656),c=r(7167),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,g,v,m){var y=l(t),b=l(e),_=y?p:s(t),k=b?p:s(e),O=(_=_==d?f:_)==f,x=(k=k==d?f:k)==f,w=_==k;if(w&&u(t)){if(!u(e))return!1;y=!0,O=!1}if(w&&!O)return m||(m=new n),y||c(t)?a(t,e,r,g,v,m):i(t,e,_,r,g,v,m);if(!(1&r)){var E=O&&h.call(t,"__wrapped__"),D=x&&h.call(e,"__wrapped__");if(E||D){var A=E?t.value():t,C=D?e.value():e;return m||(m=new n),v(A,C,r,g,m)}}return!!w&&(m||(m=new n),o(t,e,r,g,v,m))}},7167:(t,e,r)=>{var n=r(4901),a=r(7301),i=r(6009),o=i&&i.isTypedArray,s=o?a(o):n;t.exports=s},7217:(t,e,r)=>{var n=r(79),a=r(1420),i=r(938),o=r(3605),s=r(9817),l=r(945);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,t.exports=u},7253:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._createLayerParameterExposure=e._createConfigExposure=e._mapExposures=e._createGateExposure=e._isExposureEvent=void 0;const r="statsig::config_exposure",n="statsig::gate_exposure",a="statsig::layer_exposure",i=(t,e,r,n,a)=>(r.bootstrapMetadata&&(n.bootstrapMetadata=r.bootstrapMetadata),{eventName:t,user:e,value:null,metadata:s(r,n),secondaryExposures:a,time:Date.now()});e._isExposureEvent=({eventName:t})=>t===n||t===r||t===a;function o(t,e){return t.map(t=>"string"==typeof t?(null!=e?e:{})[t]:t).filter(t=>null!=t)}e._createGateExposure=(t,e,r)=>{var a,s,l;const u={gate:e.name,gateValue:String(e.value),ruleID:e.ruleID};return null!=(null===(a=e.__evaluation)||void 0===a?void 0:a.version)&&(u.configVersion=e.__evaluation.version),i(n,t,e.details,u,o(null!==(l=null===(s=e.__evaluation)||void 0===s?void 0:s.secondary_exposures)&&void 0!==l?l:[],r))},e._mapExposures=o;e._createConfigExposure=(t,e,n)=>{var a,s,l,u;const c={config:e.name,ruleID:e.ruleID};return null!=(null===(a=e.__evaluation)||void 0===a?void 0:a.version)&&(c.configVersion=e.__evaluation.version),null!=(null===(s=e.__evaluation)||void 0===s?void 0:s.passed)&&(c.rulePassed=String(e.__evaluation.passed)),i(r,t,e.details,c,o(null!==(u=null===(l=e.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==u?u:[],n))};e._createLayerParameterExposure=(t,e,r,n)=>{var s,l,u,c,d,p,f;const h=e.__evaluation,g=!0===(null===(s=null==h?void 0:h.explicit_parameters)||void 0===s?void 0:s.includes(r));let v="",m=null!==(l=null==h?void 0:h.undelegated_secondary_exposures)&&void 0!==l?l:[];g&&(v=null!==(u=h.allocated_experiment_name)&&void 0!==u?u:"",m=null!==(c=h.secondary_exposures)&&void 0!==c?c:[]);const y=null===(d=e.__evaluation)||void 0===d?void 0:d.parameter_rule_ids,b={config:e.name,parameterName:r,ruleID:null!==(p=null==y?void 0:y[r])&&void 0!==p?p:e.ruleID,allocatedExperiment:v,isExplicitParameter:String(g)};return null!=(null===(f=e.__evaluation)||void 0===f?void 0:f.version)&&(b.configVersion=e.__evaluation.version),i(a,t,e.details,b,o(m,n))};const s=(t,e)=>(e.reason=t.reason,t.lcut&&(e.lcut=String(t.lcut)),t.receivedAt&&(e.receivedAt=String(t.receivedAt)),e)},7296:(t,e,r)=>{var n,a=r(5481),i=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},7301:t=>{t.exports=function(t){return function(e){return t(e)}}},7473:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7534:(t,e,r)=>{var n=r(2552),a=r(346);t.exports=function(t){return a(t)&&"[object Arguments]"==n(t)}},7670:(t,e,r)=>{var n=r(2651);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},7677:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(6978);e.default=class{constructor(t){this._sdkKey=t,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,n._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(t,e){var r;if(!t)return!1;const a=(0,n._typedJsonParse)(t.data,"has_updates","EvaluationResponse");return null!=a&&(this._source=t.source,!0!==(null==a?void 0:a.has_updates)||(this._rawValues=t.data,this._lcut=a.time,this._receivedAt=t.receivedAt,this._values=a,this._bootstrapMetadata=this._extractBootstrapMetadata(t.source,a),t.source&&a.user&&this._setWarningState(e,a),n.SDKFlags.setFlags(this._sdkKey,null!==(r=a.sdk_flags)&&void 0!==r?r:{})),!0)}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.feature_gates,t)}getConfig(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.dynamic_configs,t)}getConfigList(){var t;return(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs)?Object.values(this._values.dynamic_configs).map(t=>t.name):[]}getLayer(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.layer_configs,t)}getParamStore(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.param_stores,t)}getSource(){return this._source}getExposureMapping(){var t;return null===(t=this._values)||void 0===t?void 0:t.exposures}_extractBootstrapMetadata(t,e){if("Bootstrap"!==t)return null;const r={};return e.user&&(r.user=e.user),e.sdkInfo&&(r.generatorSDKInfo=e.sdkInfo),r.lcut=e.time,r}_getDetailedStoreResult(t,e){let r=null;return t&&(r=t[e]?t[e]:t[(0,n._DJB2)(e)]),{result:r,details:this._getDetails(null==r)}}_setWarningState(t,e){var r,a;const i=n.StableID.get(this._sdkKey);if((null===(r=t.customIDs)||void 0===r?void 0:r.stableID)===i||!(null===(a=t.customIDs)||void 0===a?void 0:a.stableID)&&!i){if("user"in e){const r=e.user,a=Object.assign(Object.assign({},t),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,n._getFullUserHash)(a)!==(0,n._getFullUserHash)(r)&&this._warnings.add("PartialUserMatch")}}else this._warnings.add("StableIDMismatch")}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const t={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(t.warnings=Array.from(this._warnings)),t}_getDetails(t){var e,r;const n=this.getCurrentSourceDetails();let a=n.reason;const i=null!==(e=n.warnings)&&void 0!==e?e:[];if("Bootstrap"===this._source&&i.length>0&&(a+=i[0]),"Uninitialized"!==a&&"NoValues"!==a){a=`${a}:${t?"Unrecognized":"Recognized"}`}const o="Bootstrap"===this._source&&null!==(r=this._bootstrapMetadata)&&void 0!==r?r:void 0;return o&&(n.bootstrapMetadata=o),Object.assign(Object.assign({},n),{reason:a})}}},7686:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(a,i){function o(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(o,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=r(6978),i=r(7677),o=r(2944),s=r(9999),l=r(2451);class u extends a.StatsigClientBase{static instance(t){const e=(0,a._getStatsigGlobal)().instance(t);return e instanceof u?e:(a.Log.warn((0,a._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=t?t:"",{}))}constructor(t,e,r=null){var n,s;a.SDKType._setClientType(t,"javascript-client");const u=new o.default(r,t=>{this.$emt(t)});super(t,null!==(n=null==r?void 0:r.dataAdapter)&&void 0!==n?n:new l.StatsigEvaluationsDataAdapter,u,r),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(a.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(a.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(a.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(a.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(a.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(a.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new i.default(t),this._network=u,this._user=this._configureUser(e,r),this._sdkInstanceID=(0,a.getUUID)();const c=null!==(s=null==r?void 0:r.plugins)&&void 0!==s?s:[];for(const t of c)t.bind(this)}initializeSync(t){var e;return"Uninitialized"!==this.loadingStatus?(0,a.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(e=this._store.getWarnings())&&void 0!==e?e:[]]):(this._logger.start(),this.updateUserSync(this._user,t))}initializeAsync(t){return n(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(t)),this._initializePromise})}updateUserSync(t,e){const r=performance.now();try{return this._updateUserSyncImpl(t,e,r)}catch(t){const e=t instanceof Error?t:new Error(String(t));return this._createErrorUpdateDetails(e,r)}}_updateUserSyncImpl(t,e,r){var n;const i=[...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]];this._resetForUser(t);const o=this.dataAdapter.getDataSync(this._user);null==o&&i.push("NoCachedValues"),this._store.setValues(o,this._user),this._finalizeUpdate(o);const s=null==e?void 0:e.disableBackgroundCacheRefresh;return!0===s||null==s&&"Bootstrap"===(null==o?void 0:o.source)||this._runPostUpdate(null!=o?o:null,this._user),(0,a.createUpdateDetails)(!0,this._store.getSource(),performance.now()-r,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),i)}updateUserAsync(t,e){return n(this,void 0,void 0,function*(){const r=performance.now();try{return yield this._updateUserAsyncImpl(t,e)}catch(t){const e=t instanceof Error?t:new Error(String(t));return this._createErrorUpdateDetails(e,r)}})}_updateUserAsyncImpl(t,e){return n(this,void 0,void 0,function*(){this._resetForUser(t);const r=this._user;a.Diagnostics._markInitOverallStart(this._sdkKey);let n=this.dataAdapter.getDataSync(r);if(this._store.setValues(n,this._user),this._setStatus("Loading",n),n=yield this.dataAdapter.getDataAsync(n,r,e),r!==this._user)return(0,a.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let i=!1;null!=n&&(a.Diagnostics._markInitProcessStart(this._sdkKey),i=this._store.setValues(n,this._user),a.Diagnostics._markInitProcessEnd(this._sdkKey,{success:i})),this._finalizeUpdate(n),i||(this._errorBoundary.attachErrorIfNoneExists(a.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),a.Diagnostics._markInitOverallEnd(this._sdkKey,i,this._store.getCurrentSourceDetails());const o=a.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,a.createUpdateDetails)(i,this._store.getSource(),o,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:a.StatsigSession.get(this._sdkKey),stableID:a.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(t,e){return this.getFeatureGate(t,e).value}logEvent(t,e,r){const n="string"==typeof t?{eventName:t,value:e,metadata:r}:t;this.$emt({name:"log_event_called",event:n}),this._logger.enqueue(Object.assign(Object.assign({},n),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(t){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:t}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(t){return n(this,void 0,void 0,function*(){return a.Storage.isReady()||(yield a.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,t)})}_createErrorUpdateDetails(t,e){var r;return(0,a.createUpdateDetails)(!1,this._store.getSource(),performance.now()-e,t,null,[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]])}_finalizeUpdate(t){this._store.finalize(),this._setStatus("Ready",t)}_runPostUpdate(t,e){this.dataAdapter.getDataAsync(t,e,{priority:"low"}).catch(t=>{a.Log.error("An error occurred after update.",t)})}_resetForUser(t){this._logger.reset(),this._store.reset(),this._user=this._configureUser(t,this._options)}_configureUser(t,e){var r;const n=(0,a._normalizeUser)(t,e),i=null===(r=n.customIDs)||void 0===r?void 0:r.stableID;return i&&a.StableID.setOverride(i,this._sdkKey),n.analyticsOnlyMetadata=Object.assign(Object.assign({},n.analyticsOnlyMetadata),this._possibleFirstTouchMetadata),n}_getFeatureGateImpl(t,e){var r,n;const{result:i,details:o}=this._store.getGate(t),s=(0,a._makeFeatureGate)(t,o,i),l=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getGateOverride)||void 0===n?void 0:n.call(r,s,this._user,e),u=null!=l?l:s;return this._enqueueExposure(t,(0,a._createGateExposure)(this._user,u,this._store.getExposureMapping()),e),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(t,e){var r,n;const{result:i,details:o}=this._store.getConfig(t),s=(0,a._makeDynamicConfig)(t,o,i),l=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getDynamicConfigOverride)||void 0===n?void 0:n.call(r,s,this._user,e),u=null!=l?l:s;return this._enqueueExposure(t,(0,a._createConfigExposure)(this._user,u,this._store.getExposureMapping()),e),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(t,e){var r,n,i,o;const{result:s,details:l}=this._store.getConfig(t),u=(0,a._makeExperiment)(t,l,s);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,a._mapExposures)(null!==(n=null===(r=u.__evaluation)||void 0===r?void 0:r.secondary_exposures)&&void 0!==n?n:[],this._store.getExposureMapping()));const c=null===(o=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getExperimentOverride)||void 0===o?void 0:o.call(i,u,this._user,e),d=null!=c?c:u;return this._enqueueExposure(t,(0,a._createConfigExposure)(this._user,d,this._store.getExposureMapping()),e),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(t,e){var r,n,i;const{result:o,details:s}=this._store.getLayer(t),l=(0,a._makeLayer)(t,s,o),u=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getLayerOverride)||void 0===n?void 0:n.call(r,l,this._user,e);(null==e?void 0:e.disableExposureLog)&&this._logger.incrementNonExposureCount(t);const c=(0,a._mergeOverride)(l,u,null!==(i=null==u?void 0:u.__value)&&void 0!==i?i:l.__value,r=>{(null==e?void 0:e.disableExposureLog)||this._enqueueExposure(t,(0,a._createLayerParameterExposure)(this._user,c,r,this._store.getExposureMapping()),e)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(t,e){var r,n;const{result:a,details:i}=this._store.getParamStore(t);this._logger.incrementNonExposureCount(t);const o={name:t,details:i,__configuration:a,get:(0,s._makeParamStoreGetter)(this,a,e)},l=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.getParamStoreOverride)||void 0===n?void 0:n.call(r,o,e);return null!=l&&(o.__configuration=l.config,o.details=l.details,o.get=(0,s._makeParamStoreGetter)(this,l.config,e)),o}}e.default=u},7754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggingEnabledOption=e.LogEventCompressionMode=void 0,e.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},e.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"}},7828:(t,e,r)=>{var n=r(9325).Uint8Array;t.exports=n},8024:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Log=e.LogLevel=void 0;e.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class r{static info(...t){r.level,e.LogLevel.Info}static debug(...t){r.level,e.LogLevel.Debug}static warn(...t){r.level,e.LogLevel.Warn}static error(...t){r.level,e.LogLevel.Error}}e.Log=r,r.level=e.LogLevel.Warn},8096:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},8223:(t,e,r)=>{var n=r(6110)(r(9325),"Map");t.exports=n},8303:(t,e,r)=>{var n=r(6110)(r(9325),"WeakMap");t.exports=n},8474:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8655:(t,e,r)=>{var n=r(6025);t.exports=function(t){return n(this.__data__,t)>-1}},8683:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8859:(t,e,r)=>{var n=r(3661),a=r(1380),i=r(1459);function o(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,t.exports=o},8873:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlConfiguration=void 0;const n=r(3918),a=r(2610),i={[a.Endpoint._initialize]:"i",[a.Endpoint._rgstr]:"e",[a.Endpoint._download_config_specs]:"d"};e.UrlConfiguration=class{constructor(t,e,r,n){this.customUrl=null,this.fallbackUrls=null,this.endpoint=t,this.endpointDnsKey=i[t],e&&(this.customUrl=e),!e&&r&&(this.customUrl=r.endsWith("/")?`${r}${t}`:`${r}/${t}`),n&&(this.fallbackUrls=n);const o=a.NetworkDefault[t];this.defaultUrl=`${o}/${t}`}getUrl(){var t;return null!==(t=this.customUrl)&&void 0!==t?t:this.defaultUrl}getChecksum(){var t;const e=(null!==(t=this.fallbackUrls)&&void 0!==t?t:[]).sort().join(",");return(0,n._DJB2)(this.customUrl+e)}}},8915:t=>{t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},8984:(t,e,r)=>{var n=r(5527),a=r(3650),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},9001:t=>{t.exports=/[\0-\x1F\x7F-\x9F]/},9219:t=>{t.exports=function(t,e){return t.has(e)}},9325:(t,e,r)=>{var n=r(4840),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();t.exports=i},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9652:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},9770:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}},9817:t=>{t.exports=function(t){return this.__data__.has(t)}},9839:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigSession=e.SessionID=void 0;const n=r(3509),a=r(4681),i=r(8024),o=r(1638),s=r(7047),l=18e5,u=144e5,c={};function d(t,e){return setTimeout(()=>{var e;const r=null===(e=(0,n._getStatsigGlobal)())||void 0===e?void 0:e.instance(t);r&&r.$emt({name:"session_expired"})},e)}function p(t){return`statsig.session_id.${(0,a._getStorageKey)(t)}`}e.SessionID={get:t=>e.StatsigSession.get(t).data.sessionID},e.StatsigSession={get:t=>{null==c[t]&&(c[t]=function(t){let e=function(t){const e=p(t);return(0,o._getObjectFromStorage)(e)}(t);const r=Date.now();e||(e={sessionID:(0,s.getUUID)(),startTime:r,lastUpdate:r});return{data:e,sdkKey:t}}(t));return function(t){const e=Date.now(),r=t.data,n=t.sdkKey;if(function({lastUpdate:t}){return Date.now()-t>l}(r)||function({startTime:t}){return Date.now()-t>u}(r)){r.sessionID=(0,s.getUUID)(),r.startTime=e;const t=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(n);t&&t.$emt({name:"session_expired"})}r.lastUpdate=e,function(t,e){const r=p(e);try{(0,o._setObjectInStorage)(r,t)}catch(t){i.Log.warn("Failed to save SessionID")}}(r,t.sdkKey),clearTimeout(t.idleTimeoutID),clearTimeout(t.ageTimeoutID);const a=e-r.startTime;return t.idleTimeoutID=d(n,l),t.ageTimeoutID=d(n,u-a),t}(c[t])},overrideInitialSessionID:(t,e)=>{c[e]=function(t,e){const r=Date.now();return{data:{sessionID:t,startTime:r,lastUpdate:r},sdkKey:e}}(t,e)}}},9851:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._makeTypedGet=e._mergeOverride=e._makeLayer=e._makeExperiment=e._makeDynamicConfig=e._makeFeatureGate=void 0;const n=r(8024),a=r(10);function i(t,e,r,n){var a;return{name:t,details:e,ruleID:null!==(a=null==r?void 0:r.rule_id)&&void 0!==a?a:"",__evaluation:r,value:n}}function o(t,e,r){var n;const a=null!==(n=null==r?void 0:r.value)&&void 0!==n?n:{};return Object.assign(Object.assign({},i(t,e,r,a)),{get:s(t,null==r?void 0:r.value)})}function s(t,e,r){return(i,o)=>{var s;const l=null!==(s=null==e?void 0:e[i])&&void 0!==s?s:null;return null==l?null!=o?o:null:null==o||(0,a._isTypeMatch)(l,o)?(null==r||r(i),l):(n.Log.warn(`Parameter type mismatch. '${t}.${i}' was found to be type '${typeof l}' but fallback/return type is '${typeof o}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=o?o:null)}}e._makeFeatureGate=function(t,e,r){var n;return Object.assign(Object.assign({},i(t,e,r,!0===(null==r?void 0:r.value))),{idType:null!==(n=null==r?void 0:r.id_type)&&void 0!==n?n:null})},e._makeDynamicConfig=o,e._makeExperiment=function(t,e,r){var n;const a=o(t,e,r);return Object.assign(Object.assign({},a),{groupName:null!==(n=null==r?void 0:r.group_name)&&void 0!==n?n:null})},e._makeLayer=function(t,e,r,n){var a,o;return Object.assign(Object.assign({},i(t,e,r,void 0)),{get:s(t,null==r?void 0:r.value,n),groupName:null!==(a=null==r?void 0:r.group_name)&&void 0!==a?a:null,__value:null!==(o=null==r?void 0:r.value)&&void 0!==o?o:{}})},e._mergeOverride=function(t,e,r,n){return Object.assign(Object.assign(Object.assign({},t),e),{get:s(t.name,r,n)})},e._makeTypedGet=s},9935:t=>{t.exports=function(){return!1}},9999:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._makeParamStoreGetter=void 0;const n=r(6978),a={disableExposureLog:!0};function i(t){return null==t||!1===t.disableExposureLog}function o(t,e){return null!=e&&!(0,n._isTypeMatch)(t,e)}e._makeParamStoreGetter=function(t,e,r){return(s,l)=>{if(null==e)return l;const u=e[s];if(null==u||null!=l&&(0,n._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return function(t){return t.value}(u);case"gate":return function(t,e,r){return t.getFeatureGate(e.gate_name,i(r)?void 0:a).value?e.pass_value:e.fail_value}(t,u,r);case"dynamic_config":return function(t,e,r,n){const s=t.getDynamicConfig(e.config_name,i(n)?void 0:a).get(e.param_name);return o(s,r)?r:s}(t,u,l,r);case"experiment":return function(t,e,r,n){const s=t.getExperiment(e.experiment_name,i(n)?void 0:a).get(e.param_name);return o(s,r)?r:s}(t,u,l,r);case"layer":return function(t,e,r,n){const s=t.getLayer(e.layer_name,i(n)?void 0:a).get(e.param_name);return o(s,r)?r:s}(t,u,l,r);default:return l}}}}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.amdO={},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);a.r(i);var o={};t=t||[null,e({}),e([]),e(e)];for(var s=2&n&&r;("object"==typeof s||"function"==typeof s)&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach(t=>o[t]=()=>r[t]);return o.default=()=>r,a.d(i,o),i},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i=a(2077);return i=i.default})());